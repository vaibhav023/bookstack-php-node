{
  "version": 3,
  "sources": ["../../node_modules/entities/lib/maps/entities.json", "../../node_modules/markdown-it/lib/common/entities.js", "../../node_modules/uc.micro/categories/P/regex.js", "../../node_modules/mdurl/encode.js", "../../node_modules/mdurl/decode.js", "../../node_modules/mdurl/format.js", "../../node_modules/mdurl/parse.js", "../../node_modules/mdurl/index.js", "../../node_modules/uc.micro/properties/Any/regex.js", "../../node_modules/uc.micro/categories/Cc/regex.js", "../../node_modules/uc.micro/categories/Cf/regex.js", "../../node_modules/uc.micro/categories/Z/regex.js", "../../node_modules/uc.micro/index.js", "../../node_modules/markdown-it/lib/common/utils.js", "../../node_modules/markdown-it/lib/helpers/parse_link_label.js", "../../node_modules/markdown-it/lib/helpers/parse_link_destination.js", "../../node_modules/markdown-it/lib/helpers/parse_link_title.js", "../../node_modules/markdown-it/lib/helpers/index.js", "../../node_modules/markdown-it/lib/renderer.js", "../../node_modules/markdown-it/lib/ruler.js", "../../node_modules/markdown-it/lib/rules_core/normalize.js", "../../node_modules/markdown-it/lib/rules_core/block.js", "../../node_modules/markdown-it/lib/rules_core/inline.js", "../../node_modules/markdown-it/lib/rules_core/linkify.js", "../../node_modules/markdown-it/lib/rules_core/replacements.js", "../../node_modules/markdown-it/lib/rules_core/smartquotes.js", "../../node_modules/markdown-it/lib/rules_core/text_join.js", "../../node_modules/markdown-it/lib/token.js", "../../node_modules/markdown-it/lib/rules_core/state_core.js", "../../node_modules/markdown-it/lib/parser_core.js", "../../node_modules/markdown-it/lib/rules_block/table.js", "../../node_modules/markdown-it/lib/rules_block/code.js", "../../node_modules/markdown-it/lib/rules_block/fence.js", "../../node_modules/markdown-it/lib/rules_block/blockquote.js", "../../node_modules/markdown-it/lib/rules_block/hr.js", "../../node_modules/markdown-it/lib/rules_block/list.js", "../../node_modules/markdown-it/lib/rules_block/reference.js", "../../node_modules/markdown-it/lib/common/html_blocks.js", "../../node_modules/markdown-it/lib/common/html_re.js", "../../node_modules/markdown-it/lib/rules_block/html_block.js", "../../node_modules/markdown-it/lib/rules_block/heading.js", "../../node_modules/markdown-it/lib/rules_block/lheading.js", "../../node_modules/markdown-it/lib/rules_block/paragraph.js", "../../node_modules/markdown-it/lib/rules_block/state_block.js", "../../node_modules/markdown-it/lib/parser_block.js", "../../node_modules/markdown-it/lib/rules_inline/text.js", "../../node_modules/markdown-it/lib/rules_inline/linkify.js", "../../node_modules/markdown-it/lib/rules_inline/newline.js", "../../node_modules/markdown-it/lib/rules_inline/escape.js", "../../node_modules/markdown-it/lib/rules_inline/backticks.js", "../../node_modules/markdown-it/lib/rules_inline/strikethrough.js", "../../node_modules/markdown-it/lib/rules_inline/emphasis.js", "../../node_modules/markdown-it/lib/rules_inline/link.js", "../../node_modules/markdown-it/lib/rules_inline/image.js", "../../node_modules/markdown-it/lib/rules_inline/autolink.js", "../../node_modules/markdown-it/lib/rules_inline/html_inline.js", "../../node_modules/markdown-it/lib/rules_inline/entity.js", "../../node_modules/markdown-it/lib/rules_inline/balance_pairs.js", "../../node_modules/markdown-it/lib/rules_inline/fragments_join.js", "../../node_modules/markdown-it/lib/rules_inline/state_inline.js", "../../node_modules/markdown-it/lib/parser_inline.js", "../../node_modules/linkify-it/lib/re.js", "../../node_modules/linkify-it/index.js", "../../node_modules/punycode/punycode.es6.js", "../../node_modules/markdown-it/lib/presets/default.js", "../../node_modules/markdown-it/lib/presets/zero.js", "../../node_modules/markdown-it/lib/presets/commonmark.js", "../../node_modules/markdown-it/lib/index.js", "../../node_modules/markdown-it/index.js", "../../node_modules/markdown-it-task-lists/index.js", "../../resources/js/services/events.js", "../../resources/js/services/http.js", "../../resources/js/services/translations.js", "../../resources/js/services/components.js", "../../resources/js/services/text.js", "../../resources/js/components/index.js", "../../resources/js/services/dom.js", "../../resources/js/services/util.js", "../../resources/js/components/component.js", "../../resources/js/components/add-remove-rows.js", "../../resources/js/components/ajax-delete-row.js", "../../resources/js/components/ajax-form.js", "../../resources/js/components/attachments.js", "../../resources/js/components/attachments-list.js", "../../resources/js/services/keyboard-navigation.js", "../../resources/js/components/auto-suggest.js", "../../resources/js/components/auto-submit.js", "../../resources/js/components/back-to-top.js", "../../node_modules/sortablejs/modular/sortable.esm.js", "../../resources/js/components/book-sort.js", "../../resources/js/services/animations.js", "../../resources/js/components/chapter-contents.js", "../../resources/js/components/code-editor.js", "../../resources/js/components/code-highlighter.js", "../../resources/js/components/code-textarea.js", "../../resources/js/components/collapsible.js", "../../resources/js/components/confirm-dialog.js", "../../resources/js/components/custom-checkbox.js", "../../resources/js/components/details-highlighter.js", "../../resources/js/components/dropdown.js", "../../resources/js/components/dropdown-search.js", "../../resources/js/services/clipboard.js", "../../resources/js/components/dropzone.js", "../../resources/js/components/editor-toolbox.js", "../../resources/js/components/entity-permissions.js", "../../resources/js/components/entity-search.js", "../../resources/js/components/entity-selector.js", "../../resources/js/components/entity-selector-popup.js", "../../resources/js/components/event-emit-select.js", "../../resources/js/components/expand-toggle.js", "../../resources/js/components/global-search.js", "../../resources/js/components/header-mobile-toggle.js", "../../resources/js/components/image-manager.js", "../../resources/js/components/image-picker.js", "../../resources/js/components/list-sort-control.js", "../../resources/js/markdown/markdown.js", "../../node_modules/snabbdom/src/htmldomapi.ts", "../../node_modules/snabbdom/src/vnode.ts", "../../node_modules/snabbdom/src/is.ts", "../../node_modules/snabbdom/src/init.ts", "../../node_modules/snabbdom/src/h.ts", "../../node_modules/snabbdom/src/tovnode.ts", "../../node_modules/snabbdom/src/modules/attributes.ts", "../../resources/js/services/vdom.js", "../../resources/js/markdown/display.js", "../../node_modules/idb-keyval/dist/index.js", "../../resources/js/services/drawio.js", "../../resources/js/markdown/actions.js", "../../resources/js/markdown/settings.js", "../../resources/js/markdown/common-events.js", "../../resources/js/markdown/shortcuts.js", "../../resources/js/markdown/codemirror.js", "../../resources/js/markdown/editor.js", "../../resources/js/components/markdown-editor.js", "../../resources/js/components/new-user-password.js", "../../resources/js/components/notification.js", "../../resources/js/components/optional-input.js", "../../resources/js/components/page-comment.js", "../../resources/js/components/page-comments.js", "../../resources/js/components/page-display.js", "../../resources/js/services/dates.js", "../../resources/js/components/page-editor.js", "../../resources/js/components/page-picker.js", "../../resources/js/components/permissions-table.js", "../../resources/js/components/pointer.js", "../../resources/js/components/popup.js", "../../resources/js/components/setting-app-color-scheme.js", "../../resources/js/components/setting-color-picker.js", "../../resources/js/components/setting-homepage-control.js", "../../resources/js/components/shelf-sort.js", "../../resources/js/components/shortcuts.js", "../../resources/js/components/shortcut-input.js", "../../resources/js/components/sortable-list.js", "../../resources/js/components/submit-on-change.js", "../../resources/js/components/tabs.js", "../../resources/js/components/tag-manager.js", "../../resources/js/components/template-manager.js", "../../resources/js/components/toggle-switch.js", "../../resources/js/components/tri-layout.js", "../../resources/js/components/user-select.js", "../../resources/js/components/webhook-events.js", "../../resources/js/wysiwyg/shortcuts.js", "../../resources/js/wysiwyg/common-events.js", "../../resources/js/wysiwyg/scrolling.js", "../../resources/js/wysiwyg/drop-paste-handling.js", "../../resources/js/wysiwyg/toolbars.js", "../../resources/js/wysiwyg/icons.js", "../../resources/js/wysiwyg/filters.js", "../../resources/js/wysiwyg/plugin-codeeditor.js", "../../resources/js/wysiwyg/plugin-drawio.js", "../../resources/js/wysiwyg/plugins-customhr.js", "../../resources/js/wysiwyg/plugins-imagemanager.js", "../../resources/js/wysiwyg/plugins-about.js", "../../resources/js/wysiwyg/util.js", "../../resources/js/wysiwyg/plugins-details.js", "../../resources/js/wysiwyg/plugins-tasklist.js", "../../resources/js/wysiwyg/config.js", "../../resources/js/components/wysiwyg-editor.js", "../../resources/js/app.js"],
  "sourcesContent": ["{\"Aacute\":\"\u00C1\",\"aacute\":\"\u00E1\",\"Abreve\":\"\u0102\",\"abreve\":\"\u0103\",\"ac\":\"\u223E\",\"acd\":\"\u223F\",\"acE\":\"\u223E\u0333\",\"Acirc\":\"\u00C2\",\"acirc\":\"\u00E2\",\"acute\":\"\u00B4\",\"Acy\":\"\u0410\",\"acy\":\"\u0430\",\"AElig\":\"\u00C6\",\"aelig\":\"\u00E6\",\"af\":\"\u2061\",\"Afr\":\"\uD835\uDD04\",\"afr\":\"\uD835\uDD1E\",\"Agrave\":\"\u00C0\",\"agrave\":\"\u00E0\",\"alefsym\":\"\u2135\",\"aleph\":\"\u2135\",\"Alpha\":\"\u0391\",\"alpha\":\"\u03B1\",\"Amacr\":\"\u0100\",\"amacr\":\"\u0101\",\"amalg\":\"\u2A3F\",\"amp\":\"&\",\"AMP\":\"&\",\"andand\":\"\u2A55\",\"And\":\"\u2A53\",\"and\":\"\u2227\",\"andd\":\"\u2A5C\",\"andslope\":\"\u2A58\",\"andv\":\"\u2A5A\",\"ang\":\"\u2220\",\"ange\":\"\u29A4\",\"angle\":\"\u2220\",\"angmsdaa\":\"\u29A8\",\"angmsdab\":\"\u29A9\",\"angmsdac\":\"\u29AA\",\"angmsdad\":\"\u29AB\",\"angmsdae\":\"\u29AC\",\"angmsdaf\":\"\u29AD\",\"angmsdag\":\"\u29AE\",\"angmsdah\":\"\u29AF\",\"angmsd\":\"\u2221\",\"angrt\":\"\u221F\",\"angrtvb\":\"\u22BE\",\"angrtvbd\":\"\u299D\",\"angsph\":\"\u2222\",\"angst\":\"\u00C5\",\"angzarr\":\"\u237C\",\"Aogon\":\"\u0104\",\"aogon\":\"\u0105\",\"Aopf\":\"\uD835\uDD38\",\"aopf\":\"\uD835\uDD52\",\"apacir\":\"\u2A6F\",\"ap\":\"\u2248\",\"apE\":\"\u2A70\",\"ape\":\"\u224A\",\"apid\":\"\u224B\",\"apos\":\"'\",\"ApplyFunction\":\"\u2061\",\"approx\":\"\u2248\",\"approxeq\":\"\u224A\",\"Aring\":\"\u00C5\",\"aring\":\"\u00E5\",\"Ascr\":\"\uD835\uDC9C\",\"ascr\":\"\uD835\uDCB6\",\"Assign\":\"\u2254\",\"ast\":\"*\",\"asymp\":\"\u2248\",\"asympeq\":\"\u224D\",\"Atilde\":\"\u00C3\",\"atilde\":\"\u00E3\",\"Auml\":\"\u00C4\",\"auml\":\"\u00E4\",\"awconint\":\"\u2233\",\"awint\":\"\u2A11\",\"backcong\":\"\u224C\",\"backepsilon\":\"\u03F6\",\"backprime\":\"\u2035\",\"backsim\":\"\u223D\",\"backsimeq\":\"\u22CD\",\"Backslash\":\"\u2216\",\"Barv\":\"\u2AE7\",\"barvee\":\"\u22BD\",\"barwed\":\"\u2305\",\"Barwed\":\"\u2306\",\"barwedge\":\"\u2305\",\"bbrk\":\"\u23B5\",\"bbrktbrk\":\"\u23B6\",\"bcong\":\"\u224C\",\"Bcy\":\"\u0411\",\"bcy\":\"\u0431\",\"bdquo\":\"\u201E\",\"becaus\":\"\u2235\",\"because\":\"\u2235\",\"Because\":\"\u2235\",\"bemptyv\":\"\u29B0\",\"bepsi\":\"\u03F6\",\"bernou\":\"\u212C\",\"Bernoullis\":\"\u212C\",\"Beta\":\"\u0392\",\"beta\":\"\u03B2\",\"beth\":\"\u2136\",\"between\":\"\u226C\",\"Bfr\":\"\uD835\uDD05\",\"bfr\":\"\uD835\uDD1F\",\"bigcap\":\"\u22C2\",\"bigcirc\":\"\u25EF\",\"bigcup\":\"\u22C3\",\"bigodot\":\"\u2A00\",\"bigoplus\":\"\u2A01\",\"bigotimes\":\"\u2A02\",\"bigsqcup\":\"\u2A06\",\"bigstar\":\"\u2605\",\"bigtriangledown\":\"\u25BD\",\"bigtriangleup\":\"\u25B3\",\"biguplus\":\"\u2A04\",\"bigvee\":\"\u22C1\",\"bigwedge\":\"\u22C0\",\"bkarow\":\"\u290D\",\"blacklozenge\":\"\u29EB\",\"blacksquare\":\"\u25AA\",\"blacktriangle\":\"\u25B4\",\"blacktriangledown\":\"\u25BE\",\"blacktriangleleft\":\"\u25C2\",\"blacktriangleright\":\"\u25B8\",\"blank\":\"\u2423\",\"blk12\":\"\u2592\",\"blk14\":\"\u2591\",\"blk34\":\"\u2593\",\"block\":\"\u2588\",\"bne\":\"=\u20E5\",\"bnequiv\":\"\u2261\u20E5\",\"bNot\":\"\u2AED\",\"bnot\":\"\u2310\",\"Bopf\":\"\uD835\uDD39\",\"bopf\":\"\uD835\uDD53\",\"bot\":\"\u22A5\",\"bottom\":\"\u22A5\",\"bowtie\":\"\u22C8\",\"boxbox\":\"\u29C9\",\"boxdl\":\"\u2510\",\"boxdL\":\"\u2555\",\"boxDl\":\"\u2556\",\"boxDL\":\"\u2557\",\"boxdr\":\"\u250C\",\"boxdR\":\"\u2552\",\"boxDr\":\"\u2553\",\"boxDR\":\"\u2554\",\"boxh\":\"\u2500\",\"boxH\":\"\u2550\",\"boxhd\":\"\u252C\",\"boxHd\":\"\u2564\",\"boxhD\":\"\u2565\",\"boxHD\":\"\u2566\",\"boxhu\":\"\u2534\",\"boxHu\":\"\u2567\",\"boxhU\":\"\u2568\",\"boxHU\":\"\u2569\",\"boxminus\":\"\u229F\",\"boxplus\":\"\u229E\",\"boxtimes\":\"\u22A0\",\"boxul\":\"\u2518\",\"boxuL\":\"\u255B\",\"boxUl\":\"\u255C\",\"boxUL\":\"\u255D\",\"boxur\":\"\u2514\",\"boxuR\":\"\u2558\",\"boxUr\":\"\u2559\",\"boxUR\":\"\u255A\",\"boxv\":\"\u2502\",\"boxV\":\"\u2551\",\"boxvh\":\"\u253C\",\"boxvH\":\"\u256A\",\"boxVh\":\"\u256B\",\"boxVH\":\"\u256C\",\"boxvl\":\"\u2524\",\"boxvL\":\"\u2561\",\"boxVl\":\"\u2562\",\"boxVL\":\"\u2563\",\"boxvr\":\"\u251C\",\"boxvR\":\"\u255E\",\"boxVr\":\"\u255F\",\"boxVR\":\"\u2560\",\"bprime\":\"\u2035\",\"breve\":\"\u02D8\",\"Breve\":\"\u02D8\",\"brvbar\":\"\u00A6\",\"bscr\":\"\uD835\uDCB7\",\"Bscr\":\"\u212C\",\"bsemi\":\"\u204F\",\"bsim\":\"\u223D\",\"bsime\":\"\u22CD\",\"bsolb\":\"\u29C5\",\"bsol\":\"\\\\\",\"bsolhsub\":\"\u27C8\",\"bull\":\"\u2022\",\"bullet\":\"\u2022\",\"bump\":\"\u224E\",\"bumpE\":\"\u2AAE\",\"bumpe\":\"\u224F\",\"Bumpeq\":\"\u224E\",\"bumpeq\":\"\u224F\",\"Cacute\":\"\u0106\",\"cacute\":\"\u0107\",\"capand\":\"\u2A44\",\"capbrcup\":\"\u2A49\",\"capcap\":\"\u2A4B\",\"cap\":\"\u2229\",\"Cap\":\"\u22D2\",\"capcup\":\"\u2A47\",\"capdot\":\"\u2A40\",\"CapitalDifferentialD\":\"\u2145\",\"caps\":\"\u2229\uFE00\",\"caret\":\"\u2041\",\"caron\":\"\u02C7\",\"Cayleys\":\"\u212D\",\"ccaps\":\"\u2A4D\",\"Ccaron\":\"\u010C\",\"ccaron\":\"\u010D\",\"Ccedil\":\"\u00C7\",\"ccedil\":\"\u00E7\",\"Ccirc\":\"\u0108\",\"ccirc\":\"\u0109\",\"Cconint\":\"\u2230\",\"ccups\":\"\u2A4C\",\"ccupssm\":\"\u2A50\",\"Cdot\":\"\u010A\",\"cdot\":\"\u010B\",\"cedil\":\"\u00B8\",\"Cedilla\":\"\u00B8\",\"cemptyv\":\"\u29B2\",\"cent\":\"\u00A2\",\"centerdot\":\"\u00B7\",\"CenterDot\":\"\u00B7\",\"cfr\":\"\uD835\uDD20\",\"Cfr\":\"\u212D\",\"CHcy\":\"\u0427\",\"chcy\":\"\u0447\",\"check\":\"\u2713\",\"checkmark\":\"\u2713\",\"Chi\":\"\u03A7\",\"chi\":\"\u03C7\",\"circ\":\"\u02C6\",\"circeq\":\"\u2257\",\"circlearrowleft\":\"\u21BA\",\"circlearrowright\":\"\u21BB\",\"circledast\":\"\u229B\",\"circledcirc\":\"\u229A\",\"circleddash\":\"\u229D\",\"CircleDot\":\"\u2299\",\"circledR\":\"\u00AE\",\"circledS\":\"\u24C8\",\"CircleMinus\":\"\u2296\",\"CirclePlus\":\"\u2295\",\"CircleTimes\":\"\u2297\",\"cir\":\"\u25CB\",\"cirE\":\"\u29C3\",\"cire\":\"\u2257\",\"cirfnint\":\"\u2A10\",\"cirmid\":\"\u2AEF\",\"cirscir\":\"\u29C2\",\"ClockwiseContourIntegral\":\"\u2232\",\"CloseCurlyDoubleQuote\":\"\u201D\",\"CloseCurlyQuote\":\"\u2019\",\"clubs\":\"\u2663\",\"clubsuit\":\"\u2663\",\"colon\":\":\",\"Colon\":\"\u2237\",\"Colone\":\"\u2A74\",\"colone\":\"\u2254\",\"coloneq\":\"\u2254\",\"comma\":\",\",\"commat\":\"@\",\"comp\":\"\u2201\",\"compfn\":\"\u2218\",\"complement\":\"\u2201\",\"complexes\":\"\u2102\",\"cong\":\"\u2245\",\"congdot\":\"\u2A6D\",\"Congruent\":\"\u2261\",\"conint\":\"\u222E\",\"Conint\":\"\u222F\",\"ContourIntegral\":\"\u222E\",\"copf\":\"\uD835\uDD54\",\"Copf\":\"\u2102\",\"coprod\":\"\u2210\",\"Coproduct\":\"\u2210\",\"copy\":\"\u00A9\",\"COPY\":\"\u00A9\",\"copysr\":\"\u2117\",\"CounterClockwiseContourIntegral\":\"\u2233\",\"crarr\":\"\u21B5\",\"cross\":\"\u2717\",\"Cross\":\"\u2A2F\",\"Cscr\":\"\uD835\uDC9E\",\"cscr\":\"\uD835\uDCB8\",\"csub\":\"\u2ACF\",\"csube\":\"\u2AD1\",\"csup\":\"\u2AD0\",\"csupe\":\"\u2AD2\",\"ctdot\":\"\u22EF\",\"cudarrl\":\"\u2938\",\"cudarrr\":\"\u2935\",\"cuepr\":\"\u22DE\",\"cuesc\":\"\u22DF\",\"cularr\":\"\u21B6\",\"cularrp\":\"\u293D\",\"cupbrcap\":\"\u2A48\",\"cupcap\":\"\u2A46\",\"CupCap\":\"\u224D\",\"cup\":\"\u222A\",\"Cup\":\"\u22D3\",\"cupcup\":\"\u2A4A\",\"cupdot\":\"\u228D\",\"cupor\":\"\u2A45\",\"cups\":\"\u222A\uFE00\",\"curarr\":\"\u21B7\",\"curarrm\":\"\u293C\",\"curlyeqprec\":\"\u22DE\",\"curlyeqsucc\":\"\u22DF\",\"curlyvee\":\"\u22CE\",\"curlywedge\":\"\u22CF\",\"curren\":\"\u00A4\",\"curvearrowleft\":\"\u21B6\",\"curvearrowright\":\"\u21B7\",\"cuvee\":\"\u22CE\",\"cuwed\":\"\u22CF\",\"cwconint\":\"\u2232\",\"cwint\":\"\u2231\",\"cylcty\":\"\u232D\",\"dagger\":\"\u2020\",\"Dagger\":\"\u2021\",\"daleth\":\"\u2138\",\"darr\":\"\u2193\",\"Darr\":\"\u21A1\",\"dArr\":\"\u21D3\",\"dash\":\"\u2010\",\"Dashv\":\"\u2AE4\",\"dashv\":\"\u22A3\",\"dbkarow\":\"\u290F\",\"dblac\":\"\u02DD\",\"Dcaron\":\"\u010E\",\"dcaron\":\"\u010F\",\"Dcy\":\"\u0414\",\"dcy\":\"\u0434\",\"ddagger\":\"\u2021\",\"ddarr\":\"\u21CA\",\"DD\":\"\u2145\",\"dd\":\"\u2146\",\"DDotrahd\":\"\u2911\",\"ddotseq\":\"\u2A77\",\"deg\":\"\u00B0\",\"Del\":\"\u2207\",\"Delta\":\"\u0394\",\"delta\":\"\u03B4\",\"demptyv\":\"\u29B1\",\"dfisht\":\"\u297F\",\"Dfr\":\"\uD835\uDD07\",\"dfr\":\"\uD835\uDD21\",\"dHar\":\"\u2965\",\"dharl\":\"\u21C3\",\"dharr\":\"\u21C2\",\"DiacriticalAcute\":\"\u00B4\",\"DiacriticalDot\":\"\u02D9\",\"DiacriticalDoubleAcute\":\"\u02DD\",\"DiacriticalGrave\":\"`\",\"DiacriticalTilde\":\"\u02DC\",\"diam\":\"\u22C4\",\"diamond\":\"\u22C4\",\"Diamond\":\"\u22C4\",\"diamondsuit\":\"\u2666\",\"diams\":\"\u2666\",\"die\":\"\u00A8\",\"DifferentialD\":\"\u2146\",\"digamma\":\"\u03DD\",\"disin\":\"\u22F2\",\"div\":\"\u00F7\",\"divide\":\"\u00F7\",\"divideontimes\":\"\u22C7\",\"divonx\":\"\u22C7\",\"DJcy\":\"\u0402\",\"djcy\":\"\u0452\",\"dlcorn\":\"\u231E\",\"dlcrop\":\"\u230D\",\"dollar\":\"$\",\"Dopf\":\"\uD835\uDD3B\",\"dopf\":\"\uD835\uDD55\",\"Dot\":\"\u00A8\",\"dot\":\"\u02D9\",\"DotDot\":\"\u20DC\",\"doteq\":\"\u2250\",\"doteqdot\":\"\u2251\",\"DotEqual\":\"\u2250\",\"dotminus\":\"\u2238\",\"dotplus\":\"\u2214\",\"dotsquare\":\"\u22A1\",\"doublebarwedge\":\"\u2306\",\"DoubleContourIntegral\":\"\u222F\",\"DoubleDot\":\"\u00A8\",\"DoubleDownArrow\":\"\u21D3\",\"DoubleLeftArrow\":\"\u21D0\",\"DoubleLeftRightArrow\":\"\u21D4\",\"DoubleLeftTee\":\"\u2AE4\",\"DoubleLongLeftArrow\":\"\u27F8\",\"DoubleLongLeftRightArrow\":\"\u27FA\",\"DoubleLongRightArrow\":\"\u27F9\",\"DoubleRightArrow\":\"\u21D2\",\"DoubleRightTee\":\"\u22A8\",\"DoubleUpArrow\":\"\u21D1\",\"DoubleUpDownArrow\":\"\u21D5\",\"DoubleVerticalBar\":\"\u2225\",\"DownArrowBar\":\"\u2913\",\"downarrow\":\"\u2193\",\"DownArrow\":\"\u2193\",\"Downarrow\":\"\u21D3\",\"DownArrowUpArrow\":\"\u21F5\",\"DownBreve\":\"\u0311\",\"downdownarrows\":\"\u21CA\",\"downharpoonleft\":\"\u21C3\",\"downharpoonright\":\"\u21C2\",\"DownLeftRightVector\":\"\u2950\",\"DownLeftTeeVector\":\"\u295E\",\"DownLeftVectorBar\":\"\u2956\",\"DownLeftVector\":\"\u21BD\",\"DownRightTeeVector\":\"\u295F\",\"DownRightVectorBar\":\"\u2957\",\"DownRightVector\":\"\u21C1\",\"DownTeeArrow\":\"\u21A7\",\"DownTee\":\"\u22A4\",\"drbkarow\":\"\u2910\",\"drcorn\":\"\u231F\",\"drcrop\":\"\u230C\",\"Dscr\":\"\uD835\uDC9F\",\"dscr\":\"\uD835\uDCB9\",\"DScy\":\"\u0405\",\"dscy\":\"\u0455\",\"dsol\":\"\u29F6\",\"Dstrok\":\"\u0110\",\"dstrok\":\"\u0111\",\"dtdot\":\"\u22F1\",\"dtri\":\"\u25BF\",\"dtrif\":\"\u25BE\",\"duarr\":\"\u21F5\",\"duhar\":\"\u296F\",\"dwangle\":\"\u29A6\",\"DZcy\":\"\u040F\",\"dzcy\":\"\u045F\",\"dzigrarr\":\"\u27FF\",\"Eacute\":\"\u00C9\",\"eacute\":\"\u00E9\",\"easter\":\"\u2A6E\",\"Ecaron\":\"\u011A\",\"ecaron\":\"\u011B\",\"Ecirc\":\"\u00CA\",\"ecirc\":\"\u00EA\",\"ecir\":\"\u2256\",\"ecolon\":\"\u2255\",\"Ecy\":\"\u042D\",\"ecy\":\"\u044D\",\"eDDot\":\"\u2A77\",\"Edot\":\"\u0116\",\"edot\":\"\u0117\",\"eDot\":\"\u2251\",\"ee\":\"\u2147\",\"efDot\":\"\u2252\",\"Efr\":\"\uD835\uDD08\",\"efr\":\"\uD835\uDD22\",\"eg\":\"\u2A9A\",\"Egrave\":\"\u00C8\",\"egrave\":\"\u00E8\",\"egs\":\"\u2A96\",\"egsdot\":\"\u2A98\",\"el\":\"\u2A99\",\"Element\":\"\u2208\",\"elinters\":\"\u23E7\",\"ell\":\"\u2113\",\"els\":\"\u2A95\",\"elsdot\":\"\u2A97\",\"Emacr\":\"\u0112\",\"emacr\":\"\u0113\",\"empty\":\"\u2205\",\"emptyset\":\"\u2205\",\"EmptySmallSquare\":\"\u25FB\",\"emptyv\":\"\u2205\",\"EmptyVerySmallSquare\":\"\u25AB\",\"emsp13\":\"\u2004\",\"emsp14\":\"\u2005\",\"emsp\":\"\u2003\",\"ENG\":\"\u014A\",\"eng\":\"\u014B\",\"ensp\":\"\u2002\",\"Eogon\":\"\u0118\",\"eogon\":\"\u0119\",\"Eopf\":\"\uD835\uDD3C\",\"eopf\":\"\uD835\uDD56\",\"epar\":\"\u22D5\",\"eparsl\":\"\u29E3\",\"eplus\":\"\u2A71\",\"epsi\":\"\u03B5\",\"Epsilon\":\"\u0395\",\"epsilon\":\"\u03B5\",\"epsiv\":\"\u03F5\",\"eqcirc\":\"\u2256\",\"eqcolon\":\"\u2255\",\"eqsim\":\"\u2242\",\"eqslantgtr\":\"\u2A96\",\"eqslantless\":\"\u2A95\",\"Equal\":\"\u2A75\",\"equals\":\"=\",\"EqualTilde\":\"\u2242\",\"equest\":\"\u225F\",\"Equilibrium\":\"\u21CC\",\"equiv\":\"\u2261\",\"equivDD\":\"\u2A78\",\"eqvparsl\":\"\u29E5\",\"erarr\":\"\u2971\",\"erDot\":\"\u2253\",\"escr\":\"\u212F\",\"Escr\":\"\u2130\",\"esdot\":\"\u2250\",\"Esim\":\"\u2A73\",\"esim\":\"\u2242\",\"Eta\":\"\u0397\",\"eta\":\"\u03B7\",\"ETH\":\"\u00D0\",\"eth\":\"\u00F0\",\"Euml\":\"\u00CB\",\"euml\":\"\u00EB\",\"euro\":\"\u20AC\",\"excl\":\"!\",\"exist\":\"\u2203\",\"Exists\":\"\u2203\",\"expectation\":\"\u2130\",\"exponentiale\":\"\u2147\",\"ExponentialE\":\"\u2147\",\"fallingdotseq\":\"\u2252\",\"Fcy\":\"\u0424\",\"fcy\":\"\u0444\",\"female\":\"\u2640\",\"ffilig\":\"\uFB03\",\"fflig\":\"\uFB00\",\"ffllig\":\"\uFB04\",\"Ffr\":\"\uD835\uDD09\",\"ffr\":\"\uD835\uDD23\",\"filig\":\"\uFB01\",\"FilledSmallSquare\":\"\u25FC\",\"FilledVerySmallSquare\":\"\u25AA\",\"fjlig\":\"fj\",\"flat\":\"\u266D\",\"fllig\":\"\uFB02\",\"fltns\":\"\u25B1\",\"fnof\":\"\u0192\",\"Fopf\":\"\uD835\uDD3D\",\"fopf\":\"\uD835\uDD57\",\"forall\":\"\u2200\",\"ForAll\":\"\u2200\",\"fork\":\"\u22D4\",\"forkv\":\"\u2AD9\",\"Fouriertrf\":\"\u2131\",\"fpartint\":\"\u2A0D\",\"frac12\":\"\u00BD\",\"frac13\":\"\u2153\",\"frac14\":\"\u00BC\",\"frac15\":\"\u2155\",\"frac16\":\"\u2159\",\"frac18\":\"\u215B\",\"frac23\":\"\u2154\",\"frac25\":\"\u2156\",\"frac34\":\"\u00BE\",\"frac35\":\"\u2157\",\"frac38\":\"\u215C\",\"frac45\":\"\u2158\",\"frac56\":\"\u215A\",\"frac58\":\"\u215D\",\"frac78\":\"\u215E\",\"frasl\":\"\u2044\",\"frown\":\"\u2322\",\"fscr\":\"\uD835\uDCBB\",\"Fscr\":\"\u2131\",\"gacute\":\"\u01F5\",\"Gamma\":\"\u0393\",\"gamma\":\"\u03B3\",\"Gammad\":\"\u03DC\",\"gammad\":\"\u03DD\",\"gap\":\"\u2A86\",\"Gbreve\":\"\u011E\",\"gbreve\":\"\u011F\",\"Gcedil\":\"\u0122\",\"Gcirc\":\"\u011C\",\"gcirc\":\"\u011D\",\"Gcy\":\"\u0413\",\"gcy\":\"\u0433\",\"Gdot\":\"\u0120\",\"gdot\":\"\u0121\",\"ge\":\"\u2265\",\"gE\":\"\u2267\",\"gEl\":\"\u2A8C\",\"gel\":\"\u22DB\",\"geq\":\"\u2265\",\"geqq\":\"\u2267\",\"geqslant\":\"\u2A7E\",\"gescc\":\"\u2AA9\",\"ges\":\"\u2A7E\",\"gesdot\":\"\u2A80\",\"gesdoto\":\"\u2A82\",\"gesdotol\":\"\u2A84\",\"gesl\":\"\u22DB\uFE00\",\"gesles\":\"\u2A94\",\"Gfr\":\"\uD835\uDD0A\",\"gfr\":\"\uD835\uDD24\",\"gg\":\"\u226B\",\"Gg\":\"\u22D9\",\"ggg\":\"\u22D9\",\"gimel\":\"\u2137\",\"GJcy\":\"\u0403\",\"gjcy\":\"\u0453\",\"gla\":\"\u2AA5\",\"gl\":\"\u2277\",\"glE\":\"\u2A92\",\"glj\":\"\u2AA4\",\"gnap\":\"\u2A8A\",\"gnapprox\":\"\u2A8A\",\"gne\":\"\u2A88\",\"gnE\":\"\u2269\",\"gneq\":\"\u2A88\",\"gneqq\":\"\u2269\",\"gnsim\":\"\u22E7\",\"Gopf\":\"\uD835\uDD3E\",\"gopf\":\"\uD835\uDD58\",\"grave\":\"`\",\"GreaterEqual\":\"\u2265\",\"GreaterEqualLess\":\"\u22DB\",\"GreaterFullEqual\":\"\u2267\",\"GreaterGreater\":\"\u2AA2\",\"GreaterLess\":\"\u2277\",\"GreaterSlantEqual\":\"\u2A7E\",\"GreaterTilde\":\"\u2273\",\"Gscr\":\"\uD835\uDCA2\",\"gscr\":\"\u210A\",\"gsim\":\"\u2273\",\"gsime\":\"\u2A8E\",\"gsiml\":\"\u2A90\",\"gtcc\":\"\u2AA7\",\"gtcir\":\"\u2A7A\",\"gt\":\">\",\"GT\":\">\",\"Gt\":\"\u226B\",\"gtdot\":\"\u22D7\",\"gtlPar\":\"\u2995\",\"gtquest\":\"\u2A7C\",\"gtrapprox\":\"\u2A86\",\"gtrarr\":\"\u2978\",\"gtrdot\":\"\u22D7\",\"gtreqless\":\"\u22DB\",\"gtreqqless\":\"\u2A8C\",\"gtrless\":\"\u2277\",\"gtrsim\":\"\u2273\",\"gvertneqq\":\"\u2269\uFE00\",\"gvnE\":\"\u2269\uFE00\",\"Hacek\":\"\u02C7\",\"hairsp\":\"\u200A\",\"half\":\"\u00BD\",\"hamilt\":\"\u210B\",\"HARDcy\":\"\u042A\",\"hardcy\":\"\u044A\",\"harrcir\":\"\u2948\",\"harr\":\"\u2194\",\"hArr\":\"\u21D4\",\"harrw\":\"\u21AD\",\"Hat\":\"^\",\"hbar\":\"\u210F\",\"Hcirc\":\"\u0124\",\"hcirc\":\"\u0125\",\"hearts\":\"\u2665\",\"heartsuit\":\"\u2665\",\"hellip\":\"\u2026\",\"hercon\":\"\u22B9\",\"hfr\":\"\uD835\uDD25\",\"Hfr\":\"\u210C\",\"HilbertSpace\":\"\u210B\",\"hksearow\":\"\u2925\",\"hkswarow\":\"\u2926\",\"hoarr\":\"\u21FF\",\"homtht\":\"\u223B\",\"hookleftarrow\":\"\u21A9\",\"hookrightarrow\":\"\u21AA\",\"hopf\":\"\uD835\uDD59\",\"Hopf\":\"\u210D\",\"horbar\":\"\u2015\",\"HorizontalLine\":\"\u2500\",\"hscr\":\"\uD835\uDCBD\",\"Hscr\":\"\u210B\",\"hslash\":\"\u210F\",\"Hstrok\":\"\u0126\",\"hstrok\":\"\u0127\",\"HumpDownHump\":\"\u224E\",\"HumpEqual\":\"\u224F\",\"hybull\":\"\u2043\",\"hyphen\":\"\u2010\",\"Iacute\":\"\u00CD\",\"iacute\":\"\u00ED\",\"ic\":\"\u2063\",\"Icirc\":\"\u00CE\",\"icirc\":\"\u00EE\",\"Icy\":\"\u0418\",\"icy\":\"\u0438\",\"Idot\":\"\u0130\",\"IEcy\":\"\u0415\",\"iecy\":\"\u0435\",\"iexcl\":\"\u00A1\",\"iff\":\"\u21D4\",\"ifr\":\"\uD835\uDD26\",\"Ifr\":\"\u2111\",\"Igrave\":\"\u00CC\",\"igrave\":\"\u00EC\",\"ii\":\"\u2148\",\"iiiint\":\"\u2A0C\",\"iiint\":\"\u222D\",\"iinfin\":\"\u29DC\",\"iiota\":\"\u2129\",\"IJlig\":\"\u0132\",\"ijlig\":\"\u0133\",\"Imacr\":\"\u012A\",\"imacr\":\"\u012B\",\"image\":\"\u2111\",\"ImaginaryI\":\"\u2148\",\"imagline\":\"\u2110\",\"imagpart\":\"\u2111\",\"imath\":\"\u0131\",\"Im\":\"\u2111\",\"imof\":\"\u22B7\",\"imped\":\"\u01B5\",\"Implies\":\"\u21D2\",\"incare\":\"\u2105\",\"in\":\"\u2208\",\"infin\":\"\u221E\",\"infintie\":\"\u29DD\",\"inodot\":\"\u0131\",\"intcal\":\"\u22BA\",\"int\":\"\u222B\",\"Int\":\"\u222C\",\"integers\":\"\u2124\",\"Integral\":\"\u222B\",\"intercal\":\"\u22BA\",\"Intersection\":\"\u22C2\",\"intlarhk\":\"\u2A17\",\"intprod\":\"\u2A3C\",\"InvisibleComma\":\"\u2063\",\"InvisibleTimes\":\"\u2062\",\"IOcy\":\"\u0401\",\"iocy\":\"\u0451\",\"Iogon\":\"\u012E\",\"iogon\":\"\u012F\",\"Iopf\":\"\uD835\uDD40\",\"iopf\":\"\uD835\uDD5A\",\"Iota\":\"\u0399\",\"iota\":\"\u03B9\",\"iprod\":\"\u2A3C\",\"iquest\":\"\u00BF\",\"iscr\":\"\uD835\uDCBE\",\"Iscr\":\"\u2110\",\"isin\":\"\u2208\",\"isindot\":\"\u22F5\",\"isinE\":\"\u22F9\",\"isins\":\"\u22F4\",\"isinsv\":\"\u22F3\",\"isinv\":\"\u2208\",\"it\":\"\u2062\",\"Itilde\":\"\u0128\",\"itilde\":\"\u0129\",\"Iukcy\":\"\u0406\",\"iukcy\":\"\u0456\",\"Iuml\":\"\u00CF\",\"iuml\":\"\u00EF\",\"Jcirc\":\"\u0134\",\"jcirc\":\"\u0135\",\"Jcy\":\"\u0419\",\"jcy\":\"\u0439\",\"Jfr\":\"\uD835\uDD0D\",\"jfr\":\"\uD835\uDD27\",\"jmath\":\"\u0237\",\"Jopf\":\"\uD835\uDD41\",\"jopf\":\"\uD835\uDD5B\",\"Jscr\":\"\uD835\uDCA5\",\"jscr\":\"\uD835\uDCBF\",\"Jsercy\":\"\u0408\",\"jsercy\":\"\u0458\",\"Jukcy\":\"\u0404\",\"jukcy\":\"\u0454\",\"Kappa\":\"\u039A\",\"kappa\":\"\u03BA\",\"kappav\":\"\u03F0\",\"Kcedil\":\"\u0136\",\"kcedil\":\"\u0137\",\"Kcy\":\"\u041A\",\"kcy\":\"\u043A\",\"Kfr\":\"\uD835\uDD0E\",\"kfr\":\"\uD835\uDD28\",\"kgreen\":\"\u0138\",\"KHcy\":\"\u0425\",\"khcy\":\"\u0445\",\"KJcy\":\"\u040C\",\"kjcy\":\"\u045C\",\"Kopf\":\"\uD835\uDD42\",\"kopf\":\"\uD835\uDD5C\",\"Kscr\":\"\uD835\uDCA6\",\"kscr\":\"\uD835\uDCC0\",\"lAarr\":\"\u21DA\",\"Lacute\":\"\u0139\",\"lacute\":\"\u013A\",\"laemptyv\":\"\u29B4\",\"lagran\":\"\u2112\",\"Lambda\":\"\u039B\",\"lambda\":\"\u03BB\",\"lang\":\"\u27E8\",\"Lang\":\"\u27EA\",\"langd\":\"\u2991\",\"langle\":\"\u27E8\",\"lap\":\"\u2A85\",\"Laplacetrf\":\"\u2112\",\"laquo\":\"\u00AB\",\"larrb\":\"\u21E4\",\"larrbfs\":\"\u291F\",\"larr\":\"\u2190\",\"Larr\":\"\u219E\",\"lArr\":\"\u21D0\",\"larrfs\":\"\u291D\",\"larrhk\":\"\u21A9\",\"larrlp\":\"\u21AB\",\"larrpl\":\"\u2939\",\"larrsim\":\"\u2973\",\"larrtl\":\"\u21A2\",\"latail\":\"\u2919\",\"lAtail\":\"\u291B\",\"lat\":\"\u2AAB\",\"late\":\"\u2AAD\",\"lates\":\"\u2AAD\uFE00\",\"lbarr\":\"\u290C\",\"lBarr\":\"\u290E\",\"lbbrk\":\"\u2772\",\"lbrace\":\"{\",\"lbrack\":\"[\",\"lbrke\":\"\u298B\",\"lbrksld\":\"\u298F\",\"lbrkslu\":\"\u298D\",\"Lcaron\":\"\u013D\",\"lcaron\":\"\u013E\",\"Lcedil\":\"\u013B\",\"lcedil\":\"\u013C\",\"lceil\":\"\u2308\",\"lcub\":\"{\",\"Lcy\":\"\u041B\",\"lcy\":\"\u043B\",\"ldca\":\"\u2936\",\"ldquo\":\"\u201C\",\"ldquor\":\"\u201E\",\"ldrdhar\":\"\u2967\",\"ldrushar\":\"\u294B\",\"ldsh\":\"\u21B2\",\"le\":\"\u2264\",\"lE\":\"\u2266\",\"LeftAngleBracket\":\"\u27E8\",\"LeftArrowBar\":\"\u21E4\",\"leftarrow\":\"\u2190\",\"LeftArrow\":\"\u2190\",\"Leftarrow\":\"\u21D0\",\"LeftArrowRightArrow\":\"\u21C6\",\"leftarrowtail\":\"\u21A2\",\"LeftCeiling\":\"\u2308\",\"LeftDoubleBracket\":\"\u27E6\",\"LeftDownTeeVector\":\"\u2961\",\"LeftDownVectorBar\":\"\u2959\",\"LeftDownVector\":\"\u21C3\",\"LeftFloor\":\"\u230A\",\"leftharpoondown\":\"\u21BD\",\"leftharpoonup\":\"\u21BC\",\"leftleftarrows\":\"\u21C7\",\"leftrightarrow\":\"\u2194\",\"LeftRightArrow\":\"\u2194\",\"Leftrightarrow\":\"\u21D4\",\"leftrightarrows\":\"\u21C6\",\"leftrightharpoons\":\"\u21CB\",\"leftrightsquigarrow\":\"\u21AD\",\"LeftRightVector\":\"\u294E\",\"LeftTeeArrow\":\"\u21A4\",\"LeftTee\":\"\u22A3\",\"LeftTeeVector\":\"\u295A\",\"leftthreetimes\":\"\u22CB\",\"LeftTriangleBar\":\"\u29CF\",\"LeftTriangle\":\"\u22B2\",\"LeftTriangleEqual\":\"\u22B4\",\"LeftUpDownVector\":\"\u2951\",\"LeftUpTeeVector\":\"\u2960\",\"LeftUpVectorBar\":\"\u2958\",\"LeftUpVector\":\"\u21BF\",\"LeftVectorBar\":\"\u2952\",\"LeftVector\":\"\u21BC\",\"lEg\":\"\u2A8B\",\"leg\":\"\u22DA\",\"leq\":\"\u2264\",\"leqq\":\"\u2266\",\"leqslant\":\"\u2A7D\",\"lescc\":\"\u2AA8\",\"les\":\"\u2A7D\",\"lesdot\":\"\u2A7F\",\"lesdoto\":\"\u2A81\",\"lesdotor\":\"\u2A83\",\"lesg\":\"\u22DA\uFE00\",\"lesges\":\"\u2A93\",\"lessapprox\":\"\u2A85\",\"lessdot\":\"\u22D6\",\"lesseqgtr\":\"\u22DA\",\"lesseqqgtr\":\"\u2A8B\",\"LessEqualGreater\":\"\u22DA\",\"LessFullEqual\":\"\u2266\",\"LessGreater\":\"\u2276\",\"lessgtr\":\"\u2276\",\"LessLess\":\"\u2AA1\",\"lesssim\":\"\u2272\",\"LessSlantEqual\":\"\u2A7D\",\"LessTilde\":\"\u2272\",\"lfisht\":\"\u297C\",\"lfloor\":\"\u230A\",\"Lfr\":\"\uD835\uDD0F\",\"lfr\":\"\uD835\uDD29\",\"lg\":\"\u2276\",\"lgE\":\"\u2A91\",\"lHar\":\"\u2962\",\"lhard\":\"\u21BD\",\"lharu\":\"\u21BC\",\"lharul\":\"\u296A\",\"lhblk\":\"\u2584\",\"LJcy\":\"\u0409\",\"ljcy\":\"\u0459\",\"llarr\":\"\u21C7\",\"ll\":\"\u226A\",\"Ll\":\"\u22D8\",\"llcorner\":\"\u231E\",\"Lleftarrow\":\"\u21DA\",\"llhard\":\"\u296B\",\"lltri\":\"\u25FA\",\"Lmidot\":\"\u013F\",\"lmidot\":\"\u0140\",\"lmoustache\":\"\u23B0\",\"lmoust\":\"\u23B0\",\"lnap\":\"\u2A89\",\"lnapprox\":\"\u2A89\",\"lne\":\"\u2A87\",\"lnE\":\"\u2268\",\"lneq\":\"\u2A87\",\"lneqq\":\"\u2268\",\"lnsim\":\"\u22E6\",\"loang\":\"\u27EC\",\"loarr\":\"\u21FD\",\"lobrk\":\"\u27E6\",\"longleftarrow\":\"\u27F5\",\"LongLeftArrow\":\"\u27F5\",\"Longleftarrow\":\"\u27F8\",\"longleftrightarrow\":\"\u27F7\",\"LongLeftRightArrow\":\"\u27F7\",\"Longleftrightarrow\":\"\u27FA\",\"longmapsto\":\"\u27FC\",\"longrightarrow\":\"\u27F6\",\"LongRightArrow\":\"\u27F6\",\"Longrightarrow\":\"\u27F9\",\"looparrowleft\":\"\u21AB\",\"looparrowright\":\"\u21AC\",\"lopar\":\"\u2985\",\"Lopf\":\"\uD835\uDD43\",\"lopf\":\"\uD835\uDD5D\",\"loplus\":\"\u2A2D\",\"lotimes\":\"\u2A34\",\"lowast\":\"\u2217\",\"lowbar\":\"_\",\"LowerLeftArrow\":\"\u2199\",\"LowerRightArrow\":\"\u2198\",\"loz\":\"\u25CA\",\"lozenge\":\"\u25CA\",\"lozf\":\"\u29EB\",\"lpar\":\"(\",\"lparlt\":\"\u2993\",\"lrarr\":\"\u21C6\",\"lrcorner\":\"\u231F\",\"lrhar\":\"\u21CB\",\"lrhard\":\"\u296D\",\"lrm\":\"\u200E\",\"lrtri\":\"\u22BF\",\"lsaquo\":\"\u2039\",\"lscr\":\"\uD835\uDCC1\",\"Lscr\":\"\u2112\",\"lsh\":\"\u21B0\",\"Lsh\":\"\u21B0\",\"lsim\":\"\u2272\",\"lsime\":\"\u2A8D\",\"lsimg\":\"\u2A8F\",\"lsqb\":\"[\",\"lsquo\":\"\u2018\",\"lsquor\":\"\u201A\",\"Lstrok\":\"\u0141\",\"lstrok\":\"\u0142\",\"ltcc\":\"\u2AA6\",\"ltcir\":\"\u2A79\",\"lt\":\"<\",\"LT\":\"<\",\"Lt\":\"\u226A\",\"ltdot\":\"\u22D6\",\"lthree\":\"\u22CB\",\"ltimes\":\"\u22C9\",\"ltlarr\":\"\u2976\",\"ltquest\":\"\u2A7B\",\"ltri\":\"\u25C3\",\"ltrie\":\"\u22B4\",\"ltrif\":\"\u25C2\",\"ltrPar\":\"\u2996\",\"lurdshar\":\"\u294A\",\"luruhar\":\"\u2966\",\"lvertneqq\":\"\u2268\uFE00\",\"lvnE\":\"\u2268\uFE00\",\"macr\":\"\u00AF\",\"male\":\"\u2642\",\"malt\":\"\u2720\",\"maltese\":\"\u2720\",\"Map\":\"\u2905\",\"map\":\"\u21A6\",\"mapsto\":\"\u21A6\",\"mapstodown\":\"\u21A7\",\"mapstoleft\":\"\u21A4\",\"mapstoup\":\"\u21A5\",\"marker\":\"\u25AE\",\"mcomma\":\"\u2A29\",\"Mcy\":\"\u041C\",\"mcy\":\"\u043C\",\"mdash\":\"\u2014\",\"mDDot\":\"\u223A\",\"measuredangle\":\"\u2221\",\"MediumSpace\":\"\u205F\",\"Mellintrf\":\"\u2133\",\"Mfr\":\"\uD835\uDD10\",\"mfr\":\"\uD835\uDD2A\",\"mho\":\"\u2127\",\"micro\":\"\u00B5\",\"midast\":\"*\",\"midcir\":\"\u2AF0\",\"mid\":\"\u2223\",\"middot\":\"\u00B7\",\"minusb\":\"\u229F\",\"minus\":\"\u2212\",\"minusd\":\"\u2238\",\"minusdu\":\"\u2A2A\",\"MinusPlus\":\"\u2213\",\"mlcp\":\"\u2ADB\",\"mldr\":\"\u2026\",\"mnplus\":\"\u2213\",\"models\":\"\u22A7\",\"Mopf\":\"\uD835\uDD44\",\"mopf\":\"\uD835\uDD5E\",\"mp\":\"\u2213\",\"mscr\":\"\uD835\uDCC2\",\"Mscr\":\"\u2133\",\"mstpos\":\"\u223E\",\"Mu\":\"\u039C\",\"mu\":\"\u03BC\",\"multimap\":\"\u22B8\",\"mumap\":\"\u22B8\",\"nabla\":\"\u2207\",\"Nacute\":\"\u0143\",\"nacute\":\"\u0144\",\"nang\":\"\u2220\u20D2\",\"nap\":\"\u2249\",\"napE\":\"\u2A70\u0338\",\"napid\":\"\u224B\u0338\",\"napos\":\"\u0149\",\"napprox\":\"\u2249\",\"natural\":\"\u266E\",\"naturals\":\"\u2115\",\"natur\":\"\u266E\",\"nbsp\":\"\u00A0\",\"nbump\":\"\u224E\u0338\",\"nbumpe\":\"\u224F\u0338\",\"ncap\":\"\u2A43\",\"Ncaron\":\"\u0147\",\"ncaron\":\"\u0148\",\"Ncedil\":\"\u0145\",\"ncedil\":\"\u0146\",\"ncong\":\"\u2247\",\"ncongdot\":\"\u2A6D\u0338\",\"ncup\":\"\u2A42\",\"Ncy\":\"\u041D\",\"ncy\":\"\u043D\",\"ndash\":\"\u2013\",\"nearhk\":\"\u2924\",\"nearr\":\"\u2197\",\"neArr\":\"\u21D7\",\"nearrow\":\"\u2197\",\"ne\":\"\u2260\",\"nedot\":\"\u2250\u0338\",\"NegativeMediumSpace\":\"\u200B\",\"NegativeThickSpace\":\"\u200B\",\"NegativeThinSpace\":\"\u200B\",\"NegativeVeryThinSpace\":\"\u200B\",\"nequiv\":\"\u2262\",\"nesear\":\"\u2928\",\"nesim\":\"\u2242\u0338\",\"NestedGreaterGreater\":\"\u226B\",\"NestedLessLess\":\"\u226A\",\"NewLine\":\"\\n\",\"nexist\":\"\u2204\",\"nexists\":\"\u2204\",\"Nfr\":\"\uD835\uDD11\",\"nfr\":\"\uD835\uDD2B\",\"ngE\":\"\u2267\u0338\",\"nge\":\"\u2271\",\"ngeq\":\"\u2271\",\"ngeqq\":\"\u2267\u0338\",\"ngeqslant\":\"\u2A7E\u0338\",\"nges\":\"\u2A7E\u0338\",\"nGg\":\"\u22D9\u0338\",\"ngsim\":\"\u2275\",\"nGt\":\"\u226B\u20D2\",\"ngt\":\"\u226F\",\"ngtr\":\"\u226F\",\"nGtv\":\"\u226B\u0338\",\"nharr\":\"\u21AE\",\"nhArr\":\"\u21CE\",\"nhpar\":\"\u2AF2\",\"ni\":\"\u220B\",\"nis\":\"\u22FC\",\"nisd\":\"\u22FA\",\"niv\":\"\u220B\",\"NJcy\":\"\u040A\",\"njcy\":\"\u045A\",\"nlarr\":\"\u219A\",\"nlArr\":\"\u21CD\",\"nldr\":\"\u2025\",\"nlE\":\"\u2266\u0338\",\"nle\":\"\u2270\",\"nleftarrow\":\"\u219A\",\"nLeftarrow\":\"\u21CD\",\"nleftrightarrow\":\"\u21AE\",\"nLeftrightarrow\":\"\u21CE\",\"nleq\":\"\u2270\",\"nleqq\":\"\u2266\u0338\",\"nleqslant\":\"\u2A7D\u0338\",\"nles\":\"\u2A7D\u0338\",\"nless\":\"\u226E\",\"nLl\":\"\u22D8\u0338\",\"nlsim\":\"\u2274\",\"nLt\":\"\u226A\u20D2\",\"nlt\":\"\u226E\",\"nltri\":\"\u22EA\",\"nltrie\":\"\u22EC\",\"nLtv\":\"\u226A\u0338\",\"nmid\":\"\u2224\",\"NoBreak\":\"\u2060\",\"NonBreakingSpace\":\"\u00A0\",\"nopf\":\"\uD835\uDD5F\",\"Nopf\":\"\u2115\",\"Not\":\"\u2AEC\",\"not\":\"\u00AC\",\"NotCongruent\":\"\u2262\",\"NotCupCap\":\"\u226D\",\"NotDoubleVerticalBar\":\"\u2226\",\"NotElement\":\"\u2209\",\"NotEqual\":\"\u2260\",\"NotEqualTilde\":\"\u2242\u0338\",\"NotExists\":\"\u2204\",\"NotGreater\":\"\u226F\",\"NotGreaterEqual\":\"\u2271\",\"NotGreaterFullEqual\":\"\u2267\u0338\",\"NotGreaterGreater\":\"\u226B\u0338\",\"NotGreaterLess\":\"\u2279\",\"NotGreaterSlantEqual\":\"\u2A7E\u0338\",\"NotGreaterTilde\":\"\u2275\",\"NotHumpDownHump\":\"\u224E\u0338\",\"NotHumpEqual\":\"\u224F\u0338\",\"notin\":\"\u2209\",\"notindot\":\"\u22F5\u0338\",\"notinE\":\"\u22F9\u0338\",\"notinva\":\"\u2209\",\"notinvb\":\"\u22F7\",\"notinvc\":\"\u22F6\",\"NotLeftTriangleBar\":\"\u29CF\u0338\",\"NotLeftTriangle\":\"\u22EA\",\"NotLeftTriangleEqual\":\"\u22EC\",\"NotLess\":\"\u226E\",\"NotLessEqual\":\"\u2270\",\"NotLessGreater\":\"\u2278\",\"NotLessLess\":\"\u226A\u0338\",\"NotLessSlantEqual\":\"\u2A7D\u0338\",\"NotLessTilde\":\"\u2274\",\"NotNestedGreaterGreater\":\"\u2AA2\u0338\",\"NotNestedLessLess\":\"\u2AA1\u0338\",\"notni\":\"\u220C\",\"notniva\":\"\u220C\",\"notnivb\":\"\u22FE\",\"notnivc\":\"\u22FD\",\"NotPrecedes\":\"\u2280\",\"NotPrecedesEqual\":\"\u2AAF\u0338\",\"NotPrecedesSlantEqual\":\"\u22E0\",\"NotReverseElement\":\"\u220C\",\"NotRightTriangleBar\":\"\u29D0\u0338\",\"NotRightTriangle\":\"\u22EB\",\"NotRightTriangleEqual\":\"\u22ED\",\"NotSquareSubset\":\"\u228F\u0338\",\"NotSquareSubsetEqual\":\"\u22E2\",\"NotSquareSuperset\":\"\u2290\u0338\",\"NotSquareSupersetEqual\":\"\u22E3\",\"NotSubset\":\"\u2282\u20D2\",\"NotSubsetEqual\":\"\u2288\",\"NotSucceeds\":\"\u2281\",\"NotSucceedsEqual\":\"\u2AB0\u0338\",\"NotSucceedsSlantEqual\":\"\u22E1\",\"NotSucceedsTilde\":\"\u227F\u0338\",\"NotSuperset\":\"\u2283\u20D2\",\"NotSupersetEqual\":\"\u2289\",\"NotTilde\":\"\u2241\",\"NotTildeEqual\":\"\u2244\",\"NotTildeFullEqual\":\"\u2247\",\"NotTildeTilde\":\"\u2249\",\"NotVerticalBar\":\"\u2224\",\"nparallel\":\"\u2226\",\"npar\":\"\u2226\",\"nparsl\":\"\u2AFD\u20E5\",\"npart\":\"\u2202\u0338\",\"npolint\":\"\u2A14\",\"npr\":\"\u2280\",\"nprcue\":\"\u22E0\",\"nprec\":\"\u2280\",\"npreceq\":\"\u2AAF\u0338\",\"npre\":\"\u2AAF\u0338\",\"nrarrc\":\"\u2933\u0338\",\"nrarr\":\"\u219B\",\"nrArr\":\"\u21CF\",\"nrarrw\":\"\u219D\u0338\",\"nrightarrow\":\"\u219B\",\"nRightarrow\":\"\u21CF\",\"nrtri\":\"\u22EB\",\"nrtrie\":\"\u22ED\",\"nsc\":\"\u2281\",\"nsccue\":\"\u22E1\",\"nsce\":\"\u2AB0\u0338\",\"Nscr\":\"\uD835\uDCA9\",\"nscr\":\"\uD835\uDCC3\",\"nshortmid\":\"\u2224\",\"nshortparallel\":\"\u2226\",\"nsim\":\"\u2241\",\"nsime\":\"\u2244\",\"nsimeq\":\"\u2244\",\"nsmid\":\"\u2224\",\"nspar\":\"\u2226\",\"nsqsube\":\"\u22E2\",\"nsqsupe\":\"\u22E3\",\"nsub\":\"\u2284\",\"nsubE\":\"\u2AC5\u0338\",\"nsube\":\"\u2288\",\"nsubset\":\"\u2282\u20D2\",\"nsubseteq\":\"\u2288\",\"nsubseteqq\":\"\u2AC5\u0338\",\"nsucc\":\"\u2281\",\"nsucceq\":\"\u2AB0\u0338\",\"nsup\":\"\u2285\",\"nsupE\":\"\u2AC6\u0338\",\"nsupe\":\"\u2289\",\"nsupset\":\"\u2283\u20D2\",\"nsupseteq\":\"\u2289\",\"nsupseteqq\":\"\u2AC6\u0338\",\"ntgl\":\"\u2279\",\"Ntilde\":\"\u00D1\",\"ntilde\":\"\u00F1\",\"ntlg\":\"\u2278\",\"ntriangleleft\":\"\u22EA\",\"ntrianglelefteq\":\"\u22EC\",\"ntriangleright\":\"\u22EB\",\"ntrianglerighteq\":\"\u22ED\",\"Nu\":\"\u039D\",\"nu\":\"\u03BD\",\"num\":\"#\",\"numero\":\"\u2116\",\"numsp\":\"\u2007\",\"nvap\":\"\u224D\u20D2\",\"nvdash\":\"\u22AC\",\"nvDash\":\"\u22AD\",\"nVdash\":\"\u22AE\",\"nVDash\":\"\u22AF\",\"nvge\":\"\u2265\u20D2\",\"nvgt\":\">\u20D2\",\"nvHarr\":\"\u2904\",\"nvinfin\":\"\u29DE\",\"nvlArr\":\"\u2902\",\"nvle\":\"\u2264\u20D2\",\"nvlt\":\"<\u20D2\",\"nvltrie\":\"\u22B4\u20D2\",\"nvrArr\":\"\u2903\",\"nvrtrie\":\"\u22B5\u20D2\",\"nvsim\":\"\u223C\u20D2\",\"nwarhk\":\"\u2923\",\"nwarr\":\"\u2196\",\"nwArr\":\"\u21D6\",\"nwarrow\":\"\u2196\",\"nwnear\":\"\u2927\",\"Oacute\":\"\u00D3\",\"oacute\":\"\u00F3\",\"oast\":\"\u229B\",\"Ocirc\":\"\u00D4\",\"ocirc\":\"\u00F4\",\"ocir\":\"\u229A\",\"Ocy\":\"\u041E\",\"ocy\":\"\u043E\",\"odash\":\"\u229D\",\"Odblac\":\"\u0150\",\"odblac\":\"\u0151\",\"odiv\":\"\u2A38\",\"odot\":\"\u2299\",\"odsold\":\"\u29BC\",\"OElig\":\"\u0152\",\"oelig\":\"\u0153\",\"ofcir\":\"\u29BF\",\"Ofr\":\"\uD835\uDD12\",\"ofr\":\"\uD835\uDD2C\",\"ogon\":\"\u02DB\",\"Ograve\":\"\u00D2\",\"ograve\":\"\u00F2\",\"ogt\":\"\u29C1\",\"ohbar\":\"\u29B5\",\"ohm\":\"\u03A9\",\"oint\":\"\u222E\",\"olarr\":\"\u21BA\",\"olcir\":\"\u29BE\",\"olcross\":\"\u29BB\",\"oline\":\"\u203E\",\"olt\":\"\u29C0\",\"Omacr\":\"\u014C\",\"omacr\":\"\u014D\",\"Omega\":\"\u03A9\",\"omega\":\"\u03C9\",\"Omicron\":\"\u039F\",\"omicron\":\"\u03BF\",\"omid\":\"\u29B6\",\"ominus\":\"\u2296\",\"Oopf\":\"\uD835\uDD46\",\"oopf\":\"\uD835\uDD60\",\"opar\":\"\u29B7\",\"OpenCurlyDoubleQuote\":\"\u201C\",\"OpenCurlyQuote\":\"\u2018\",\"operp\":\"\u29B9\",\"oplus\":\"\u2295\",\"orarr\":\"\u21BB\",\"Or\":\"\u2A54\",\"or\":\"\u2228\",\"ord\":\"\u2A5D\",\"order\":\"\u2134\",\"orderof\":\"\u2134\",\"ordf\":\"\u00AA\",\"ordm\":\"\u00BA\",\"origof\":\"\u22B6\",\"oror\":\"\u2A56\",\"orslope\":\"\u2A57\",\"orv\":\"\u2A5B\",\"oS\":\"\u24C8\",\"Oscr\":\"\uD835\uDCAA\",\"oscr\":\"\u2134\",\"Oslash\":\"\u00D8\",\"oslash\":\"\u00F8\",\"osol\":\"\u2298\",\"Otilde\":\"\u00D5\",\"otilde\":\"\u00F5\",\"otimesas\":\"\u2A36\",\"Otimes\":\"\u2A37\",\"otimes\":\"\u2297\",\"Ouml\":\"\u00D6\",\"ouml\":\"\u00F6\",\"ovbar\":\"\u233D\",\"OverBar\":\"\u203E\",\"OverBrace\":\"\u23DE\",\"OverBracket\":\"\u23B4\",\"OverParenthesis\":\"\u23DC\",\"para\":\"\u00B6\",\"parallel\":\"\u2225\",\"par\":\"\u2225\",\"parsim\":\"\u2AF3\",\"parsl\":\"\u2AFD\",\"part\":\"\u2202\",\"PartialD\":\"\u2202\",\"Pcy\":\"\u041F\",\"pcy\":\"\u043F\",\"percnt\":\"%\",\"period\":\".\",\"permil\":\"\u2030\",\"perp\":\"\u22A5\",\"pertenk\":\"\u2031\",\"Pfr\":\"\uD835\uDD13\",\"pfr\":\"\uD835\uDD2D\",\"Phi\":\"\u03A6\",\"phi\":\"\u03C6\",\"phiv\":\"\u03D5\",\"phmmat\":\"\u2133\",\"phone\":\"\u260E\",\"Pi\":\"\u03A0\",\"pi\":\"\u03C0\",\"pitchfork\":\"\u22D4\",\"piv\":\"\u03D6\",\"planck\":\"\u210F\",\"planckh\":\"\u210E\",\"plankv\":\"\u210F\",\"plusacir\":\"\u2A23\",\"plusb\":\"\u229E\",\"pluscir\":\"\u2A22\",\"plus\":\"+\",\"plusdo\":\"\u2214\",\"plusdu\":\"\u2A25\",\"pluse\":\"\u2A72\",\"PlusMinus\":\"\u00B1\",\"plusmn\":\"\u00B1\",\"plussim\":\"\u2A26\",\"plustwo\":\"\u2A27\",\"pm\":\"\u00B1\",\"Poincareplane\":\"\u210C\",\"pointint\":\"\u2A15\",\"popf\":\"\uD835\uDD61\",\"Popf\":\"\u2119\",\"pound\":\"\u00A3\",\"prap\":\"\u2AB7\",\"Pr\":\"\u2ABB\",\"pr\":\"\u227A\",\"prcue\":\"\u227C\",\"precapprox\":\"\u2AB7\",\"prec\":\"\u227A\",\"preccurlyeq\":\"\u227C\",\"Precedes\":\"\u227A\",\"PrecedesEqual\":\"\u2AAF\",\"PrecedesSlantEqual\":\"\u227C\",\"PrecedesTilde\":\"\u227E\",\"preceq\":\"\u2AAF\",\"precnapprox\":\"\u2AB9\",\"precneqq\":\"\u2AB5\",\"precnsim\":\"\u22E8\",\"pre\":\"\u2AAF\",\"prE\":\"\u2AB3\",\"precsim\":\"\u227E\",\"prime\":\"\u2032\",\"Prime\":\"\u2033\",\"primes\":\"\u2119\",\"prnap\":\"\u2AB9\",\"prnE\":\"\u2AB5\",\"prnsim\":\"\u22E8\",\"prod\":\"\u220F\",\"Product\":\"\u220F\",\"profalar\":\"\u232E\",\"profline\":\"\u2312\",\"profsurf\":\"\u2313\",\"prop\":\"\u221D\",\"Proportional\":\"\u221D\",\"Proportion\":\"\u2237\",\"propto\":\"\u221D\",\"prsim\":\"\u227E\",\"prurel\":\"\u22B0\",\"Pscr\":\"\uD835\uDCAB\",\"pscr\":\"\uD835\uDCC5\",\"Psi\":\"\u03A8\",\"psi\":\"\u03C8\",\"puncsp\":\"\u2008\",\"Qfr\":\"\uD835\uDD14\",\"qfr\":\"\uD835\uDD2E\",\"qint\":\"\u2A0C\",\"qopf\":\"\uD835\uDD62\",\"Qopf\":\"\u211A\",\"qprime\":\"\u2057\",\"Qscr\":\"\uD835\uDCAC\",\"qscr\":\"\uD835\uDCC6\",\"quaternions\":\"\u210D\",\"quatint\":\"\u2A16\",\"quest\":\"?\",\"questeq\":\"\u225F\",\"quot\":\"\\\"\",\"QUOT\":\"\\\"\",\"rAarr\":\"\u21DB\",\"race\":\"\u223D\u0331\",\"Racute\":\"\u0154\",\"racute\":\"\u0155\",\"radic\":\"\u221A\",\"raemptyv\":\"\u29B3\",\"rang\":\"\u27E9\",\"Rang\":\"\u27EB\",\"rangd\":\"\u2992\",\"range\":\"\u29A5\",\"rangle\":\"\u27E9\",\"raquo\":\"\u00BB\",\"rarrap\":\"\u2975\",\"rarrb\":\"\u21E5\",\"rarrbfs\":\"\u2920\",\"rarrc\":\"\u2933\",\"rarr\":\"\u2192\",\"Rarr\":\"\u21A0\",\"rArr\":\"\u21D2\",\"rarrfs\":\"\u291E\",\"rarrhk\":\"\u21AA\",\"rarrlp\":\"\u21AC\",\"rarrpl\":\"\u2945\",\"rarrsim\":\"\u2974\",\"Rarrtl\":\"\u2916\",\"rarrtl\":\"\u21A3\",\"rarrw\":\"\u219D\",\"ratail\":\"\u291A\",\"rAtail\":\"\u291C\",\"ratio\":\"\u2236\",\"rationals\":\"\u211A\",\"rbarr\":\"\u290D\",\"rBarr\":\"\u290F\",\"RBarr\":\"\u2910\",\"rbbrk\":\"\u2773\",\"rbrace\":\"}\",\"rbrack\":\"]\",\"rbrke\":\"\u298C\",\"rbrksld\":\"\u298E\",\"rbrkslu\":\"\u2990\",\"Rcaron\":\"\u0158\",\"rcaron\":\"\u0159\",\"Rcedil\":\"\u0156\",\"rcedil\":\"\u0157\",\"rceil\":\"\u2309\",\"rcub\":\"}\",\"Rcy\":\"\u0420\",\"rcy\":\"\u0440\",\"rdca\":\"\u2937\",\"rdldhar\":\"\u2969\",\"rdquo\":\"\u201D\",\"rdquor\":\"\u201D\",\"rdsh\":\"\u21B3\",\"real\":\"\u211C\",\"realine\":\"\u211B\",\"realpart\":\"\u211C\",\"reals\":\"\u211D\",\"Re\":\"\u211C\",\"rect\":\"\u25AD\",\"reg\":\"\u00AE\",\"REG\":\"\u00AE\",\"ReverseElement\":\"\u220B\",\"ReverseEquilibrium\":\"\u21CB\",\"ReverseUpEquilibrium\":\"\u296F\",\"rfisht\":\"\u297D\",\"rfloor\":\"\u230B\",\"rfr\":\"\uD835\uDD2F\",\"Rfr\":\"\u211C\",\"rHar\":\"\u2964\",\"rhard\":\"\u21C1\",\"rharu\":\"\u21C0\",\"rharul\":\"\u296C\",\"Rho\":\"\u03A1\",\"rho\":\"\u03C1\",\"rhov\":\"\u03F1\",\"RightAngleBracket\":\"\u27E9\",\"RightArrowBar\":\"\u21E5\",\"rightarrow\":\"\u2192\",\"RightArrow\":\"\u2192\",\"Rightarrow\":\"\u21D2\",\"RightArrowLeftArrow\":\"\u21C4\",\"rightarrowtail\":\"\u21A3\",\"RightCeiling\":\"\u2309\",\"RightDoubleBracket\":\"\u27E7\",\"RightDownTeeVector\":\"\u295D\",\"RightDownVectorBar\":\"\u2955\",\"RightDownVector\":\"\u21C2\",\"RightFloor\":\"\u230B\",\"rightharpoondown\":\"\u21C1\",\"rightharpoonup\":\"\u21C0\",\"rightleftarrows\":\"\u21C4\",\"rightleftharpoons\":\"\u21CC\",\"rightrightarrows\":\"\u21C9\",\"rightsquigarrow\":\"\u219D\",\"RightTeeArrow\":\"\u21A6\",\"RightTee\":\"\u22A2\",\"RightTeeVector\":\"\u295B\",\"rightthreetimes\":\"\u22CC\",\"RightTriangleBar\":\"\u29D0\",\"RightTriangle\":\"\u22B3\",\"RightTriangleEqual\":\"\u22B5\",\"RightUpDownVector\":\"\u294F\",\"RightUpTeeVector\":\"\u295C\",\"RightUpVectorBar\":\"\u2954\",\"RightUpVector\":\"\u21BE\",\"RightVectorBar\":\"\u2953\",\"RightVector\":\"\u21C0\",\"ring\":\"\u02DA\",\"risingdotseq\":\"\u2253\",\"rlarr\":\"\u21C4\",\"rlhar\":\"\u21CC\",\"rlm\":\"\u200F\",\"rmoustache\":\"\u23B1\",\"rmoust\":\"\u23B1\",\"rnmid\":\"\u2AEE\",\"roang\":\"\u27ED\",\"roarr\":\"\u21FE\",\"robrk\":\"\u27E7\",\"ropar\":\"\u2986\",\"ropf\":\"\uD835\uDD63\",\"Ropf\":\"\u211D\",\"roplus\":\"\u2A2E\",\"rotimes\":\"\u2A35\",\"RoundImplies\":\"\u2970\",\"rpar\":\")\",\"rpargt\":\"\u2994\",\"rppolint\":\"\u2A12\",\"rrarr\":\"\u21C9\",\"Rrightarrow\":\"\u21DB\",\"rsaquo\":\"\u203A\",\"rscr\":\"\uD835\uDCC7\",\"Rscr\":\"\u211B\",\"rsh\":\"\u21B1\",\"Rsh\":\"\u21B1\",\"rsqb\":\"]\",\"rsquo\":\"\u2019\",\"rsquor\":\"\u2019\",\"rthree\":\"\u22CC\",\"rtimes\":\"\u22CA\",\"rtri\":\"\u25B9\",\"rtrie\":\"\u22B5\",\"rtrif\":\"\u25B8\",\"rtriltri\":\"\u29CE\",\"RuleDelayed\":\"\u29F4\",\"ruluhar\":\"\u2968\",\"rx\":\"\u211E\",\"Sacute\":\"\u015A\",\"sacute\":\"\u015B\",\"sbquo\":\"\u201A\",\"scap\":\"\u2AB8\",\"Scaron\":\"\u0160\",\"scaron\":\"\u0161\",\"Sc\":\"\u2ABC\",\"sc\":\"\u227B\",\"sccue\":\"\u227D\",\"sce\":\"\u2AB0\",\"scE\":\"\u2AB4\",\"Scedil\":\"\u015E\",\"scedil\":\"\u015F\",\"Scirc\":\"\u015C\",\"scirc\":\"\u015D\",\"scnap\":\"\u2ABA\",\"scnE\":\"\u2AB6\",\"scnsim\":\"\u22E9\",\"scpolint\":\"\u2A13\",\"scsim\":\"\u227F\",\"Scy\":\"\u0421\",\"scy\":\"\u0441\",\"sdotb\":\"\u22A1\",\"sdot\":\"\u22C5\",\"sdote\":\"\u2A66\",\"searhk\":\"\u2925\",\"searr\":\"\u2198\",\"seArr\":\"\u21D8\",\"searrow\":\"\u2198\",\"sect\":\"\u00A7\",\"semi\":\";\",\"seswar\":\"\u2929\",\"setminus\":\"\u2216\",\"setmn\":\"\u2216\",\"sext\":\"\u2736\",\"Sfr\":\"\uD835\uDD16\",\"sfr\":\"\uD835\uDD30\",\"sfrown\":\"\u2322\",\"sharp\":\"\u266F\",\"SHCHcy\":\"\u0429\",\"shchcy\":\"\u0449\",\"SHcy\":\"\u0428\",\"shcy\":\"\u0448\",\"ShortDownArrow\":\"\u2193\",\"ShortLeftArrow\":\"\u2190\",\"shortmid\":\"\u2223\",\"shortparallel\":\"\u2225\",\"ShortRightArrow\":\"\u2192\",\"ShortUpArrow\":\"\u2191\",\"shy\":\"\u00AD\",\"Sigma\":\"\u03A3\",\"sigma\":\"\u03C3\",\"sigmaf\":\"\u03C2\",\"sigmav\":\"\u03C2\",\"sim\":\"\u223C\",\"simdot\":\"\u2A6A\",\"sime\":\"\u2243\",\"simeq\":\"\u2243\",\"simg\":\"\u2A9E\",\"simgE\":\"\u2AA0\",\"siml\":\"\u2A9D\",\"simlE\":\"\u2A9F\",\"simne\":\"\u2246\",\"simplus\":\"\u2A24\",\"simrarr\":\"\u2972\",\"slarr\":\"\u2190\",\"SmallCircle\":\"\u2218\",\"smallsetminus\":\"\u2216\",\"smashp\":\"\u2A33\",\"smeparsl\":\"\u29E4\",\"smid\":\"\u2223\",\"smile\":\"\u2323\",\"smt\":\"\u2AAA\",\"smte\":\"\u2AAC\",\"smtes\":\"\u2AAC\uFE00\",\"SOFTcy\":\"\u042C\",\"softcy\":\"\u044C\",\"solbar\":\"\u233F\",\"solb\":\"\u29C4\",\"sol\":\"/\",\"Sopf\":\"\uD835\uDD4A\",\"sopf\":\"\uD835\uDD64\",\"spades\":\"\u2660\",\"spadesuit\":\"\u2660\",\"spar\":\"\u2225\",\"sqcap\":\"\u2293\",\"sqcaps\":\"\u2293\uFE00\",\"sqcup\":\"\u2294\",\"sqcups\":\"\u2294\uFE00\",\"Sqrt\":\"\u221A\",\"sqsub\":\"\u228F\",\"sqsube\":\"\u2291\",\"sqsubset\":\"\u228F\",\"sqsubseteq\":\"\u2291\",\"sqsup\":\"\u2290\",\"sqsupe\":\"\u2292\",\"sqsupset\":\"\u2290\",\"sqsupseteq\":\"\u2292\",\"square\":\"\u25A1\",\"Square\":\"\u25A1\",\"SquareIntersection\":\"\u2293\",\"SquareSubset\":\"\u228F\",\"SquareSubsetEqual\":\"\u2291\",\"SquareSuperset\":\"\u2290\",\"SquareSupersetEqual\":\"\u2292\",\"SquareUnion\":\"\u2294\",\"squarf\":\"\u25AA\",\"squ\":\"\u25A1\",\"squf\":\"\u25AA\",\"srarr\":\"\u2192\",\"Sscr\":\"\uD835\uDCAE\",\"sscr\":\"\uD835\uDCC8\",\"ssetmn\":\"\u2216\",\"ssmile\":\"\u2323\",\"sstarf\":\"\u22C6\",\"Star\":\"\u22C6\",\"star\":\"\u2606\",\"starf\":\"\u2605\",\"straightepsilon\":\"\u03F5\",\"straightphi\":\"\u03D5\",\"strns\":\"\u00AF\",\"sub\":\"\u2282\",\"Sub\":\"\u22D0\",\"subdot\":\"\u2ABD\",\"subE\":\"\u2AC5\",\"sube\":\"\u2286\",\"subedot\":\"\u2AC3\",\"submult\":\"\u2AC1\",\"subnE\":\"\u2ACB\",\"subne\":\"\u228A\",\"subplus\":\"\u2ABF\",\"subrarr\":\"\u2979\",\"subset\":\"\u2282\",\"Subset\":\"\u22D0\",\"subseteq\":\"\u2286\",\"subseteqq\":\"\u2AC5\",\"SubsetEqual\":\"\u2286\",\"subsetneq\":\"\u228A\",\"subsetneqq\":\"\u2ACB\",\"subsim\":\"\u2AC7\",\"subsub\":\"\u2AD5\",\"subsup\":\"\u2AD3\",\"succapprox\":\"\u2AB8\",\"succ\":\"\u227B\",\"succcurlyeq\":\"\u227D\",\"Succeeds\":\"\u227B\",\"SucceedsEqual\":\"\u2AB0\",\"SucceedsSlantEqual\":\"\u227D\",\"SucceedsTilde\":\"\u227F\",\"succeq\":\"\u2AB0\",\"succnapprox\":\"\u2ABA\",\"succneqq\":\"\u2AB6\",\"succnsim\":\"\u22E9\",\"succsim\":\"\u227F\",\"SuchThat\":\"\u220B\",\"sum\":\"\u2211\",\"Sum\":\"\u2211\",\"sung\":\"\u266A\",\"sup1\":\"\u00B9\",\"sup2\":\"\u00B2\",\"sup3\":\"\u00B3\",\"sup\":\"\u2283\",\"Sup\":\"\u22D1\",\"supdot\":\"\u2ABE\",\"supdsub\":\"\u2AD8\",\"supE\":\"\u2AC6\",\"supe\":\"\u2287\",\"supedot\":\"\u2AC4\",\"Superset\":\"\u2283\",\"SupersetEqual\":\"\u2287\",\"suphsol\":\"\u27C9\",\"suphsub\":\"\u2AD7\",\"suplarr\":\"\u297B\",\"supmult\":\"\u2AC2\",\"supnE\":\"\u2ACC\",\"supne\":\"\u228B\",\"supplus\":\"\u2AC0\",\"supset\":\"\u2283\",\"Supset\":\"\u22D1\",\"supseteq\":\"\u2287\",\"supseteqq\":\"\u2AC6\",\"supsetneq\":\"\u228B\",\"supsetneqq\":\"\u2ACC\",\"supsim\":\"\u2AC8\",\"supsub\":\"\u2AD4\",\"supsup\":\"\u2AD6\",\"swarhk\":\"\u2926\",\"swarr\":\"\u2199\",\"swArr\":\"\u21D9\",\"swarrow\":\"\u2199\",\"swnwar\":\"\u292A\",\"szlig\":\"\u00DF\",\"Tab\":\"\\t\",\"target\":\"\u2316\",\"Tau\":\"\u03A4\",\"tau\":\"\u03C4\",\"tbrk\":\"\u23B4\",\"Tcaron\":\"\u0164\",\"tcaron\":\"\u0165\",\"Tcedil\":\"\u0162\",\"tcedil\":\"\u0163\",\"Tcy\":\"\u0422\",\"tcy\":\"\u0442\",\"tdot\":\"\u20DB\",\"telrec\":\"\u2315\",\"Tfr\":\"\uD835\uDD17\",\"tfr\":\"\uD835\uDD31\",\"there4\":\"\u2234\",\"therefore\":\"\u2234\",\"Therefore\":\"\u2234\",\"Theta\":\"\u0398\",\"theta\":\"\u03B8\",\"thetasym\":\"\u03D1\",\"thetav\":\"\u03D1\",\"thickapprox\":\"\u2248\",\"thicksim\":\"\u223C\",\"ThickSpace\":\"\u205F\u200A\",\"ThinSpace\":\"\u2009\",\"thinsp\":\"\u2009\",\"thkap\":\"\u2248\",\"thksim\":\"\u223C\",\"THORN\":\"\u00DE\",\"thorn\":\"\u00FE\",\"tilde\":\"\u02DC\",\"Tilde\":\"\u223C\",\"TildeEqual\":\"\u2243\",\"TildeFullEqual\":\"\u2245\",\"TildeTilde\":\"\u2248\",\"timesbar\":\"\u2A31\",\"timesb\":\"\u22A0\",\"times\":\"\u00D7\",\"timesd\":\"\u2A30\",\"tint\":\"\u222D\",\"toea\":\"\u2928\",\"topbot\":\"\u2336\",\"topcir\":\"\u2AF1\",\"top\":\"\u22A4\",\"Topf\":\"\uD835\uDD4B\",\"topf\":\"\uD835\uDD65\",\"topfork\":\"\u2ADA\",\"tosa\":\"\u2929\",\"tprime\":\"\u2034\",\"trade\":\"\u2122\",\"TRADE\":\"\u2122\",\"triangle\":\"\u25B5\",\"triangledown\":\"\u25BF\",\"triangleleft\":\"\u25C3\",\"trianglelefteq\":\"\u22B4\",\"triangleq\":\"\u225C\",\"triangleright\":\"\u25B9\",\"trianglerighteq\":\"\u22B5\",\"tridot\":\"\u25EC\",\"trie\":\"\u225C\",\"triminus\":\"\u2A3A\",\"TripleDot\":\"\u20DB\",\"triplus\":\"\u2A39\",\"trisb\":\"\u29CD\",\"tritime\":\"\u2A3B\",\"trpezium\":\"\u23E2\",\"Tscr\":\"\uD835\uDCAF\",\"tscr\":\"\uD835\uDCC9\",\"TScy\":\"\u0426\",\"tscy\":\"\u0446\",\"TSHcy\":\"\u040B\",\"tshcy\":\"\u045B\",\"Tstrok\":\"\u0166\",\"tstrok\":\"\u0167\",\"twixt\":\"\u226C\",\"twoheadleftarrow\":\"\u219E\",\"twoheadrightarrow\":\"\u21A0\",\"Uacute\":\"\u00DA\",\"uacute\":\"\u00FA\",\"uarr\":\"\u2191\",\"Uarr\":\"\u219F\",\"uArr\":\"\u21D1\",\"Uarrocir\":\"\u2949\",\"Ubrcy\":\"\u040E\",\"ubrcy\":\"\u045E\",\"Ubreve\":\"\u016C\",\"ubreve\":\"\u016D\",\"Ucirc\":\"\u00DB\",\"ucirc\":\"\u00FB\",\"Ucy\":\"\u0423\",\"ucy\":\"\u0443\",\"udarr\":\"\u21C5\",\"Udblac\":\"\u0170\",\"udblac\":\"\u0171\",\"udhar\":\"\u296E\",\"ufisht\":\"\u297E\",\"Ufr\":\"\uD835\uDD18\",\"ufr\":\"\uD835\uDD32\",\"Ugrave\":\"\u00D9\",\"ugrave\":\"\u00F9\",\"uHar\":\"\u2963\",\"uharl\":\"\u21BF\",\"uharr\":\"\u21BE\",\"uhblk\":\"\u2580\",\"ulcorn\":\"\u231C\",\"ulcorner\":\"\u231C\",\"ulcrop\":\"\u230F\",\"ultri\":\"\u25F8\",\"Umacr\":\"\u016A\",\"umacr\":\"\u016B\",\"uml\":\"\u00A8\",\"UnderBar\":\"_\",\"UnderBrace\":\"\u23DF\",\"UnderBracket\":\"\u23B5\",\"UnderParenthesis\":\"\u23DD\",\"Union\":\"\u22C3\",\"UnionPlus\":\"\u228E\",\"Uogon\":\"\u0172\",\"uogon\":\"\u0173\",\"Uopf\":\"\uD835\uDD4C\",\"uopf\":\"\uD835\uDD66\",\"UpArrowBar\":\"\u2912\",\"uparrow\":\"\u2191\",\"UpArrow\":\"\u2191\",\"Uparrow\":\"\u21D1\",\"UpArrowDownArrow\":\"\u21C5\",\"updownarrow\":\"\u2195\",\"UpDownArrow\":\"\u2195\",\"Updownarrow\":\"\u21D5\",\"UpEquilibrium\":\"\u296E\",\"upharpoonleft\":\"\u21BF\",\"upharpoonright\":\"\u21BE\",\"uplus\":\"\u228E\",\"UpperLeftArrow\":\"\u2196\",\"UpperRightArrow\":\"\u2197\",\"upsi\":\"\u03C5\",\"Upsi\":\"\u03D2\",\"upsih\":\"\u03D2\",\"Upsilon\":\"\u03A5\",\"upsilon\":\"\u03C5\",\"UpTeeArrow\":\"\u21A5\",\"UpTee\":\"\u22A5\",\"upuparrows\":\"\u21C8\",\"urcorn\":\"\u231D\",\"urcorner\":\"\u231D\",\"urcrop\":\"\u230E\",\"Uring\":\"\u016E\",\"uring\":\"\u016F\",\"urtri\":\"\u25F9\",\"Uscr\":\"\uD835\uDCB0\",\"uscr\":\"\uD835\uDCCA\",\"utdot\":\"\u22F0\",\"Utilde\":\"\u0168\",\"utilde\":\"\u0169\",\"utri\":\"\u25B5\",\"utrif\":\"\u25B4\",\"uuarr\":\"\u21C8\",\"Uuml\":\"\u00DC\",\"uuml\":\"\u00FC\",\"uwangle\":\"\u29A7\",\"vangrt\":\"\u299C\",\"varepsilon\":\"\u03F5\",\"varkappa\":\"\u03F0\",\"varnothing\":\"\u2205\",\"varphi\":\"\u03D5\",\"varpi\":\"\u03D6\",\"varpropto\":\"\u221D\",\"varr\":\"\u2195\",\"vArr\":\"\u21D5\",\"varrho\":\"\u03F1\",\"varsigma\":\"\u03C2\",\"varsubsetneq\":\"\u228A\uFE00\",\"varsubsetneqq\":\"\u2ACB\uFE00\",\"varsupsetneq\":\"\u228B\uFE00\",\"varsupsetneqq\":\"\u2ACC\uFE00\",\"vartheta\":\"\u03D1\",\"vartriangleleft\":\"\u22B2\",\"vartriangleright\":\"\u22B3\",\"vBar\":\"\u2AE8\",\"Vbar\":\"\u2AEB\",\"vBarv\":\"\u2AE9\",\"Vcy\":\"\u0412\",\"vcy\":\"\u0432\",\"vdash\":\"\u22A2\",\"vDash\":\"\u22A8\",\"Vdash\":\"\u22A9\",\"VDash\":\"\u22AB\",\"Vdashl\":\"\u2AE6\",\"veebar\":\"\u22BB\",\"vee\":\"\u2228\",\"Vee\":\"\u22C1\",\"veeeq\":\"\u225A\",\"vellip\":\"\u22EE\",\"verbar\":\"|\",\"Verbar\":\"\u2016\",\"vert\":\"|\",\"Vert\":\"\u2016\",\"VerticalBar\":\"\u2223\",\"VerticalLine\":\"|\",\"VerticalSeparator\":\"\u2758\",\"VerticalTilde\":\"\u2240\",\"VeryThinSpace\":\"\u200A\",\"Vfr\":\"\uD835\uDD19\",\"vfr\":\"\uD835\uDD33\",\"vltri\":\"\u22B2\",\"vnsub\":\"\u2282\u20D2\",\"vnsup\":\"\u2283\u20D2\",\"Vopf\":\"\uD835\uDD4D\",\"vopf\":\"\uD835\uDD67\",\"vprop\":\"\u221D\",\"vrtri\":\"\u22B3\",\"Vscr\":\"\uD835\uDCB1\",\"vscr\":\"\uD835\uDCCB\",\"vsubnE\":\"\u2ACB\uFE00\",\"vsubne\":\"\u228A\uFE00\",\"vsupnE\":\"\u2ACC\uFE00\",\"vsupne\":\"\u228B\uFE00\",\"Vvdash\":\"\u22AA\",\"vzigzag\":\"\u299A\",\"Wcirc\":\"\u0174\",\"wcirc\":\"\u0175\",\"wedbar\":\"\u2A5F\",\"wedge\":\"\u2227\",\"Wedge\":\"\u22C0\",\"wedgeq\":\"\u2259\",\"weierp\":\"\u2118\",\"Wfr\":\"\uD835\uDD1A\",\"wfr\":\"\uD835\uDD34\",\"Wopf\":\"\uD835\uDD4E\",\"wopf\":\"\uD835\uDD68\",\"wp\":\"\u2118\",\"wr\":\"\u2240\",\"wreath\":\"\u2240\",\"Wscr\":\"\uD835\uDCB2\",\"wscr\":\"\uD835\uDCCC\",\"xcap\":\"\u22C2\",\"xcirc\":\"\u25EF\",\"xcup\":\"\u22C3\",\"xdtri\":\"\u25BD\",\"Xfr\":\"\uD835\uDD1B\",\"xfr\":\"\uD835\uDD35\",\"xharr\":\"\u27F7\",\"xhArr\":\"\u27FA\",\"Xi\":\"\u039E\",\"xi\":\"\u03BE\",\"xlarr\":\"\u27F5\",\"xlArr\":\"\u27F8\",\"xmap\":\"\u27FC\",\"xnis\":\"\u22FB\",\"xodot\":\"\u2A00\",\"Xopf\":\"\uD835\uDD4F\",\"xopf\":\"\uD835\uDD69\",\"xoplus\":\"\u2A01\",\"xotime\":\"\u2A02\",\"xrarr\":\"\u27F6\",\"xrArr\":\"\u27F9\",\"Xscr\":\"\uD835\uDCB3\",\"xscr\":\"\uD835\uDCCD\",\"xsqcup\":\"\u2A06\",\"xuplus\":\"\u2A04\",\"xutri\":\"\u25B3\",\"xvee\":\"\u22C1\",\"xwedge\":\"\u22C0\",\"Yacute\":\"\u00DD\",\"yacute\":\"\u00FD\",\"YAcy\":\"\u042F\",\"yacy\":\"\u044F\",\"Ycirc\":\"\u0176\",\"ycirc\":\"\u0177\",\"Ycy\":\"\u042B\",\"ycy\":\"\u044B\",\"yen\":\"\u00A5\",\"Yfr\":\"\uD835\uDD1C\",\"yfr\":\"\uD835\uDD36\",\"YIcy\":\"\u0407\",\"yicy\":\"\u0457\",\"Yopf\":\"\uD835\uDD50\",\"yopf\":\"\uD835\uDD6A\",\"Yscr\":\"\uD835\uDCB4\",\"yscr\":\"\uD835\uDCCE\",\"YUcy\":\"\u042E\",\"yucy\":\"\u044E\",\"yuml\":\"\u00FF\",\"Yuml\":\"\u0178\",\"Zacute\":\"\u0179\",\"zacute\":\"\u017A\",\"Zcaron\":\"\u017D\",\"zcaron\":\"\u017E\",\"Zcy\":\"\u0417\",\"zcy\":\"\u0437\",\"Zdot\":\"\u017B\",\"zdot\":\"\u017C\",\"zeetrf\":\"\u2128\",\"ZeroWidthSpace\":\"\u200B\",\"Zeta\":\"\u0396\",\"zeta\":\"\u03B6\",\"zfr\":\"\uD835\uDD37\",\"Zfr\":\"\u2128\",\"ZHcy\":\"\u0416\",\"zhcy\":\"\u0436\",\"zigrarr\":\"\u21DD\",\"zopf\":\"\uD835\uDD6B\",\"Zopf\":\"\u2124\",\"Zscr\":\"\uD835\uDCB5\",\"zscr\":\"\uD835\uDCCF\",\"zwj\":\"\u200D\",\"zwnj\":\"\u200C\"}\n", "// HTML5 entities map: { name -> utf16string }\n//\n'use strict';\n\n/*eslint quotes:0*/\nmodule.exports = require('entities/lib/maps/entities.json');\n", "module.exports=/[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4E\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDF55-\\uDF59]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/", "\n'use strict';\n\n\nvar encodeCache = {};\n\n\n// Create a lookup array where anything but characters in `chars` string\n// and alphanumeric chars is percent-encoded.\n//\nfunction getEncodeCache(exclude) {\n  var i, ch, cache = encodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = encodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n\n    if (/^[0-9a-z]$/i.test(ch)) {\n      // always allow unencoded alphanumeric characters\n      cache.push(ch);\n    } else {\n      cache.push('%' + ('0' + i.toString(16).toUpperCase()).slice(-2));\n    }\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    cache[exclude.charCodeAt(i)] = exclude[i];\n  }\n\n  return cache;\n}\n\n\n// Encode unsafe characters with percent-encoding, skipping already\n// encoded sequences.\n//\n//  - string       - string to encode\n//  - exclude      - list of characters to ignore (in addition to a-zA-Z0-9)\n//  - keepEscaped  - don't encode '%' in a correct escape sequence (default: true)\n//\nfunction encode(string, exclude, keepEscaped) {\n  var i, l, code, nextCode, cache,\n      result = '';\n\n  if (typeof exclude !== 'string') {\n    // encode(string, keepEscaped)\n    keepEscaped  = exclude;\n    exclude = encode.defaultChars;\n  }\n\n  if (typeof keepEscaped === 'undefined') {\n    keepEscaped = true;\n  }\n\n  cache = getEncodeCache(exclude);\n\n  for (i = 0, l = string.length; i < l; i++) {\n    code = string.charCodeAt(i);\n\n    if (keepEscaped && code === 0x25 /* % */ && i + 2 < l) {\n      if (/^[0-9a-f]{2}$/i.test(string.slice(i + 1, i + 3))) {\n        result += string.slice(i, i + 3);\n        i += 2;\n        continue;\n      }\n    }\n\n    if (code < 128) {\n      result += cache[code];\n      continue;\n    }\n\n    if (code >= 0xD800 && code <= 0xDFFF) {\n      if (code >= 0xD800 && code <= 0xDBFF && i + 1 < l) {\n        nextCode = string.charCodeAt(i + 1);\n        if (nextCode >= 0xDC00 && nextCode <= 0xDFFF) {\n          result += encodeURIComponent(string[i] + string[i + 1]);\n          i++;\n          continue;\n        }\n      }\n      result += '%EF%BF%BD';\n      continue;\n    }\n\n    result += encodeURIComponent(string[i]);\n  }\n\n  return result;\n}\n\nencode.defaultChars   = \";/?:@&=+$,-_.!~*'()#\";\nencode.componentChars = \"-_.!~*'()\";\n\n\nmodule.exports = encode;\n", "\n'use strict';\n\n\n/* eslint-disable no-bitwise */\n\nvar decodeCache = {};\n\nfunction getDecodeCache(exclude) {\n  var i, ch, cache = decodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = decodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n    cache.push(ch);\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    ch = exclude.charCodeAt(i);\n    cache[ch] = '%' + ('0' + ch.toString(16).toUpperCase()).slice(-2);\n  }\n\n  return cache;\n}\n\n\n// Decode percent-encoded string.\n//\nfunction decode(string, exclude) {\n  var cache;\n\n  if (typeof exclude !== 'string') {\n    exclude = decode.defaultChars;\n  }\n\n  cache = getDecodeCache(exclude);\n\n  return string.replace(/(%[a-f0-9]{2})+/gi, function(seq) {\n    var i, l, b1, b2, b3, b4, chr,\n        result = '';\n\n    for (i = 0, l = seq.length; i < l; i += 3) {\n      b1 = parseInt(seq.slice(i + 1, i + 3), 16);\n\n      if (b1 < 0x80) {\n        result += cache[b1];\n        continue;\n      }\n\n      if ((b1 & 0xE0) === 0xC0 && (i + 3 < l)) {\n        // 110xxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n\n        if ((b2 & 0xC0) === 0x80) {\n          chr = ((b1 << 6) & 0x7C0) | (b2 & 0x3F);\n\n          if (chr < 0x80) {\n            result += '\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 3;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF0) === 0xE0 && (i + 6 < l)) {\n        // 1110xxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n          chr = ((b1 << 12) & 0xF000) | ((b2 << 6) & 0xFC0) | (b3 & 0x3F);\n\n          if (chr < 0x800 || (chr >= 0xD800 && chr <= 0xDFFF)) {\n            result += '\\ufffd\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 6;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF8) === 0xF0 && (i + 9 < l)) {\n        // 111110xx 10xxxxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n        b4 = parseInt(seq.slice(i + 10, i + 12), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80 && (b4 & 0xC0) === 0x80) {\n          chr = ((b1 << 18) & 0x1C0000) | ((b2 << 12) & 0x3F000) | ((b3 << 6) & 0xFC0) | (b4 & 0x3F);\n\n          if (chr < 0x10000 || chr > 0x10FFFF) {\n            result += '\\ufffd\\ufffd\\ufffd\\ufffd';\n          } else {\n            chr -= 0x10000;\n            result += String.fromCharCode(0xD800 + (chr >> 10), 0xDC00 + (chr & 0x3FF));\n          }\n\n          i += 9;\n          continue;\n        }\n      }\n\n      result += '\\ufffd';\n    }\n\n    return result;\n  });\n}\n\n\ndecode.defaultChars   = ';/?:@&=+$,#';\ndecode.componentChars = '';\n\n\nmodule.exports = decode;\n", "\n'use strict';\n\n\nmodule.exports = function format(url) {\n  var result = '';\n\n  result += url.protocol || '';\n  result += url.slashes ? '//' : '';\n  result += url.auth ? url.auth + '@' : '';\n\n  if (url.hostname && url.hostname.indexOf(':') !== -1) {\n    // ipv6 address\n    result += '[' + url.hostname + ']';\n  } else {\n    result += url.hostname || '';\n  }\n\n  result += url.port ? ':' + url.port : '';\n  result += url.pathname || '';\n  result += url.search || '';\n  result += url.hash || '';\n\n  return result;\n};\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n//\n// Changes from joyent/node:\n//\n// 1. No leading slash in paths,\n//    e.g. in `url.parse('http://foo?bar')` pathname is ``, not `/`\n//\n// 2. Backslashes are not replaced with slashes,\n//    so `http:\\\\example.org\\` is treated like a relative path\n//\n// 3. Trailing colon is treated like a part of the path,\n//    i.e. in `http://example.org:foo` pathname is `:foo`\n//\n// 4. Nothing is URL-encoded in the resulting object,\n//    (in joyent/node some chars in auth and paths are encoded)\n//\n// 5. `url.parse()` does not have `parseQueryString` argument\n//\n// 6. Removed extraneous result properties: `host`, `path`, `query`, etc.,\n//    which can be constructed using other parts of the url.\n//\n\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.pathname = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = [ '<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t' ],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = [ '{', '}', '|', '\\\\', '^', '`' ].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = [ '\\'' ].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = [ '%', '/', '?', ';', '#' ].concat(autoEscape),\n    hostEndingChars = [ '/', '?', '#' ],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    /* eslint-disable no-script-url */\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    };\n    /* eslint-enable no-script-url */\n\nfunction urlParse(url, slashesDenoteHost) {\n  if (url && url instanceof Url) { return url; }\n\n  var u = new Url();\n  u.parse(url, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, slashesDenoteHost) {\n  var i, l, lowerProto, hec, slashes,\n      rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    lowerProto = proto.toLowerCase();\n    this.protocol = proto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (i = 0; i < hostEndingChars.length; i++) {\n      hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = auth;\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (i = 0; i < nonHostChars.length; i++) {\n      hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) {\n      hostEnd = rest.length;\n    }\n\n    if (rest[hostEnd - 1] === ':') { hostEnd--; }\n    var host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost(host);\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) { continue; }\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    }\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n    }\n  }\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    rest = rest.slice(0, qm);\n  }\n  if (rest) { this.pathname = rest; }\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '';\n  }\n\n  return this;\n};\n\nUrl.prototype.parseHost = function(host) {\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) { this.hostname = host; }\n};\n\nmodule.exports = urlParse;\n", "'use strict';\n\n\nmodule.exports.encode = require('./encode');\nmodule.exports.decode = require('./decode');\nmodule.exports.format = require('./format');\nmodule.exports.parse  = require('./parse');\n", "module.exports=/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/", "module.exports=/[\\0-\\x1F\\x7F-\\x9F]/", "module.exports=/[\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB]|\\uD804[\\uDCBD\\uDCCD]|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]/", "module.exports=/[ \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000]/", "'use strict';\n\nexports.Any = require('./properties/Any/regex');\nexports.Cc  = require('./categories/Cc/regex');\nexports.Cf  = require('./categories/Cf/regex');\nexports.P   = require('./categories/P/regex');\nexports.Z   = require('./categories/Z/regex');\n", "// Utilities\n//\n'use strict';\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction isString(obj) { return _class(obj) === '[object String]'; }\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return _hasOwnProperty.call(object, key);\n}\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n// Remove element from array and put another array at those position.\n// Useful for some operations with tokens\nfunction arrayReplaceAt(src, pos, newElements) {\n  return [].concat(src.slice(0, pos), newElements, src.slice(pos + 1));\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\n\nvar UNESCAPE_MD_RE  = /\\\\([!\"#$%&'()*+,\\-.\\/:;<=>?@[\\\\\\]^_`{|}~])/g;\nvar ENTITY_RE       = /&([a-z#][a-z0-9]{1,31});/gi;\nvar UNESCAPE_ALL_RE = new RegExp(UNESCAPE_MD_RE.source + '|' + ENTITY_RE.source, 'gi');\n\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;\n\nvar entities = require('./entities');\n\nfunction replaceEntityPattern(match, name) {\n  var code;\n\n  if (has(entities, name)) {\n    return entities[name];\n  }\n\n  if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16) : parseInt(name.slice(1), 10);\n\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n\n  return match;\n}\n\n/*function replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(ENTITY_RE, replaceEntityPattern);\n}*/\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\nfunction unescapeAll(str) {\n  if (str.indexOf('\\\\') < 0 && str.indexOf('&') < 0) { return str; }\n\n  return str.replace(UNESCAPE_ALL_RE, function (match, escaped, entity) {\n    if (escaped) { return escaped; }\n    return replaceEntityPattern(match, entity);\n  });\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar REGEXP_ESCAPE_RE = /[.?*+^$[\\]\\\\(){}|-]/g;\n\nfunction escapeRE(str) {\n  return str.replace(REGEXP_ESCAPE_RE, '\\\\$&');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isSpace(code) {\n  switch (code) {\n    case 0x09:\n    case 0x20:\n      return true;\n  }\n  return false;\n}\n\n// Zs (unicode class) || [\\t\\f\\v\\r\\n]\nfunction isWhiteSpace(code) {\n  if (code >= 0x2000 && code <= 0x200A) { return true; }\n  switch (code) {\n    case 0x09: // \\t\n    case 0x0A: // \\n\n    case 0x0B: // \\v\n    case 0x0C: // \\f\n    case 0x0D: // \\r\n    case 0x20:\n    case 0xA0:\n    case 0x1680:\n    case 0x202F:\n    case 0x205F:\n    case 0x3000:\n      return true;\n  }\n  return false;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/*eslint-disable max-len*/\nvar UNICODE_PUNCT_RE = require('uc.micro/categories/P/regex');\n\n// Currently without astral characters support.\nfunction isPunctChar(ch) {\n  return UNICODE_PUNCT_RE.test(ch);\n}\n\n\n// Markdown ASCII punctuation characters.\n//\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\n//\n// Don't confuse with unicode punctuation !!! It lacks some chars in ascii range.\n//\nfunction isMdAsciiPunct(ch) {\n  switch (ch) {\n    case 0x21/* ! */:\n    case 0x22/* \" */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x27/* ' */:\n    case 0x28/* ( */:\n    case 0x29/* ) */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2C/* , */:\n    case 0x2D/* - */:\n    case 0x2E/* . */:\n    case 0x2F/* / */:\n    case 0x3A/* : */:\n    case 0x3B/* ; */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x3F/* ? */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7C/* | */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\n// Hepler to unify [reference labels].\n//\nfunction normalizeReference(str) {\n  // Trim and collapse whitespace\n  //\n  str = str.trim().replace(/\\s+/g, ' ');\n\n  // In node v10 '\u1E9E'.toLowerCase() === '\u1E7E', which is presumed to be a bug\n  // fixed in v12 (couldn't find any details).\n  //\n  // So treat this one as a special case\n  // (remove this when node v10 is no longer supported).\n  //\n  if ('\u1E9E'.toLowerCase() === '\u1E7E') {\n    str = str.replace(/\u1E9E/g, '\u00DF');\n  }\n\n  // .toLowerCase().toUpperCase() should get rid of all differences\n  // between letter variants.\n  //\n  // Simple .toLowerCase() doesn't normalize 125 code points correctly,\n  // and .toUpperCase doesn't normalize 6 of them (list of exceptions:\n  // \u0130, \u03F4, \u1E9E, \u2126, \u212A, \u212B - those are already uppercased, but have differently\n  // uppercased versions).\n  //\n  // Here's an example showing how it happens. Lets take greek letter omega:\n  // uppercase U+0398 (\u0398), U+03f4 (\u03F4) and lowercase U+03b8 (\u03B8), U+03d1 (\u03D1)\n  //\n  // Unicode entries:\n  // 0398;GREEK CAPITAL LETTER THETA;Lu;0;L;;;;;N;;;;03B8;\n  // 03B8;GREEK SMALL LETTER THETA;Ll;0;L;;;;;N;;;0398;;0398\n  // 03D1;GREEK THETA SYMBOL;Ll;0;L;<compat> 03B8;;;;N;GREEK SMALL LETTER SCRIPT THETA;;0398;;0398\n  // 03F4;GREEK CAPITAL THETA SYMBOL;Lu;0;L;<compat> 0398;;;;N;;;;03B8;\n  //\n  // Case-insensitive comparison should treat all of them as equivalent.\n  //\n  // But .toLowerCase() doesn't change \u03D1 (it's already lowercase),\n  // and .toUpperCase() doesn't change \u03F4 (already uppercase).\n  //\n  // Applying first lower then upper case normalizes any character:\n  // '\\u0398\\u03f4\\u03b8\\u03d1'.toLowerCase().toUpperCase() === '\\u0398\\u0398\\u0398\\u0398'\n  //\n  // Note: this is equivalent to unicode case folding; unicode normalization\n  // is a different step that is not required here.\n  //\n  // Final result should be uppercased, because it's later stored in an object\n  // (this avoid a conflict with Object.prototype members,\n  // most notably, `__proto__`)\n  //\n  return str.toLowerCase().toUpperCase();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n// Re-export libraries commonly used in both markdown-it and its plugins,\n// so plugins won't have to depend on them explicitly, which reduces their\n// bundled size (e.g. a browser build).\n//\nexports.lib                 = {};\nexports.lib.mdurl           = require('mdurl');\nexports.lib.ucmicro         = require('uc.micro');\n\nexports.assign              = assign;\nexports.isString            = isString;\nexports.has                 = has;\nexports.unescapeMd          = unescapeMd;\nexports.unescapeAll         = unescapeAll;\nexports.isValidEntityCode   = isValidEntityCode;\nexports.fromCodePoint       = fromCodePoint;\n// exports.replaceEntities     = replaceEntities;\nexports.escapeHtml          = escapeHtml;\nexports.arrayReplaceAt      = arrayReplaceAt;\nexports.isSpace             = isSpace;\nexports.isWhiteSpace        = isWhiteSpace;\nexports.isMdAsciiPunct      = isMdAsciiPunct;\nexports.isPunctChar         = isPunctChar;\nexports.escapeRE            = escapeRE;\nexports.normalizeReference  = normalizeReference;\n", "// Parse link label\n//\n// this function assumes that first character (\"[\") already matches;\n// returns the end of the label\n//\n'use strict';\n\nmodule.exports = function parseLinkLabel(state, start, disableNested) {\n  var level, found, marker, prevPos,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos;\n\n  state.pos = start + 1;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    prevPos = state.pos;\n    state.md.inline.skipToken(state);\n    if (marker === 0x5B /* [ */) {\n      if (prevPos === state.pos - 1) {\n        // increase level if we find text `[`, which is not a part of any token\n        level++;\n      } else if (disableNested) {\n        state.pos = oldPos;\n        return -1;\n      }\n    }\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n\n  return labelEnd;\n};\n", "// Parse link destination\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkDestination(str, start, max) {\n  var code, level,\n      pos = start,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (str.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = str.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) { return result; }\n      if (code === 0x3C /* < */) { return result; }\n      if (code === 0x3E /* > */) {\n        result.pos = pos + 1;\n        result.str = unescapeAll(str.slice(start + 1, pos));\n        result.ok = true;\n        return result;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return result;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control characters\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      if (str.charCodeAt(pos + 1) === 0x20) { break; }\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n      if (level > 32) { return result; }\n    }\n\n    if (code === 0x29 /* ) */) {\n      if (level === 0) { break; }\n      level--;\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return result; }\n  if (level !== 0) { return result; }\n\n  result.str = unescapeAll(str.slice(start, pos));\n  result.pos = pos;\n  result.ok = true;\n  return result;\n};\n", "// Parse link title\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkTitle(str, start, max) {\n  var code,\n      marker,\n      lines = 0,\n      pos = start,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (pos >= max) { return result; }\n\n  marker = str.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return result; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n    if (code === marker) {\n      result.pos = pos + 1;\n      result.lines = lines;\n      result.str = unescapeAll(str.slice(start + 1, pos));\n      result.ok = true;\n      return result;\n    } else if (code === 0x28 /* ( */ && marker === 0x29 /* ) */) {\n      return result;\n    } else if (code === 0x0A) {\n      lines++;\n    } else if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos++;\n      if (str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n\n    pos++;\n  }\n\n  return result;\n};\n", "// Just a shortcut for bulk export\n'use strict';\n\n\nexports.parseLinkLabel       = require('./parse_link_label');\nexports.parseLinkDestination = require('./parse_link_destination');\nexports.parseLinkTitle       = require('./parse_link_title');\n", "/**\n * class Renderer\n *\n * Generates HTML from parsed token stream. Each instance has independent\n * copy of rules. Those can be rewritten with ease. Also, you can add new\n * rules if you create plugin and adds new token types.\n **/\n'use strict';\n\n\nvar assign          = require('./common/utils').assign;\nvar unescapeAll     = require('./common/utils').unescapeAll;\nvar escapeHtml      = require('./common/utils').escapeHtml;\n\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar default_rules = {};\n\n\ndefault_rules.code_inline = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<code' + slf.renderAttrs(token) + '>' +\n          escapeHtml(token.content) +\n          '</code>';\n};\n\n\ndefault_rules.code_block = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<pre' + slf.renderAttrs(token) + '><code>' +\n          escapeHtml(tokens[idx].content) +\n          '</code></pre>\\n';\n};\n\n\ndefault_rules.fence = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx],\n      info = token.info ? unescapeAll(token.info).trim() : '',\n      langName = '',\n      langAttrs = '',\n      highlighted, i, arr, tmpAttrs, tmpToken;\n\n  if (info) {\n    arr = info.split(/(\\s+)/g);\n    langName = arr[0];\n    langAttrs = arr.slice(2).join('');\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight(token.content, langName, langAttrs) || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  if (highlighted.indexOf('<pre') === 0) {\n    return highlighted + '\\n';\n  }\n\n  // If language exists, inject class gently, without modifying original token.\n  // May be, one day we will add .deepClone() for token and simplify this part, but\n  // now we prefer to keep things local.\n  if (info) {\n    i        = token.attrIndex('class');\n    tmpAttrs = token.attrs ? token.attrs.slice() : [];\n\n    if (i < 0) {\n      tmpAttrs.push([ 'class', options.langPrefix + langName ]);\n    } else {\n      tmpAttrs[i] = tmpAttrs[i].slice();\n      tmpAttrs[i][1] += ' ' + options.langPrefix + langName;\n    }\n\n    // Fake token just to render attributes\n    tmpToken = {\n      attrs: tmpAttrs\n    };\n\n    return  '<pre><code' + slf.renderAttrs(tmpToken) + '>'\n          + highlighted\n          + '</code></pre>\\n';\n  }\n\n\n  return  '<pre><code' + slf.renderAttrs(token) + '>'\n        + highlighted\n        + '</code></pre>\\n';\n};\n\n\ndefault_rules.image = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  // \"alt\" attr MUST be set, even if empty. Because it's mandatory and\n  // should be placed on proper position for tests.\n  //\n  // Replace content with actual value\n\n  token.attrs[token.attrIndex('alt')][1] =\n    slf.renderInlineAsText(token.children, options, env);\n\n  return slf.renderToken(tokens, idx, options);\n};\n\n\ndefault_rules.hardbreak = function (tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\ndefault_rules.softbreak = function (tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n\ndefault_rules.text = function (tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n\ndefault_rules.html_block = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\ndefault_rules.html_inline = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n\n/**\n * new Renderer()\n *\n * Creates new [[Renderer]] instance and fill [[Renderer#rules]] with defaults.\n **/\nfunction Renderer() {\n\n  /**\n   * Renderer#rules -> Object\n   *\n   * Contains render rules for tokens. Can be updated and extended.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * md.renderer.rules.strong_open  = function () { return '<b>'; };\n   * md.renderer.rules.strong_close = function () { return '</b>'; };\n   *\n   * var result = md.renderInline(...);\n   * ```\n   *\n   * Each rule is called as independent static function with fixed signature:\n   *\n   * ```javascript\n   * function my_token_render(tokens, idx, options, env, renderer) {\n   *   // ...\n   *   return renderedHTML;\n   * }\n   * ```\n   *\n   * See [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js)\n   * for more details and examples.\n   **/\n  this.rules = assign({}, default_rules);\n}\n\n\n/**\n * Renderer.renderAttrs(token) -> String\n *\n * Render token attributes to string.\n **/\nRenderer.prototype.renderAttrs = function renderAttrs(token) {\n  var i, l, result;\n\n  if (!token.attrs) { return ''; }\n\n  result = '';\n\n  for (i = 0, l = token.attrs.length; i < l; i++) {\n    result += ' ' + escapeHtml(token.attrs[i][0]) + '=\"' + escapeHtml(token.attrs[i][1]) + '\"';\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.renderToken(tokens, idx, options) -> String\n * - tokens (Array): list of tokens\n * - idx (Numbed): token index to render\n * - options (Object): params of parser instance\n *\n * Default token renderer. Can be overriden by custom function\n * in [[Renderer#rules]].\n **/\nRenderer.prototype.renderToken = function renderToken(tokens, idx, options) {\n  var nextToken,\n      result = '',\n      needLf = false,\n      token = tokens[idx];\n\n  // Tight list paragraphs\n  if (token.hidden) {\n    return '';\n  }\n\n  // Insert a newline between hidden paragraph and subsequent opening\n  // block-level tag.\n  //\n  // For example, here we should insert a newline before blockquote:\n  //  - a\n  //    >\n  //\n  if (token.block && token.nesting !== -1 && idx && tokens[idx - 1].hidden) {\n    result += '\\n';\n  }\n\n  // Add token name, e.g. `<img`\n  result += (token.nesting === -1 ? '</' : '<') + token.tag;\n\n  // Encode attributes, e.g. `<img src=\"foo\"`\n  result += this.renderAttrs(token);\n\n  // Add a slash for self-closing tags, e.g. `<img src=\"foo\" /`\n  if (token.nesting === 0 && options.xhtmlOut) {\n    result += ' /';\n  }\n\n  // Check if we need to add a newline after this tag\n  if (token.block) {\n    needLf = true;\n\n    if (token.nesting === 1) {\n      if (idx + 1 < tokens.length) {\n        nextToken = tokens[idx + 1];\n\n        if (nextToken.type === 'inline' || nextToken.hidden) {\n          // Block-level tag containing an inline tag.\n          //\n          needLf = false;\n\n        } else if (nextToken.nesting === -1 && nextToken.tag === token.tag) {\n          // Opening tag + closing tag of the same type. E.g. `<li></li>`.\n          //\n          needLf = false;\n        }\n      }\n    }\n  }\n\n  result += needLf ? '>\\n' : '>';\n\n  return result;\n};\n\n\n/**\n * Renderer.renderInline(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * The same as [[Renderer.render]], but for single token of `inline` type.\n **/\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var type,\n      result = '',\n      rules = this.rules;\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options);\n    }\n  }\n\n  return result;\n};\n\n\n/** internal\n * Renderer.renderInlineAsText(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Special kludge for image `alt` attributes to conform CommonMark spec.\n * Don't try to use it! Spec requires to show `alt` content with stripped markup,\n * instead of simple escaping.\n **/\nRenderer.prototype.renderInlineAsText = function (tokens, options, env) {\n  var result = '';\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    if (tokens[i].type === 'text') {\n      result += tokens[i].content;\n    } else if (tokens[i].type === 'image') {\n      result += this.renderInlineAsText(tokens[i].children, options, env);\n    } else if (tokens[i].type === 'softbreak') {\n      result += '\\n';\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.render(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Takes token stream and generates HTML. Probably, you will never need to call\n * this method directly.\n **/\nRenderer.prototype.render = function (tokens, options, env) {\n  var i, len, type,\n      result = '',\n      rules = this.rules;\n\n  for (i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options, env);\n    }\n  }\n\n  return result;\n};\n\nmodule.exports = Renderer;\n", "/**\n * class Ruler\n *\n * Helper class, used by [[MarkdownIt#core]], [[MarkdownIt#block]] and\n * [[MarkdownIt#inline]] to manage sequences of functions (rules):\n *\n * - keep rules in defined order\n * - assign the name to each rule\n * - enable/disable rules\n * - add/replace rules\n * - allow assign rules to additional named chains (in the same)\n * - cacheing lists of active rules\n *\n * You will not need use this class directly until write plugins. For simple\n * rules control use [[MarkdownIt.disable]], [[MarkdownIt.enable]] and\n * [[MarkdownIt.use]].\n **/\n'use strict';\n\n\n/**\n * new Ruler()\n **/\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // {\n  //   name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ]\n  // }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - diginal anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Helper methods, should not be used directly\n\n\n// Find rule index by name\n//\nRuler.prototype.__find__ = function (name) {\n  for (var i = 0; i < this.__rules__.length; i++) {\n    if (this.__rules__[i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n// Build rules lookup cache\n//\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) { return; }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) { return; }\n\n      if (chain && rule.alt.indexOf(chain) < 0) { return; }\n\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n\n/**\n * Ruler.at(name, fn [, options])\n * - name (String): rule name to replace.\n * - fn (Function): new rule function.\n * - options (Object): new rule options (not mandatory).\n *\n * Replace rule by name with new function & options. Throws error if name not\n * found.\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * Replace existing typographer replacement rule with new one:\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.at('replacements', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.at = function (name, fn, options) {\n  var index = this.__find__(name);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + name); }\n\n  this.__rules__[index].fn = fn;\n  this.__rules__[index].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.before(beforeName, ruleName, fn [, options])\n * - beforeName (String): new rule will be added before this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain before one with given name. See also\n * [[Ruler.after]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.block.ruler.before('paragraph', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var index = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + beforeName); }\n\n  this.__rules__.splice(index, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.after(afterName, ruleName, fn [, options])\n * - afterName (String): new rule will be added after this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain after one with given name. See also\n * [[Ruler.before]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.inline.ruler.after('text', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var index = this.__find__(afterName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + afterName); }\n\n  this.__rules__.splice(index + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.push(ruleName, fn [, options])\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Push new rule to the end of chain. See also\n * [[Ruler.before]], [[Ruler.after]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.push('my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.enable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to enable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.disable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.enable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.enableOnly(list [, ignoreInvalid])\n * - list (String|Array): list of rule names to enable (whitelist).\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names, and disable everything else. If any rule name\n * not found - throw Error. Errors can be disabled by second param.\n *\n * See also [[Ruler.disable]], [[Ruler.enable]].\n **/\nRuler.prototype.enableOnly = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  this.__rules__.forEach(function (rule) { rule.enabled = false; });\n\n  this.enable(list, ignoreInvalid);\n};\n\n\n/**\n * Ruler.disable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Disable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.enable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.disable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.getRules(chainName) -> Array\n *\n * Return array of active functions (rules) for given chain name. It analyzes\n * rules configuration, compiles caches if not exists and returns result.\n *\n * Default chain name is `''` (empty string). It can't be skipped. That's\n * done intentionally, to keep signature monomorphic for high speed.\n **/\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n\n  // Chain can be empty, if rules disabled. But we still have to return Array.\n  return this.__cache__[chainName] || [];\n};\n\nmodule.exports = Ruler;\n", "// Normalize input string\n\n'use strict';\n\n\n// https://spec.commonmark.org/0.29/#line-ending\nvar NEWLINES_RE  = /\\r\\n?|\\n/g;\nvar NULL_RE      = /\\0/g;\n\n\nmodule.exports = function normalize(state) {\n  var str;\n\n  // Normalize newlines\n  str = state.src.replace(NEWLINES_RE, '\\n');\n\n  // Replace NULL characters\n  str = str.replace(NULL_RE, '\\uFFFD');\n\n  state.src = str;\n};\n", "'use strict';\n\n\nmodule.exports = function block(state) {\n  var token;\n\n  if (state.inlineMode) {\n    token          = new state.Token('inline', '', 0);\n    token.content  = state.src;\n    token.map      = [ 0, 1 ];\n    token.children = [];\n    state.tokens.push(token);\n  } else {\n    state.md.block.parse(state.src, state.md, state.env, state.tokens);\n  }\n};\n", "'use strict';\n\nmodule.exports = function inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.md.inline.parse(tok.content, state.md, state.env, tok.children);\n    }\n  }\n};\n", "// Replace link-like texts with link nodes.\n//\n// Currently restricted by `md.validateLink()` to http/https/ftp\n//\n'use strict';\n\n\nvar arrayReplaceAt = require('../common/utils').arrayReplaceAt;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n\nmodule.exports = function linkify(state) {\n  var i, j, l, tokens, token, currentToken, nodes, ln, text, pos, lastPos,\n      level, htmlLinkLevel, url, fullUrl, urlText,\n      blockTokens = state.tokens,\n      links;\n\n  if (!state.md.options.linkify) { return; }\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline' ||\n        !state.md.linkify.pretest(blockTokens[j].content)) {\n      continue;\n    }\n\n    tokens = blockTokens[j].children;\n\n    htmlLinkLevel = 0;\n\n    // We scan from the end, to keep position when new tags added.\n    // Use reversed logic in links start/end match\n    for (i = tokens.length - 1; i >= 0; i--) {\n      currentToken = tokens[i];\n\n      // Skip content of markdown links\n      if (currentToken.type === 'link_close') {\n        i--;\n        while (tokens[i].level !== currentToken.level && tokens[i].type !== 'link_open') {\n          i--;\n        }\n        continue;\n      }\n\n      // Skip content of html tag links\n      if (currentToken.type === 'html_inline') {\n        if (isLinkOpen(currentToken.content) && htmlLinkLevel > 0) {\n          htmlLinkLevel--;\n        }\n        if (isLinkClose(currentToken.content)) {\n          htmlLinkLevel++;\n        }\n      }\n      if (htmlLinkLevel > 0) { continue; }\n\n      if (currentToken.type === 'text' && state.md.linkify.test(currentToken.content)) {\n\n        text = currentToken.content;\n        links = state.md.linkify.match(text);\n\n        // Now split string to nodes\n        nodes = [];\n        level = currentToken.level;\n        lastPos = 0;\n\n        // forbid escape sequence at the start of the string,\n        // this avoids http\\://example.com/ from being linkified as\n        // http:<a href=\"//example.com/\">//example.com/</a>\n        if (links.length > 0 &&\n            links[0].index === 0 &&\n            i > 0 &&\n            tokens[i - 1].type === 'text_special') {\n          links = links.slice(1);\n        }\n\n        for (ln = 0; ln < links.length; ln++) {\n          url = links[ln].url;\n          fullUrl = state.md.normalizeLink(url);\n          if (!state.md.validateLink(fullUrl)) { continue; }\n\n          urlText = links[ln].text;\n\n          // Linkifier might send raw hostnames like \"example.com\", where url\n          // starts with domain name. So we prepend http:// in those cases,\n          // and remove it afterwards.\n          //\n          if (!links[ln].schema) {\n            urlText = state.md.normalizeLinkText('http://' + urlText).replace(/^http:\\/\\//, '');\n          } else if (links[ln].schema === 'mailto:' && !/^mailto:/i.test(urlText)) {\n            urlText = state.md.normalizeLinkText('mailto:' + urlText).replace(/^mailto:/, '');\n          } else {\n            urlText = state.md.normalizeLinkText(urlText);\n          }\n\n          pos = links[ln].index;\n\n          if (pos > lastPos) {\n            token         = new state.Token('text', '', 0);\n            token.content = text.slice(lastPos, pos);\n            token.level   = level;\n            nodes.push(token);\n          }\n\n          token         = new state.Token('link_open', 'a', 1);\n          token.attrs   = [ [ 'href', fullUrl ] ];\n          token.level   = level++;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          token         = new state.Token('text', '', 0);\n          token.content = urlText;\n          token.level   = level;\n          nodes.push(token);\n\n          token         = new state.Token('link_close', 'a', -1);\n          token.level   = --level;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          lastPos = links[ln].lastIndex;\n        }\n        if (lastPos < text.length) {\n          token         = new state.Token('text', '', 0);\n          token.content = text.slice(lastPos);\n          token.level   = level;\n          nodes.push(token);\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = arrayReplaceAt(tokens, i, nodes);\n      }\n    }\n  }\n};\n", "// Simple typographic replacements\n//\n// (c) (C) \u2192 \u00A9\n// (tm) (TM) \u2192 \u2122\n// (r) (R) \u2192 \u00AE\n// +- \u2192 \u00B1\n// ... \u2192 \u2026 (also ?.... \u2192 ?.., !.... \u2192 !..)\n// ???????? \u2192 ???, !!!!! \u2192 !!!, `,,` \u2192 `,`\n// -- \u2192 &ndash;, --- \u2192 &mdash;\n//\n'use strict';\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> \u00BD, \u00BC, \u00BE\n// - multiplications 2 x 4 -> 2 \u00D7 4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\n// Workaround for phantomjs - need regex without /g flag,\n// or root check will fail every second time\nvar SCOPED_ABBR_TEST_RE = /\\((c|tm|r)\\)/i;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r)\\)/ig;\nvar SCOPED_ABBR = {\n  c: '\u00A9',\n  r: '\u00AE',\n  tm: '\u2122'\n};\n\nfunction replaceFn(match, name) {\n  return SCOPED_ABBR[name.toLowerCase()];\n}\n\nfunction replace_scoped(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn);\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\nfunction replace_rare(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      if (RARE_RE.test(token.content)) {\n        token.content = token.content\n          .replace(/\\+-/g, '\u00B1')\n          // .., ..., ....... -> \u2026\n          // but ?..... & !..... -> ?.. & !..\n          .replace(/\\.{2,}/g, '\u2026').replace(/([?!])\u2026/g, '$1..')\n          .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n          // em-dash\n          .replace(/(^|[^-])---(?=[^-]|$)/mg, '$1\\u2014')\n          // en-dash\n          .replace(/(^|\\s)--(?=\\s|$)/mg, '$1\\u2013')\n          .replace(/(^|[^-\\s])--(?=[^-\\s]|$)/mg, '$1\\u2013');\n      }\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\n\nmodule.exports = function replace(state) {\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {\n      replace_scoped(state.tokens[blkIdx].children);\n    }\n\n    if (RARE_RE.test(state.tokens[blkIdx].content)) {\n      replace_rare(state.tokens[blkIdx].children);\n    }\n\n  }\n};\n", "// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\n\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar APOSTROPHE = '\\u2019'; /* \u2019 */\n\n\nfunction replaceAt(str, index, ch) {\n  return str.slice(0, index) + ch + str.slice(index + 1);\n}\n\nfunction process_inlines(tokens, state) {\n  var i, token, text, t, pos, max, thisLevel, item, lastChar, nextChar,\n      isLastPunctChar, isNextPunctChar, isLastWhiteSpace, isNextWhiteSpace,\n      canOpen, canClose, j, isSingle, stack, openQuote, closeQuote;\n\n  stack = [];\n\n  for (i = 0; i < tokens.length; i++) {\n    token = tokens[i];\n\n    thisLevel = tokens[i].level;\n\n    for (j = stack.length - 1; j >= 0; j--) {\n      if (stack[j].level <= thisLevel) { break; }\n    }\n    stack.length = j + 1;\n\n    if (token.type !== 'text') { continue; }\n\n    text = token.content;\n    pos = 0;\n    max = text.length;\n\n    /*eslint no-labels:0,block-scoped-var:0*/\n    OUTER:\n    while (pos < max) {\n      QUOTE_RE.lastIndex = pos;\n      t = QUOTE_RE.exec(text);\n      if (!t) { break; }\n\n      canOpen = canClose = true;\n      pos = t.index + 1;\n      isSingle = (t[0] === \"'\");\n\n      // Find previous character,\n      // default to space if it's the beginning of the line\n      //\n      lastChar = 0x20;\n\n      if (t.index - 1 >= 0) {\n        lastChar = text.charCodeAt(t.index - 1);\n      } else {\n        for (j = i - 1; j >= 0; j--) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // lastChar defaults to 0x20\n          if (!tokens[j].content) continue; // should skip all tokens except 'text', 'html_inline' or 'code_inline'\n\n          lastChar = tokens[j].content.charCodeAt(tokens[j].content.length - 1);\n          break;\n        }\n      }\n\n      // Find next character,\n      // default to space if it's the end of the line\n      //\n      nextChar = 0x20;\n\n      if (pos < max) {\n        nextChar = text.charCodeAt(pos);\n      } else {\n        for (j = i + 1; j < tokens.length; j++) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // nextChar defaults to 0x20\n          if (!tokens[j].content) continue; // should skip all tokens except 'text', 'html_inline' or 'code_inline'\n\n          nextChar = tokens[j].content.charCodeAt(0);\n          break;\n        }\n      }\n\n      isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n      isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n      isLastWhiteSpace = isWhiteSpace(lastChar);\n      isNextWhiteSpace = isWhiteSpace(nextChar);\n\n      if (isNextWhiteSpace) {\n        canOpen = false;\n      } else if (isNextPunctChar) {\n        if (!(isLastWhiteSpace || isLastPunctChar)) {\n          canOpen = false;\n        }\n      }\n\n      if (isLastWhiteSpace) {\n        canClose = false;\n      } else if (isLastPunctChar) {\n        if (!(isNextWhiteSpace || isNextPunctChar)) {\n          canClose = false;\n        }\n      }\n\n      if (nextChar === 0x22 /* \" */ && t[0] === '\"') {\n        if (lastChar >= 0x30 /* 0 */ && lastChar <= 0x39 /* 9 */) {\n          // special case: 1\"\" - count first quote as an inch\n          canClose = canOpen = false;\n        }\n      }\n\n      if (canOpen && canClose) {\n        // Replace quotes in the middle of punctuation sequence, but not\n        // in the middle of the words, i.e.:\n        //\n        // 1. foo \" bar \" baz - not replaced\n        // 2. foo-\"-bar-\"-baz - replaced\n        // 3. foo\"bar\"baz     - not replaced\n        //\n        canOpen = isLastPunctChar;\n        canClose = isNextPunctChar;\n      }\n\n      if (!canOpen && !canClose) {\n        // middle of word\n        if (isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n        continue;\n      }\n\n      if (canClose) {\n        // this could be a closing quote, rewind the stack to get a match\n        for (j = stack.length - 1; j >= 0; j--) {\n          item = stack[j];\n          if (stack[j].level < thisLevel) { break; }\n          if (item.single === isSingle && stack[j].level === thisLevel) {\n            item = stack[j];\n\n            if (isSingle) {\n              openQuote = state.md.options.quotes[2];\n              closeQuote = state.md.options.quotes[3];\n            } else {\n              openQuote = state.md.options.quotes[0];\n              closeQuote = state.md.options.quotes[1];\n            }\n\n            // replace token.content *before* tokens[item.token].content,\n            // because, if they are pointing at the same token, replaceAt\n            // could mess up indices when quote length != 1\n            token.content = replaceAt(token.content, t.index, closeQuote);\n            tokens[item.token].content = replaceAt(\n              tokens[item.token].content, item.pos, openQuote);\n\n            pos += closeQuote.length - 1;\n            if (item.token === i) { pos += openQuote.length - 1; }\n\n            text = token.content;\n            max = text.length;\n\n            stack.length = j;\n            continue OUTER;\n          }\n        }\n      }\n\n      if (canOpen) {\n        stack.push({\n          token: i,\n          pos: t.index,\n          single: isSingle,\n          level: thisLevel\n        });\n      } else if (canClose && isSingle) {\n        token.content = replaceAt(token.content, t.index, APOSTROPHE);\n      }\n    }\n  }\n}\n\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline' ||\n        !QUOTE_TEST_RE.test(state.tokens[blkIdx].content)) {\n      continue;\n    }\n\n    process_inlines(state.tokens[blkIdx].children, state);\n  }\n};\n", "// Join raw text tokens with the rest of the text\n//\n// This is set as a separate rule to provide an opportunity for plugins\n// to run text replacements after text join, but before escape join.\n//\n// For example, `\\:)` shouldn't be replaced with an emoji.\n//\n'use strict';\n\n\nmodule.exports = function text_join(state) {\n  var j, l, tokens, curr, max, last,\n      blockTokens = state.tokens;\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline') continue;\n\n    tokens = blockTokens[j].children;\n    max = tokens.length;\n\n    for (curr = 0; curr < max; curr++) {\n      if (tokens[curr].type === 'text_special') {\n        tokens[curr].type = 'text';\n      }\n    }\n\n    for (curr = last = 0; curr < max; curr++) {\n      if (tokens[curr].type === 'text' &&\n          curr + 1 < max &&\n          tokens[curr + 1].type === 'text') {\n\n        // collapse two adjacent text nodes\n        tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n      } else {\n        if (curr !== last) { tokens[last] = tokens[curr]; }\n\n        last++;\n      }\n    }\n\n    if (curr !== last) {\n      tokens.length = last;\n    }\n  }\n};\n", "// Token class\n\n'use strict';\n\n\n/**\n * class Token\n **/\n\n/**\n * new Token(type, tag, nesting)\n *\n * Create new token and fill passed properties.\n **/\nfunction Token(type, tag, nesting) {\n  /**\n   * Token#type -> String\n   *\n   * Type of the token (string, e.g. \"paragraph_open\")\n   **/\n  this.type     = type;\n\n  /**\n   * Token#tag -> String\n   *\n   * html tag name, e.g. \"p\"\n   **/\n  this.tag      = tag;\n\n  /**\n   * Token#attrs -> Array\n   *\n   * Html attributes. Format: `[ [ name1, value1 ], [ name2, value2 ] ]`\n   **/\n  this.attrs    = null;\n\n  /**\n   * Token#map -> Array\n   *\n   * Source map info. Format: `[ line_begin, line_end ]`\n   **/\n  this.map      = null;\n\n  /**\n   * Token#nesting -> Number\n   *\n   * Level change (number in {-1, 0, 1} set), where:\n   *\n   * -  `1` means the tag is opening\n   * -  `0` means the tag is self-closing\n   * - `-1` means the tag is closing\n   **/\n  this.nesting  = nesting;\n\n  /**\n   * Token#level -> Number\n   *\n   * nesting level, the same as `state.level`\n   **/\n  this.level    = 0;\n\n  /**\n   * Token#children -> Array\n   *\n   * An array of child nodes (inline and img tokens)\n   **/\n  this.children = null;\n\n  /**\n   * Token#content -> String\n   *\n   * In a case of self-closing tag (code, html, fence, etc.),\n   * it has contents of this tag.\n   **/\n  this.content  = '';\n\n  /**\n   * Token#markup -> String\n   *\n   * '*' or '_' for emphasis, fence string for fence, etc.\n   **/\n  this.markup   = '';\n\n  /**\n   * Token#info -> String\n   *\n   * Additional information:\n   *\n   * - Info string for \"fence\" tokens\n   * - The value \"auto\" for autolink \"link_open\" and \"link_close\" tokens\n   * - The string value of the item marker for ordered-list \"list_item_open\" tokens\n   **/\n  this.info     = '';\n\n  /**\n   * Token#meta -> Object\n   *\n   * A place for plugins to store an arbitrary data\n   **/\n  this.meta     = null;\n\n  /**\n   * Token#block -> Boolean\n   *\n   * True for block-level tokens, false for inline tokens.\n   * Used in renderer to calculate line breaks\n   **/\n  this.block    = false;\n\n  /**\n   * Token#hidden -> Boolean\n   *\n   * If it's true, ignore this element when rendering. Used for tight lists\n   * to hide paragraphs.\n   **/\n  this.hidden   = false;\n}\n\n\n/**\n * Token.attrIndex(name) -> Number\n *\n * Search attribute index by name.\n **/\nToken.prototype.attrIndex = function attrIndex(name) {\n  var attrs, i, len;\n\n  if (!this.attrs) { return -1; }\n\n  attrs = this.attrs;\n\n  for (i = 0, len = attrs.length; i < len; i++) {\n    if (attrs[i][0] === name) { return i; }\n  }\n  return -1;\n};\n\n\n/**\n * Token.attrPush(attrData)\n *\n * Add `[ name, value ]` attribute to list. Init attrs if necessary\n **/\nToken.prototype.attrPush = function attrPush(attrData) {\n  if (this.attrs) {\n    this.attrs.push(attrData);\n  } else {\n    this.attrs = [ attrData ];\n  }\n};\n\n\n/**\n * Token.attrSet(name, value)\n *\n * Set `name` attribute to `value`. Override old value if exists.\n **/\nToken.prototype.attrSet = function attrSet(name, value) {\n  var idx = this.attrIndex(name),\n      attrData = [ name, value ];\n\n  if (idx < 0) {\n    this.attrPush(attrData);\n  } else {\n    this.attrs[idx] = attrData;\n  }\n};\n\n\n/**\n * Token.attrGet(name)\n *\n * Get the value of attribute `name`, or null if it does not exist.\n **/\nToken.prototype.attrGet = function attrGet(name) {\n  var idx = this.attrIndex(name), value = null;\n  if (idx >= 0) {\n    value = this.attrs[idx][1];\n  }\n  return value;\n};\n\n\n/**\n * Token.attrJoin(name, value)\n *\n * Join value to existing attribute via space. Or create new attribute if not\n * exists. Useful to operate with token classes.\n **/\nToken.prototype.attrJoin = function attrJoin(name, value) {\n  var idx = this.attrIndex(name);\n\n  if (idx < 0) {\n    this.attrPush([ name, value ]);\n  } else {\n    this.attrs[idx][1] = this.attrs[idx][1] + ' ' + value;\n  }\n};\n\n\nmodule.exports = Token;\n", "// Core state object\n//\n'use strict';\n\nvar Token = require('../token');\n\n\nfunction StateCore(src, md, env) {\n  this.src = src;\n  this.env = env;\n  this.tokens = [];\n  this.inlineMode = false;\n  this.md = md; // link to parser instance\n}\n\n// re-export Token class to use in core rules\nStateCore.prototype.Token = Token;\n\n\nmodule.exports = StateCore;\n", "/** internal\n * class Core\n *\n * Top-level rules executor. Glues block/inline parsers and does intermediate\n * transformations.\n **/\n'use strict';\n\n\nvar Ruler  = require('./ruler');\n\n\nvar _rules = [\n  [ 'normalize',      require('./rules_core/normalize')      ],\n  [ 'block',          require('./rules_core/block')          ],\n  [ 'inline',         require('./rules_core/inline')         ],\n  [ 'linkify',        require('./rules_core/linkify')        ],\n  [ 'replacements',   require('./rules_core/replacements')   ],\n  [ 'smartquotes',    require('./rules_core/smartquotes')    ],\n  // `text_join` finds `text_special` tokens (for escape sequences)\n  // and joins them with the rest of the text\n  [ 'text_join',      require('./rules_core/text_join')      ]\n];\n\n\n/**\n * new Core()\n **/\nfunction Core() {\n  /**\n   * Core#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of core rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n\n/**\n * Core.process(state)\n *\n * Executes core chain rules.\n **/\nCore.prototype.process = function (state) {\n  var i, l, rules;\n\n  rules = this.ruler.getRules('');\n\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\nCore.prototype.State = require('./rules_core/state_core');\n\n\nmodule.exports = Core;\n", "// GFM table, https://github.github.com/gfm/#tables-extension-\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.tShift[line],\n      max = state.eMarks[line];\n\n  return state.src.slice(pos, max);\n}\n\nfunction escapedSplit(str) {\n  var result = [],\n      pos = 0,\n      max = str.length,\n      ch,\n      isEscaped = false,\n      lastPos = 0,\n      current = '';\n\n  ch  = str.charCodeAt(pos);\n\n  while (pos < max) {\n    if (ch === 0x7c/* | */) {\n      if (!isEscaped) {\n        // pipe separating cells, '|'\n        result.push(current + str.substring(lastPos, pos));\n        current = '';\n        lastPos = pos + 1;\n      } else {\n        // escaped pipe, '\\|'\n        current += str.substring(lastPos, pos - 1);\n        lastPos = pos;\n      }\n    }\n\n    isEscaped = (ch === 0x5c/* \\ */);\n    pos++;\n\n    ch = str.charCodeAt(pos);\n  }\n\n  result.push(current + str.substring(lastPos));\n\n  return result;\n}\n\n\nmodule.exports = function table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, l, nextLine, columns, columnCount, token,\n      aligns, t, tableLines, tbodyLines, oldParentType, terminate,\n      terminatorRules, firstCh, secondCh;\n\n  // should have at least two lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.sCount[nextLine] < state.blkIndent) { return false; }\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) { return false; }\n\n  // first character of the second line should be '|', '-', ':',\n  // and no other characters are allowed but spaces;\n  // basically, this is the equivalent of /^[-:|][-:|\\s]*$/ regexp\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  firstCh = state.src.charCodeAt(pos++);\n  if (firstCh !== 0x7C/* | */ && firstCh !== 0x2D/* - */ && firstCh !== 0x3A/* : */) { return false; }\n\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  secondCh = state.src.charCodeAt(pos++);\n  if (secondCh !== 0x7C/* | */ && secondCh !== 0x2D/* - */ && secondCh !== 0x3A/* : */ && !isSpace(secondCh)) {\n    return false;\n  }\n\n  // if first character is '-', then second character must not be a space\n  // (due to parsing ambiguity with list)\n  if (firstCh === 0x2D/* - */ && isSpace(secondCh)) { return false; }\n\n  while (pos < state.eMarks[nextLine]) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */ && !isSpace(ch)) { return false; }\n\n    pos++;\n  }\n\n  lineText = getLine(state, startLine + 1);\n\n  columns = lineText.split('|');\n  aligns = [];\n  for (i = 0; i < columns.length; i++) {\n    t = columns[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === columns.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n  columns = escapedSplit(lineText);\n  if (columns.length && columns[0] === '') columns.shift();\n  if (columns.length && columns[columns.length - 1] === '') columns.pop();\n\n  // header row will define an amount of columns in the entire table,\n  // and align row should be exactly the same (the rest of the rows can differ)\n  columnCount = columns.length;\n  if (columnCount === 0 || columnCount !== aligns.length) { return false; }\n\n  if (silent) { return true; }\n\n  oldParentType = state.parentType;\n  state.parentType = 'table';\n\n  // use 'blockquote' lists for termination because it's\n  // the most similar to tables\n  terminatorRules = state.md.block.ruler.getRules('blockquote');\n\n  token     = state.push('table_open', 'table', 1);\n  token.map = tableLines = [ startLine, 0 ];\n\n  token     = state.push('thead_open', 'thead', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  token     = state.push('tr_open', 'tr', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  for (i = 0; i < columns.length; i++) {\n    token          = state.push('th_open', 'th', 1);\n    if (aligns[i]) {\n      token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n    }\n\n    token          = state.push('inline', '', 0);\n    token.content  = columns[i].trim();\n    token.children = [];\n\n    token          = state.push('th_close', 'th', -1);\n  }\n\n  token     = state.push('tr_close', 'tr', -1);\n  token     = state.push('thead_close', 'thead', -1);\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n\n    if (terminate) { break; }\n    lineText = getLine(state, nextLine).trim();\n    if (!lineText) { break; }\n    if (state.sCount[nextLine] - state.blkIndent >= 4) { break; }\n    columns = escapedSplit(lineText);\n    if (columns.length && columns[0] === '') columns.shift();\n    if (columns.length && columns[columns.length - 1] === '') columns.pop();\n\n    if (nextLine === startLine + 2) {\n      token     = state.push('tbody_open', 'tbody', 1);\n      token.map = tbodyLines = [ startLine + 2, 0 ];\n    }\n\n    token     = state.push('tr_open', 'tr', 1);\n    token.map = [ nextLine, nextLine + 1 ];\n\n    for (i = 0; i < columnCount; i++) {\n      token          = state.push('td_open', 'td', 1);\n      if (aligns[i]) {\n        token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n      }\n\n      token          = state.push('inline', '', 0);\n      token.content  = columns[i] ? columns[i].trim() : '';\n      token.children = [];\n\n      token          = state.push('td_close', 'td', -1);\n    }\n    token = state.push('tr_close', 'tr', -1);\n  }\n\n  if (tbodyLines) {\n    token = state.push('tbody_close', 'tbody', -1);\n    tbodyLines[1] = nextLine;\n  }\n\n  token = state.push('table_close', 'table', -1);\n  tableLines[1] = nextLine;\n\n  state.parentType = oldParentType;\n  state.line = nextLine;\n  return true;\n};\n", "// Code block (4 spaces padded)\n\n'use strict';\n\n\nmodule.exports = function code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last, token;\n\n  if (state.sCount[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = last;\n\n  token         = state.push('code_block', 'code', 0);\n  token.content = state.getLines(startLine, last, 4 + state.blkIndent, false) + '\\n';\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n", "// fences (``` lang, ~~~ lang)\n\n'use strict';\n\n\nmodule.exports = function fence(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem, token, markup,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  markup = state.src.slice(mem, pos);\n  params = state.src.slice(pos, max);\n\n  if (marker === 0x60 /* ` */) {\n    if (params.indexOf(String.fromCharCode(marker)) >= 0) {\n      return false;\n    }\n  }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.sCount[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.sCount[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n\n  token         = state.push('fence', 'code', 0);\n  token.info    = params;\n  token.content = state.getLines(startLine + 1, nextLine, len, true);\n  token.markup  = markup;\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n", "// Block quotes\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function blockquote(state, startLine, endLine, silent) {\n  var adjustTab,\n      ch,\n      i,\n      initial,\n      l,\n      lastLineEmpty,\n      lines,\n      nextLine,\n      offset,\n      oldBMarks,\n      oldBSCount,\n      oldIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      spaceAfterMarker,\n      terminate,\n      terminatorRules,\n      token,\n      isOutdented,\n      oldLineMax = state.lineMax,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos) !== 0x3E/* > */) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  oldBMarks  = [];\n  oldBSCount = [];\n  oldSCount  = [];\n  oldTShift  = [];\n\n  terminatorRules = state.md.block.ruler.getRules('blockquote');\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag:\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine; nextLine < endLine; nextLine++) {\n    // check if it's outdented, i.e. it's inside list item and indented\n    // less than said list item:\n    //\n    // ```\n    // 1. anything\n    //    > current blockquote\n    // 2. checking this line\n    // ```\n    isOutdented = state.sCount[nextLine] < state.blkIndent;\n\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */ && !isOutdented) {\n      // This line is inside the blockquote.\n\n      // set offset past spaces and \">\"\n      initial = state.sCount[nextLine] + 1;\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n        // ' >   test '\n        //     ^ -- position start of line here:\n        pos++;\n        initial++;\n        adjustTab = false;\n        spaceAfterMarker = true;\n      } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n        spaceAfterMarker = true;\n\n        if ((state.bsCount[nextLine] + initial) % 4 === 3) {\n          // '  >\\t  test '\n          //       ^ -- position start of line here (tab has width===1)\n          pos++;\n          initial++;\n          adjustTab = false;\n        } else {\n          // ' >\\t  test '\n          //    ^ -- position start of line here + shift bsCount slightly\n          //         to make extra space appear\n          adjustTab = true;\n        }\n      } else {\n        spaceAfterMarker = false;\n      }\n\n      offset = initial;\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n\n        if (isSpace(ch)) {\n          if (ch === 0x09) {\n            offset += 4 - (offset + state.bsCount[nextLine] + (adjustTab ? 1 : 0)) % 4;\n          } else {\n            offset++;\n          }\n        } else {\n          break;\n        }\n\n        pos++;\n      }\n\n      lastLineEmpty = pos >= max;\n\n      oldBSCount.push(state.bsCount[nextLine]);\n      state.bsCount[nextLine] = state.sCount[nextLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n      oldSCount.push(state.sCount[nextLine]);\n      state.sCount[nextLine] = offset - initial;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n\n    if (terminate) {\n      // Quirk to enforce \"hard termination mode\" for paragraphs;\n      // normally if you call `tokenize(state, startLine, nextLine)`,\n      // paragraphs will look below nextLine for paragraph continuation,\n      // but if blockquote is terminated by another tag, they shouldn't\n      state.lineMax = nextLine;\n\n      if (state.blkIndent !== 0) {\n        // state.blkIndent was non-zero, we now set it to zero,\n        // so we need to re-calculate all offsets to appear as\n        // if indent wasn't changed\n        oldBMarks.push(state.bMarks[nextLine]);\n        oldBSCount.push(state.bsCount[nextLine]);\n        oldTShift.push(state.tShift[nextLine]);\n        oldSCount.push(state.sCount[nextLine]);\n        state.sCount[nextLine] -= state.blkIndent;\n      }\n\n      break;\n    }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldBSCount.push(state.bsCount[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n    oldSCount.push(state.sCount[nextLine]);\n\n    // A negative indentation means that this is a paragraph continuation\n    //\n    state.sCount[nextLine] = -1;\n  }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  token        = state.push('blockquote_open', 'blockquote', 1);\n  token.markup = '>';\n  token.map    = lines = [ startLine, 0 ];\n\n  state.md.block.tokenize(state, startLine, nextLine);\n\n  token        = state.push('blockquote_close', 'blockquote', -1);\n  token.markup = '>';\n\n  state.lineMax = oldLineMax;\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n    state.sCount[i + startLine] = oldSCount[i];\n    state.bsCount[i + startLine] = oldBSCount[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n};\n", "// Horizontal rule\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 of them\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && !isSpace(ch)) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n\n  token        = state.push('hr', 'hr', 0);\n  token.map    = [ startLine, state.line ];\n  token.markup = Array(cnt + 1).join(String.fromCharCode(marker));\n\n  return true;\n};\n", "// Lists\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\n// Search `[-+*][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max, ch;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" -test \" - is not a list item\n      return -1;\n    }\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      pos = start,\n      max = state.eMarks[startLine];\n\n  // List marker should have at least 2 chars (digit + dot)\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n\n      // List marker should have no more than 9 digits\n      // (prevents integer overflow in browsers)\n      if (pos - start >= 10) { return -1; }\n\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" 1.test \" - is not a list item\n      return -1;\n    }\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].hidden = true;\n      state.tokens[i].hidden = true;\n      i += 2;\n    }\n  }\n}\n\n\nmodule.exports = function list(state, startLine, endLine, silent) {\n  var ch,\n      contentStart,\n      i,\n      indent,\n      indentAfterMarker,\n      initial,\n      isOrdered,\n      itemLines,\n      l,\n      listLines,\n      listTokIdx,\n      markerCharCode,\n      markerValue,\n      max,\n      offset,\n      oldListIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      oldTight,\n      pos,\n      posAfterMarker,\n      prevEmptyEnd,\n      start,\n      terminate,\n      terminatorRules,\n      token,\n      nextLine = startLine,\n      isTerminatingParagraph = false,\n      tight = true;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) { return false; }\n\n  // Special case:\n  //  - item 1\n  //   - item 2\n  //    - item 3\n  //     - item 4\n  //      - this one is a paragraph continuation\n  if (state.listIndent >= 0 &&\n      state.sCount[nextLine] - state.listIndent >= 4 &&\n      state.sCount[nextLine] < state.blkIndent) {\n    return false;\n  }\n\n  // limit conditions when list can interrupt\n  // a paragraph (validation mode only)\n  if (silent && state.parentType === 'paragraph') {\n    // Next list item should still terminate previous list item;\n    //\n    // This code can fail if plugins use blkIndent as well as lists,\n    // but I hope the spec gets fixed long before that happens.\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      isTerminatingParagraph = true;\n    }\n  }\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, nextLine)) >= 0) {\n    isOrdered = true;\n    start = state.bMarks[nextLine] + state.tShift[nextLine];\n    markerValue = Number(state.src.slice(start, posAfterMarker - 1));\n\n    // If we're starting a new ordered list right after\n    // a paragraph, it should start with 1.\n    if (isTerminatingParagraph && markerValue !== 1) return false;\n\n  } else if ((posAfterMarker = skipBulletListMarker(state, nextLine)) >= 0) {\n    isOrdered = false;\n\n  } else {\n    return false;\n  }\n\n  // If we're starting a new unordered list right after\n  // a paragraph, first line should not be empty.\n  if (isTerminatingParagraph) {\n    if (state.skipSpaces(posAfterMarker) >= state.eMarks[nextLine]) return false;\n  }\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    token       = state.push('ordered_list_open', 'ol', 1);\n    if (markerValue !== 1) {\n      token.attrs = [ [ 'start', markerValue ] ];\n    }\n\n  } else {\n    token       = state.push('bullet_list_open', 'ul', 1);\n  }\n\n  token.map    = listLines = [ nextLine, 0 ];\n  token.markup = String.fromCharCode(markerCharCode);\n\n  //\n  // Iterate list items\n  //\n\n  prevEmptyEnd = false;\n  terminatorRules = state.md.block.ruler.getRules('list');\n\n  oldParentType = state.parentType;\n  state.parentType = 'list';\n\n  while (nextLine < endLine) {\n    pos = posAfterMarker;\n    max = state.eMarks[nextLine];\n\n    initial = offset = state.sCount[nextLine] + posAfterMarker - (state.bMarks[nextLine] + state.tShift[nextLine]);\n\n    while (pos < max) {\n      ch = state.src.charCodeAt(pos);\n\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[nextLine]) % 4;\n      } else if (ch === 0x20) {\n        offset++;\n      } else {\n        break;\n      }\n\n      pos++;\n    }\n\n    contentStart = pos;\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = offset - initial;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = initial + indentAfterMarker;\n\n    // Run subparser & write tokens\n    token        = state.push('list_item_open', 'li', 1);\n    token.markup = String.fromCharCode(markerCharCode);\n    token.map    = itemLines = [ nextLine, 0 ];\n    if (isOrdered) {\n      token.info = state.src.slice(start, posAfterMarker - 1);\n    }\n\n    // change current state, then restore it after parser subcall\n    oldTight = state.tight;\n    oldTShift = state.tShift[nextLine];\n    oldSCount = state.sCount[nextLine];\n\n    //  - example list\n    // ^ listIndent position will be here\n    //   ^ blkIndent position will be here\n    //\n    oldListIndent = state.listIndent;\n    state.listIndent = state.blkIndent;\n    state.blkIndent = indent;\n\n    state.tight = true;\n    state.tShift[nextLine] = contentStart - state.bMarks[nextLine];\n    state.sCount[nextLine] = offset;\n\n    if (contentStart >= max && state.isEmpty(nextLine + 1)) {\n      // workaround for this case\n      // (list item is empty, list terminates before \"foo\"):\n      // ~~~~~~~~\n      //   -\n      //\n      //     foo\n      // ~~~~~~~~\n      state.line = Math.min(state.line + 2, endLine);\n    } else {\n      state.md.block.tokenize(state, nextLine, endLine, true);\n    }\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - nextLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = state.listIndent;\n    state.listIndent = oldListIndent;\n    state.tShift[nextLine] = oldTShift;\n    state.sCount[nextLine] = oldSCount;\n    state.tight = oldTight;\n\n    token        = state.push('list_item_close', 'li', -1);\n    token.markup = String.fromCharCode(markerCharCode);\n\n    nextLine = state.line;\n    itemLines[1] = nextLine;\n\n    if (nextLine >= endLine) { break; }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    // if it's indented more than 3 spaces, it should be a code block\n    if (state.sCount[nextLine] - state.blkIndent >= 4) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finalize list\n  if (isOrdered) {\n    token = state.push('ordered_list_close', 'ol', -1);\n  } else {\n    token = state.push('bullet_list_close', 'ul', -1);\n  }\n  token.markup = String.fromCharCode(markerCharCode);\n\n  listLines[1] = nextLine;\n  state.line = nextLine;\n\n  state.parentType = oldParentType;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n};\n", "'use strict';\n\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function reference(state, startLine, _endLine, silent) {\n  var ch,\n      destEndPos,\n      destEndLineNo,\n      endLine,\n      href,\n      i,\n      l,\n      label,\n      labelEnd,\n      oldParentType,\n      res,\n      start,\n      str,\n      terminate,\n      terminatorRules,\n      title,\n      lines = 0,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine],\n      nextLine = startLine + 1;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x5B/* [ */) { return false; }\n\n  // Simple check to quickly interrupt scan on [link](url) at the start of line.\n  // Can be useful on practice: https://github.com/markdown-it/markdown-it/issues/54\n  while (++pos < max) {\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */ &&\n        state.src.charCodeAt(pos - 1) !== 0x5C/* \\ */) {\n      if (pos + 1 === max) { return false; }\n      if (state.src.charCodeAt(pos + 1) !== 0x3A/* : */) { return false; }\n      break;\n    }\n  }\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  terminatorRules = state.md.block.ruler.getRules('reference');\n\n  oldParentType = state.parentType;\n  state.parentType = 'reference';\n\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  str = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n  max = str.length;\n\n  for (pos = 1; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x5B /* [ */) {\n      return false;\n    } else if (ch === 0x5D /* ] */) {\n      labelEnd = pos;\n      break;\n    } else if (ch === 0x0A /* \\n */) {\n      lines++;\n    } else if (ch === 0x5C /* \\ */) {\n      pos++;\n      if (pos < max && str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n  }\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return false; }\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  res = state.md.helpers.parseLinkDestination(str, pos, max);\n  if (!res.ok) { return false; }\n\n  href = state.md.normalizeLink(res.str);\n  if (!state.md.validateLink(href)) { return false; }\n\n  pos = res.pos;\n  lines += res.lines;\n\n  // save cursor state, we could require to rollback later\n  destEndPos = pos;\n  destEndLineNo = lines;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  res = state.md.helpers.parseLinkTitle(str, pos, max);\n  if (pos < max && start !== pos && res.ok) {\n    title = res.str;\n    pos = res.pos;\n    lines += res.lines;\n  } else {\n    title = '';\n    pos = destEndPos;\n    lines = destEndLineNo;\n  }\n\n  // skip trailing spaces until the rest of the line\n  while (pos < max) {\n    ch = str.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n    pos++;\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    if (title) {\n      // garbage at the end of the line after title,\n      // but it could still be a valid reference if we roll back\n      title = '';\n      pos = destEndPos;\n      lines = destEndLineNo;\n      while (pos < max) {\n        ch = str.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n    }\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    // garbage at the end of the line\n    return false;\n  }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (!label) {\n    // CommonMark 0.20 disallows empty labels\n    return false;\n  }\n\n  // Reference can not terminate anything. This check is for safety only.\n  /*istanbul ignore if*/\n  if (silent) { return true; }\n\n  if (typeof state.env.references === 'undefined') {\n    state.env.references = {};\n  }\n  if (typeof state.env.references[label] === 'undefined') {\n    state.env.references[label] = { title: title, href: href };\n  }\n\n  state.parentType = oldParentType;\n\n  state.line = startLine + lines + 1;\n  return true;\n};\n", "// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\n'use strict';\n\n\nmodule.exports = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n];\n", "// Regexps to match html elements\n\n'use strict';\n\nvar attr_name     = '[a-zA-Z_:][a-zA-Z0-9:._-]*';\n\nvar unquoted      = '[^\"\\'=<>`\\\\x00-\\\\x20]+';\nvar single_quoted = \"'[^']*'\";\nvar double_quoted = '\"[^\"]*\"';\n\nvar attr_value  = '(?:' + unquoted + '|' + single_quoted + '|' + double_quoted + ')';\n\nvar attribute   = '(?:\\\\s+' + attr_name + '(?:\\\\s*=\\\\s*' + attr_value + ')?)';\n\nvar open_tag    = '<[A-Za-z][A-Za-z0-9\\\\-]*' + attribute + '*\\\\s*\\\\/?>';\n\nvar close_tag   = '<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>';\nvar comment     = '<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->';\nvar processing  = '<[?][\\\\s\\\\S]*?[?]>';\nvar declaration = '<![A-Z]+\\\\s+[^>]*>';\nvar cdata       = '<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>';\n\nvar HTML_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + '|' + comment +\n                        '|' + processing + '|' + declaration + '|' + cdata + ')');\nvar HTML_OPEN_CLOSE_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + ')');\n\nmodule.exports.HTML_TAG_RE = HTML_TAG_RE;\nmodule.exports.HTML_OPEN_CLOSE_TAG_RE = HTML_OPEN_CLOSE_TAG_RE;\n", "// HTML block\n\n'use strict';\n\n\nvar block_names = require('../common/html_blocks');\nvar HTML_OPEN_CLOSE_TAG_RE = require('../common/html_re').HTML_OPEN_CLOSE_TAG_RE;\n\n// An array of opening and corresponding closing sequences for html tags,\n// last argument defines whether it can terminate a paragraph or not\n//\nvar HTML_SEQUENCES = [\n  [ /^<(script|pre|style|textarea)(?=(\\s|>|$))/i, /<\\/(script|pre|style|textarea)>/i, true ],\n  [ /^<!--/,        /-->/,   true ],\n  [ /^<\\?/,         /\\?>/,   true ],\n  [ /^<![A-Z]/,     />/,     true ],\n  [ /^<!\\[CDATA\\[/, /\\]\\]>/, true ],\n  [ new RegExp('^</?(' + block_names.join('|') + ')(?=(\\\\s|/?>|$))', 'i'), /^$/, true ],\n  [ new RegExp(HTML_OPEN_CLOSE_TAG_RE.source + '\\\\s*$'),  /^$/, false ]\n];\n\n\nmodule.exports = function html_block(state, startLine, endLine, silent) {\n  var i, nextLine, token, lineText,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (!state.md.options.html) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  lineText = state.src.slice(pos, max);\n\n  for (i = 0; i < HTML_SEQUENCES.length; i++) {\n    if (HTML_SEQUENCES[i][0].test(lineText)) { break; }\n  }\n\n  if (i === HTML_SEQUENCES.length) { return false; }\n\n  if (silent) {\n    // true if this sequence can be a terminator, false otherwise\n    return HTML_SEQUENCES[i][2];\n  }\n\n  nextLine = startLine + 1;\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till block end.\n  if (!HTML_SEQUENCES[i][1].test(lineText)) {\n    for (; nextLine < endLine; nextLine++) {\n      if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n      lineText = state.src.slice(pos, max);\n\n      if (HTML_SEQUENCES[i][1].test(lineText)) {\n        if (lineText.length !== 0) { nextLine++; }\n        break;\n      }\n    }\n  }\n\n  state.line = nextLine;\n\n  token         = state.push('html_block', '', 0);\n  token.map     = [ startLine, nextLine ];\n  token.content = state.getLines(startLine, nextLine, state.blkIndent, true);\n\n  return true;\n};\n", "// heading (#, ##, ...)\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function heading(state, startLine, endLine, silent) {\n  var ch, level, tmp, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && !isSpace(ch))) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipSpacesBack(max, pos);\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && isSpace(state.src.charCodeAt(tmp - 1))) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  token        = state.push('heading_open', 'h' + String(level), 1);\n  token.markup = '########'.slice(0, level);\n  token.map    = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = state.src.slice(pos, max).trim();\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token        = state.push('heading_close', 'h' + String(level), -1);\n  token.markup = '########'.slice(0, level);\n\n  return true;\n};\n", "// lheading (---, ===)\n\n'use strict';\n\n\nmodule.exports = function lheading(state, startLine, endLine/*, silent*/) {\n  var content, terminate, i, l, token, pos, max, level, marker,\n      nextLine = startLine + 1, oldParentType,\n      terminatorRules = state.md.block.ruler.getRules('paragraph');\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph'; // use paragraph to match terminatorRules\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    //\n    // Check for underline in setext header\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (pos < max) {\n        marker = state.src.charCodeAt(pos);\n\n        if (marker === 0x2D/* - */ || marker === 0x3D/* = */) {\n          pos = state.skipChars(pos, marker);\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            level = (marker === 0x3D/* = */ ? 1 : 2);\n            break;\n          }\n        }\n      }\n    }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  if (!level) {\n    // Didn't find valid underline\n    return false;\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine + 1;\n\n  token          = state.push('heading_open', 'h' + String(level), 1);\n  token.markup   = String.fromCharCode(marker);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line - 1 ];\n  token.children = [];\n\n  token          = state.push('heading_close', 'h' + String(level), -1);\n  token.markup   = String.fromCharCode(marker);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n", "// Paragraph\n\n'use strict';\n\n\nmodule.exports = function paragraph(state, startLine, endLine) {\n  var content, terminate, i, l, token, oldParentType,\n      nextLine = startLine + 1,\n      terminatorRules = state.md.block.ruler.getRules('paragraph');\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph';\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n\n  token          = state.push('paragraph_open', 'p', 1);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token          = state.push('paragraph_close', 'p', -1);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n", "// Parser state class\n\n'use strict';\n\nvar Token = require('../token');\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction StateBlock(src, md, env, tokens) {\n  var ch, s, start, pos, len, indent, offset, indent_found;\n\n  this.src = src;\n\n  // link to parser instance\n  this.md     = md;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // offsets of the first non-space characters (tabs not expanded)\n  this.sCount = [];  // indents for each line (tabs expanded)\n\n  // An amount of virtual spaces (tabs expanded) between beginning\n  // of each line (bMarks) and real beginning of that line.\n  //\n  // It exists only as a hack because blockquotes override bMarks\n  // losing information in the process.\n  //\n  // It's used only when expanding tabs, you can think about it as\n  // an initial tab length, e.g. bsCount=21 applied to string `\\t123`\n  // means first tab should be expanded to 4-21%4 === 3 spaces.\n  //\n  this.bsCount = [];\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent (for example, if we are\n                       // inside a list, it would be positioned after list marker)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n  this.listIndent = -1; // indent of the current list block (-1 if there isn't any)\n\n  // can be 'blockquote', 'list', 'root', 'paragraph' or 'reference'\n  // used in lists to determine if they interrupt a paragraph\n  this.parentType = 'root';\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent_found = false;\n\n  for (start = pos = indent = offset = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (isSpace(ch)) {\n        indent++;\n\n        if (ch === 0x09) {\n          offset += 4 - offset % 4;\n        } else {\n          offset++;\n        }\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n      this.sCount.push(offset);\n      this.bsCount.push(0);\n\n      indent_found = false;\n      indent = 0;\n      offset = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n  this.sCount.push(0);\n  this.bsCount.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\n// Push new token to \"stream\".\n//\nStateBlock.prototype.push = function (type, tag, nesting) {\n  var token = new Token(type, tag, nesting);\n  token.block = true;\n\n  if (nesting < 0) this.level--; // closing tag\n  token.level = this.level;\n  if (nesting > 0) this.level++; // opening tag\n\n  this.tokens.push(token);\n  return token;\n};\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  var ch;\n\n  for (var max = this.src.length; pos < max; pos++) {\n    ch = this.src.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n  }\n  return pos;\n};\n\n// Skip spaces from given position in reverse.\nStateBlock.prototype.skipSpacesBack = function skipSpacesBack(pos, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (!isSpace(this.src.charCodeAt(--pos))) { return pos + 1; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, lineIndent, ch, first, last, queue, lineStart,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    lineIndent = 0;\n    lineStart = first = this.bMarks[line];\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    while (first < last && lineIndent < indent) {\n      ch = this.src.charCodeAt(first);\n\n      if (isSpace(ch)) {\n        if (ch === 0x09) {\n          lineIndent += 4 - (lineIndent + this.bsCount[line]) % 4;\n        } else {\n          lineIndent++;\n        }\n      } else if (first - lineStart < this.tShift[line]) {\n        // patched tShift masked characters to look like spaces (blockquotes, list markers)\n        lineIndent++;\n      } else {\n        break;\n      }\n\n      first++;\n    }\n\n    if (lineIndent > indent) {\n      // partially expanding tabs in code blocks, e.g '\\t\\tfoobar'\n      // with indent=2 becomes '  \\tfoobar'\n      queue[i] = new Array(lineIndent - indent + 1).join(' ') + this.src.slice(first, last);\n    } else {\n      queue[i] = this.src.slice(first, last);\n    }\n  }\n\n  return queue.join('');\n};\n\n// re-export Token class to use in block rules\nStateBlock.prototype.Token = Token;\n\n\nmodule.exports = StateBlock;\n", "/** internal\n * class ParserBlock\n *\n * Block-level tokenizer.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\nvar _rules = [\n  // First 2 params - rule name & source. Secondary array - list of rules,\n  // which can be terminated by this one.\n  [ 'table',      require('./rules_block/table'),      [ 'paragraph', 'reference' ] ],\n  [ 'code',       require('./rules_block/code') ],\n  [ 'fence',      require('./rules_block/fence'),      [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'blockquote', require('./rules_block/blockquote'), [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'hr',         require('./rules_block/hr'),         [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'list',       require('./rules_block/list'),       [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'reference',  require('./rules_block/reference') ],\n  [ 'html_block', require('./rules_block/html_block'), [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'heading',    require('./rules_block/heading'),    [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'lheading',   require('./rules_block/lheading') ],\n  [ 'paragraph',  require('./rules_block/paragraph') ]\n];\n\n\n/**\n * new ParserBlock()\n **/\nfunction ParserBlock() {\n  /**\n   * ParserBlock#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of block rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1], { alt: (_rules[i][2] || []).slice() });\n  }\n}\n\n\n// Generate tokens for input range\n//\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var ok, i, prevLine,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      line = startLine,\n      hasEmptyLines = false,\n      maxNesting = state.md.options.maxNesting;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) { break; }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.sCount[line] < state.blkIndent) { break; }\n\n    // If nesting level exceeded - skip tail to the end. That's not ordinary\n    // situation and we should not care about content.\n    if (state.level >= maxNesting) {\n      state.line = endLine;\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n    prevLine = state.line;\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) {\n        if (prevLine >= state.line) {\n          throw new Error(\"block rule didn't increment state.line\");\n        }\n        break;\n      }\n    }\n\n    // this can only happen if user disables paragraph rule\n    if (!ok) throw new Error('none of the block rules matched');\n\n    // set state.tight if we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n      state.line = line;\n    }\n  }\n};\n\n\n/**\n * ParserBlock.parse(str, md, env, outTokens)\n *\n * Process input string and push block tokens into `outTokens`\n **/\nParserBlock.prototype.parse = function (src, md, env, outTokens) {\n  var state;\n\n  if (!src) { return; }\n\n  state = new this.State(src, md, env, outTokens);\n\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n\nParserBlock.prototype.State = require('./rules_block/state_block');\n\n\nmodule.exports = ParserBlock;\n", "// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n'use strict';\n\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n\n// !!!! Don't confuse with \"Markdown ASCII Punctuation\" chars\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x21/* ! */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2D/* - */:\n    case 0x3A/* : */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n};\n\n// Alternative implementation, for memory.\n//\n// It costs 10% of performance, but allows extend terminators list, if place it\n// to `ParcerInline` property. Probably, will switch to it sometime, such\n// flexibility required.\n\n/*\nvar TERMINATOR_RE = /[\\n!#$%&*+\\-:<=>@[\\\\\\]^_`{}~]/;\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos,\n      idx = state.src.slice(pos).search(TERMINATOR_RE);\n\n  // first char is terminator -> empty text\n  if (idx === 0) { return false; }\n\n  // no terminator -> text till end of string\n  if (idx < 0) {\n    if (!silent) { state.pending += state.src.slice(pos); }\n    state.pos = state.src.length;\n    return true;\n  }\n\n  if (!silent) { state.pending += state.src.slice(pos, pos + idx); }\n\n  state.pos += idx;\n\n  return true;\n};*/\n", "// Process links like https://example.org/\n\n'use strict';\n\n\n// RFC3986: scheme = ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\nvar SCHEME_RE = /(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;\n\n\nmodule.exports = function linkify(state, silent) {\n  var pos, max, match, proto, link, url, fullUrl, token;\n\n  if (!state.md.options.linkify) return false;\n  if (state.linkLevel > 0) return false;\n\n  pos = state.pos;\n  max = state.posMax;\n\n  if (pos + 3 > max) return false;\n  if (state.src.charCodeAt(pos) !== 0x3A/* : */) return false;\n  if (state.src.charCodeAt(pos + 1) !== 0x2F/* / */) return false;\n  if (state.src.charCodeAt(pos + 2) !== 0x2F/* / */) return false;\n\n  match = state.pending.match(SCHEME_RE);\n  if (!match) return false;\n\n  proto = match[1];\n\n  link = state.md.linkify.matchAtStart(state.src.slice(pos - proto.length));\n  if (!link) return false;\n\n  url = link.url;\n\n  // invalid link, but still detected by linkify somehow;\n  // need to check to prevent infinite loop below\n  if (url.length <= proto.length) return false;\n\n  // disallow '*' at the end of the link (conflicts with emphasis)\n  url = url.replace(/\\*+$/, '');\n\n  fullUrl = state.md.normalizeLink(url);\n  if (!state.md.validateLink(fullUrl)) return false;\n\n  if (!silent) {\n    state.pending = state.pending.slice(0, -proto.length);\n\n    token         = state.push('link_open', 'a', 1);\n    token.attrs   = [ [ 'href', fullUrl ] ];\n    token.markup  = 'linkify';\n    token.info    = 'auto';\n\n    token         = state.push('text', '', 0);\n    token.content = state.md.normalizeLinkText(url);\n\n    token         = state.push('link_close', 'a', -1);\n    token.markup  = 'linkify';\n    token.info    = 'auto';\n  }\n\n  state.pos += url.length - proto.length;\n  return true;\n};\n", "// Proceess '\\n'\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function newline(state, silent) {\n  var pmax, max, ws, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        // Find whitespaces tail of pending chars.\n        ws = pmax - 1;\n        while (ws >= 1 && state.pending.charCodeAt(ws - 1) === 0x20) ws--;\n\n        state.pending = state.pending.slice(0, ws);\n        state.push('hardbreak', 'br', 0);\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push('softbreak', 'br', 0);\n      }\n\n    } else {\n      state.push('softbreak', 'br', 0);\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && isSpace(state.src.charCodeAt(pos))) { pos++; }\n\n  state.pos = pos;\n  return true;\n};\n", "// Process escaped chars and hardbreaks\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function (ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nmodule.exports = function escape(state, silent) {\n  var ch1, ch2, origStr, escapedStr, token, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) return false;\n  pos++;\n\n  // '\\' at the end of the inline block\n  if (pos >= max) return false;\n\n  ch1 = state.src.charCodeAt(pos);\n\n  if (ch1 === 0x0A) {\n    if (!silent) {\n      state.push('hardbreak', 'br', 0);\n    }\n\n    pos++;\n    // skip leading whitespaces from next line\n    while (pos < max) {\n      ch1 = state.src.charCodeAt(pos);\n      if (!isSpace(ch1)) break;\n      pos++;\n    }\n\n    state.pos = pos;\n    return true;\n  }\n\n  escapedStr = state.src[pos];\n\n  if (ch1 >= 0xD800 && ch1 <= 0xDBFF && pos + 1 < max) {\n    ch2 = state.src.charCodeAt(pos + 1);\n\n    if (ch2 >= 0xDC00 && ch2 <= 0xDFFF) {\n      escapedStr += state.src[pos + 1];\n      pos++;\n    }\n  }\n\n  origStr = '\\\\' + escapedStr;\n\n  if (!silent) {\n    token = state.push('text_special', '', 0);\n\n    if (ch1 < 256 && ESCAPED[ch1] !== 0) {\n      token.content = escapedStr;\n    } else {\n      token.content = origStr;\n    }\n\n    token.markup = origStr;\n    token.info   = 'escape';\n  }\n\n  state.pos = pos + 1;\n  return true;\n};\n", "// Parse backticks\n\n'use strict';\n\n\nmodule.exports = function backtick(state, silent) {\n  var start, max, marker, token, matchStart, matchEnd, openerLength, closerLength,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  // scan marker length\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n  openerLength = marker.length;\n\n  if (state.backticksScanned && (state.backticks[openerLength] || 0) <= start) {\n    if (!silent) state.pending += marker;\n    state.pos += openerLength;\n    return true;\n  }\n\n  matchEnd = pos;\n\n  // Nothing found in the cache, scan until the end of the line (or until marker is found)\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    // scan marker length\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    closerLength = matchEnd - matchStart;\n\n    if (closerLength === openerLength) {\n      // Found matching closer length.\n      if (!silent) {\n        token     = state.push('code_inline', 'code', 0);\n        token.markup  = marker;\n        token.content = state.src.slice(pos, matchStart)\n          .replace(/\\n/g, ' ')\n          .replace(/^ (.+) $/, '$1');\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n\n    // Some different length found, put it in cache as upper limit of where closer can be found\n    state.backticks[closerLength] = matchStart;\n  }\n\n  // Scanned through the end, didn't find anything\n  state.backticksScanned = true;\n\n  if (!silent) state.pending += marker;\n  state.pos += openerLength;\n  return true;\n};\n", "// ~~strike through~~\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function strikethrough(state, silent) {\n  var i, scanned, token, len, ch,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x7E/* ~ */) { return false; }\n\n  scanned = state.scanDelims(state.pos, true);\n  len = scanned.length;\n  ch = String.fromCharCode(marker);\n\n  if (len < 2) { return false; }\n\n  if (len % 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch;\n    len--;\n  }\n\n  for (i = 0; i < len; i += 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch + ch;\n\n    state.delimiters.push({\n      marker: marker,\n      length: 0,     // disable \"rule of 3\" length checks meant for emphasis\n      token:  state.tokens.length - 1,\n      end:    -1,\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i, j,\n      startDelim,\n      endDelim,\n      token,\n      loneMarkers = [],\n      max = delimiters.length;\n\n  for (i = 0; i < max; i++) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x7E/* ~ */) {\n      continue;\n    }\n\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    token         = state.tokens[startDelim.token];\n    token.type    = 's_open';\n    token.tag     = 's';\n    token.nesting = 1;\n    token.markup  = '~~';\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = 's_close';\n    token.tag     = 's';\n    token.nesting = -1;\n    token.markup  = '~~';\n    token.content = '';\n\n    if (state.tokens[endDelim.token - 1].type === 'text' &&\n        state.tokens[endDelim.token - 1].content === '~') {\n\n      loneMarkers.push(endDelim.token - 1);\n    }\n  }\n\n  // If a marker sequence has an odd number of characters, it's splitted\n  // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n  // start of the sequence.\n  //\n  // So, we have to move all those markers after subsequent s_close tags.\n  //\n  while (loneMarkers.length) {\n    i = loneMarkers.pop();\n    j = i + 1;\n\n    while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n      j++;\n    }\n\n    j--;\n\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function strikethrough(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n", "// Process *this* and _that_\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function emphasis(state, silent) {\n  var i, scanned, token,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x5F /* _ */ && marker !== 0x2A /* * */) { return false; }\n\n  scanned = state.scanDelims(state.pos, marker === 0x2A);\n\n  for (i = 0; i < scanned.length; i++) {\n    token         = state.push('text', '', 0);\n    token.content = String.fromCharCode(marker);\n\n    state.delimiters.push({\n      // Char code of the starting marker (number).\n      //\n      marker: marker,\n\n      // Total length of these series of delimiters.\n      //\n      length: scanned.length,\n\n      // A position of the token this delimiter corresponds to.\n      //\n      token:  state.tokens.length - 1,\n\n      // If this delimiter is matched as a valid opener, `end` will be\n      // equal to its position, otherwise it's `-1`.\n      //\n      end:    -1,\n\n      // Boolean flags that determine if this delimiter could open or close\n      // an emphasis.\n      //\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i,\n      startDelim,\n      endDelim,\n      token,\n      ch,\n      isStrong,\n      max = delimiters.length;\n\n  for (i = max - 1; i >= 0; i--) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x5F/* _ */ && startDelim.marker !== 0x2A/* * */) {\n      continue;\n    }\n\n    // Process only opening markers\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    // If the previous delimiter has the same marker and is adjacent to this one,\n    // merge those into one strong delimiter.\n    //\n    // `<em><em>whatever</em></em>` -> `<strong>whatever</strong>`\n    //\n    isStrong = i > 0 &&\n               delimiters[i - 1].end === startDelim.end + 1 &&\n               // check that first two markers match and adjacent\n               delimiters[i - 1].marker === startDelim.marker &&\n               delimiters[i - 1].token === startDelim.token - 1 &&\n               // check that last two markers are adjacent (we can safely assume they match)\n               delimiters[startDelim.end + 1].token === endDelim.token + 1;\n\n    ch = String.fromCharCode(startDelim.marker);\n\n    token         = state.tokens[startDelim.token];\n    token.type    = isStrong ? 'strong_open' : 'em_open';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = 1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = isStrong ? 'strong_close' : 'em_close';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = -1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    if (isStrong) {\n      state.tokens[delimiters[i - 1].token].content = '';\n      state.tokens[delimiters[startDelim.end + 1].token].content = '';\n      i--;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function emphasis(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n", "// Process [link](<to> \"stuff\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function link(state, silent) {\n  var attrs,\n      code,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      res,\n      ref,\n      token,\n      href = '',\n      title = '',\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      parseReference = true;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // might have found a valid shortcut link, disable reference parsing\n    parseReference = false;\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n\n      // [link](  <href>  \"title\"  )\n      //                ^^ skipping these spaces\n      start = pos;\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n\n      // [link](  <href>  \"title\"  )\n      //                  ^^^^^^^ parsing link title\n      res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n      if (pos < max && start !== pos && res.ok) {\n        title = res.str;\n        pos = res.pos;\n\n        // [link](  <href>  \"title\"  )\n        //                         ^^ skipping these spaces\n        for (; pos < max; pos++) {\n          code = state.src.charCodeAt(pos);\n          if (!isSpace(code) && code !== 0x0A) { break; }\n        }\n      }\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      // parsing a valid shortcut link failed, fallback to reference\n      parseReference = true;\n    }\n    pos++;\n  }\n\n  if (parseReference) {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token        = state.push('link_open', 'a', 1);\n    token.attrs  = attrs = [ [ 'href', href ] ];\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n\n    state.linkLevel++;\n    state.md.inline.tokenize(state);\n    state.linkLevel--;\n\n    token        = state.push('link_close', 'a', -1);\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n", "// Process ![image](<src> \"title\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function image(state, silent) {\n  var attrs,\n      code,\n      content,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      ref,\n      res,\n      title,\n      token,\n      tokens,\n      start,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x21/* ! */) { return false; }\n  if (state.src.charCodeAt(state.pos + 1) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 2;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    content = state.src.slice(labelStart, labelEnd);\n\n    state.md.inline.parse(\n      content,\n      state.md,\n      state.env,\n      tokens = []\n    );\n\n    token          = state.push('image', 'img', 0);\n    token.attrs    = attrs = [ [ 'src', href ], [ 'alt', '' ] ];\n    token.children = tokens;\n    token.content  = content;\n\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n", "// Process autolinks '<protocol:...>'\n\n'use strict';\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/;\nvar AUTOLINK_RE = /^([a-zA-Z][a-zA-Z0-9+.\\-]{1,31}):([^<>\\x00-\\x20]*)$/;\n\n\nmodule.exports = function autolink(state, silent) {\n  var url, fullUrl, token, ch, start, max,\n      pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  start = state.pos;\n  max = state.posMax;\n\n  for (;;) {\n    if (++pos >= max) return false;\n\n    ch = state.src.charCodeAt(pos);\n\n    if (ch === 0x3C /* < */) return false;\n    if (ch === 0x3E /* > */) break;\n  }\n\n  url = state.src.slice(start + 1, pos);\n\n  if (AUTOLINK_RE.test(url)) {\n    fullUrl = state.md.normalizeLink(url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += url.length + 2;\n    return true;\n  }\n\n  if (EMAIL_RE.test(url)) {\n    fullUrl = state.md.normalizeLink('mailto:' + url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += url.length + 2;\n    return true;\n  }\n\n  return false;\n};\n", "// Process html tags\n\n'use strict';\n\n\nvar HTML_TAG_RE = require('../common/html_re').HTML_TAG_RE;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nmodule.exports = function html_inline(state, silent) {\n  var ch, match, max, token,\n      pos = state.pos;\n\n  if (!state.md.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    token         = state.push('html_inline', '', 0);\n    token.content = match[0];\n\n    if (isLinkOpen(token.content))  state.linkLevel++;\n    if (isLinkClose(token.content)) state.linkLevel--;\n  }\n  state.pos += match[0].length;\n  return true;\n};\n", "// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n'use strict';\n\nvar entities          = require('../common/entities');\nvar has               = require('../common/utils').has;\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\nvar fromCodePoint     = require('../common/utils').fromCodePoint;\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nmodule.exports = function entity(state, silent) {\n  var ch, code, match, token, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) return false;\n\n  if (pos + 1 >= max) return false;\n\n  ch = state.src.charCodeAt(pos + 1);\n\n  if (ch === 0x23 /* # */) {\n    match = state.src.slice(pos).match(DIGITAL_RE);\n    if (match) {\n      if (!silent) {\n        code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n\n        token         = state.push('text_special', '', 0);\n        token.content = isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        token.markup  = match[0];\n        token.info    = 'entity';\n      }\n      state.pos += match[0].length;\n      return true;\n    }\n  } else {\n    match = state.src.slice(pos).match(NAMED_RE);\n    if (match) {\n      if (has(entities, match[1])) {\n        if (!silent) {\n          token         = state.push('text_special', '', 0);\n          token.content = entities[match[1]];\n          token.markup  = match[0];\n          token.info    = 'entity';\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n", "// For each opening emphasis-like marker find a matching closing one\n//\n'use strict';\n\n\nfunction processDelimiters(delimiters) {\n  var closerIdx, openerIdx, closer, opener, minOpenerIdx, newMinOpenerIdx,\n      isOddMatch, lastJump,\n      openersBottom = {},\n      max = delimiters.length;\n\n  if (!max) return;\n\n  // headerIdx is the first delimiter of the current (where closer is) delimiter run\n  var headerIdx = 0;\n  var lastTokenIdx = -2; // needs any value lower than -1\n  var jumps = [];\n\n  for (closerIdx = 0; closerIdx < max; closerIdx++) {\n    closer = delimiters[closerIdx];\n\n    jumps.push(0);\n\n    // markers belong to same delimiter run if:\n    //  - they have adjacent tokens\n    //  - AND markers are the same\n    //\n    if (delimiters[headerIdx].marker !== closer.marker || lastTokenIdx !== closer.token - 1) {\n      headerIdx = closerIdx;\n    }\n\n    lastTokenIdx = closer.token;\n\n    // Length is only used for emphasis-specific \"rule of 3\",\n    // if it's not defined (in strikethrough or 3rd party plugins),\n    // we can default it to 0 to disable those checks.\n    //\n    closer.length = closer.length || 0;\n\n    if (!closer.close) continue;\n\n    // Previously calculated lower bounds (previous fails)\n    // for each marker, each delimiter length modulo 3,\n    // and for whether this closer can be an opener;\n    // https://github.com/commonmark/cmark/commit/34250e12ccebdc6372b8b49c44fab57c72443460\n    if (!openersBottom.hasOwnProperty(closer.marker)) {\n      openersBottom[closer.marker] = [ -1, -1, -1, -1, -1, -1 ];\n    }\n\n    minOpenerIdx = openersBottom[closer.marker][(closer.open ? 3 : 0) + (closer.length % 3)];\n\n    openerIdx = headerIdx - jumps[headerIdx] - 1;\n\n    newMinOpenerIdx = openerIdx;\n\n    for (; openerIdx > minOpenerIdx; openerIdx -= jumps[openerIdx] + 1) {\n      opener = delimiters[openerIdx];\n\n      if (opener.marker !== closer.marker) continue;\n\n      if (opener.open && opener.end < 0) {\n\n        isOddMatch = false;\n\n        // from spec:\n        //\n        // If one of the delimiters can both open and close emphasis, then the\n        // sum of the lengths of the delimiter runs containing the opening and\n        // closing delimiters must not be a multiple of 3 unless both lengths\n        // are multiples of 3.\n        //\n        if (opener.close || closer.open) {\n          if ((opener.length + closer.length) % 3 === 0) {\n            if (opener.length % 3 !== 0 || closer.length % 3 !== 0) {\n              isOddMatch = true;\n            }\n          }\n        }\n\n        if (!isOddMatch) {\n          // If previous delimiter cannot be an opener, we can safely skip\n          // the entire sequence in future checks. This is required to make\n          // sure algorithm has linear complexity (see *_*_*_*_*_... case).\n          //\n          lastJump = openerIdx > 0 && !delimiters[openerIdx - 1].open ?\n            jumps[openerIdx - 1] + 1 :\n            0;\n\n          jumps[closerIdx] = closerIdx - openerIdx + lastJump;\n          jumps[openerIdx] = lastJump;\n\n          closer.open  = false;\n          opener.end   = closerIdx;\n          opener.close = false;\n          newMinOpenerIdx = -1;\n          // treat next token as start of run,\n          // it optimizes skips in **<...>**a**<...>** pathological case\n          lastTokenIdx = -2;\n          break;\n        }\n      }\n    }\n\n    if (newMinOpenerIdx !== -1) {\n      // If match for this delimiter run failed, we want to set lower bound for\n      // future lookups. This is required to make sure algorithm has linear\n      // complexity.\n      //\n      // See details here:\n      // https://github.com/commonmark/cmark/issues/178#issuecomment-270417442\n      //\n      openersBottom[closer.marker][(closer.open ? 3 : 0) + ((closer.length || 0) % 3)] = newMinOpenerIdx;\n    }\n  }\n}\n\n\nmodule.exports = function link_pairs(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  processDelimiters(state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      processDelimiters(tokens_meta[curr].delimiters);\n    }\n  }\n};\n", "// Clean up tokens after emphasis and strikethrough postprocessing:\n// merge adjacent text nodes into one and re-calculate all token levels\n//\n// This is necessary because initially emphasis delimiter markers (*, _, ~)\n// are treated as their own separate text tokens. Then emphasis rule either\n// leaves them as text (needed to merge with adjacent text) or turns them\n// into opening/closing tags (which messes up levels inside).\n//\n'use strict';\n\n\nmodule.exports = function fragments_join(state) {\n  var curr, last,\n      level = 0,\n      tokens = state.tokens,\n      max = state.tokens.length;\n\n  for (curr = last = 0; curr < max; curr++) {\n    // re-calculate levels after emphasis/strikethrough turns some text nodes\n    // into opening/closing tags\n    if (tokens[curr].nesting < 0) level--; // closing tag\n    tokens[curr].level = level;\n    if (tokens[curr].nesting > 0) level++; // opening tag\n\n    if (tokens[curr].type === 'text' &&\n        curr + 1 < max &&\n        tokens[curr + 1].type === 'text') {\n\n      // collapse two adjacent text nodes\n      tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n    } else {\n      if (curr !== last) { tokens[last] = tokens[curr]; }\n\n      last++;\n    }\n  }\n\n  if (curr !== last) {\n    tokens.length = last;\n  }\n};\n", "// Inline parser state\n\n'use strict';\n\n\nvar Token          = require('../token');\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\n\nfunction StateInline(src, md, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.md = md;\n  this.tokens = outTokens;\n  this.tokens_meta = Array(outTokens.length);\n\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  // Stores { start: end } pairs. Useful for backtrack\n  // optimization of pairs parse (emphasis, strikes).\n  this.cache = {};\n\n  // List of emphasis-like delimiters for current tag\n  this.delimiters = [];\n\n  // Stack of delimiter lists for upper level tags\n  this._prev_delimiters = [];\n\n  // backtick length => last seen position\n  this.backticks = {};\n  this.backticksScanned = false;\n\n  // Counter used to disable inline linkify-it execution\n  // inside <a> and markdown links\n  this.linkLevel = 0;\n}\n\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  var token = new Token('text', '', 0);\n  token.content = this.pending;\n  token.level = this.pendingLevel;\n  this.tokens.push(token);\n  this.pending = '';\n  return token;\n};\n\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (type, tag, nesting) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  var token = new Token(type, tag, nesting);\n  var token_meta = null;\n\n  if (nesting < 0) {\n    // closing tag\n    this.level--;\n    this.delimiters = this._prev_delimiters.pop();\n  }\n\n  token.level = this.level;\n\n  if (nesting > 0) {\n    // opening tag\n    this.level++;\n    this._prev_delimiters.push(this.delimiters);\n    this.delimiters = [];\n    token_meta = { delimiters: this.delimiters };\n  }\n\n  this.pendingLevel = this.level;\n  this.tokens.push(token);\n  this.tokens_meta.push(token_meta);\n  return token;\n};\n\n\n// Scan a sequence of emphasis-like markers, and determine whether\n// it can start an emphasis sequence or end an emphasis sequence.\n//\n//  - start - position to scan from (it should point at a valid marker);\n//  - canSplitWord - determine if these markers can be found inside a word\n//\nStateInline.prototype.scanDelims = function (start, canSplitWord) {\n  var pos = start, lastChar, nextChar, count, can_open, can_close,\n      isLastWhiteSpace, isLastPunctChar,\n      isNextWhiteSpace, isNextPunctChar,\n      left_flanking = true,\n      right_flanking = true,\n      max = this.posMax,\n      marker = this.src.charCodeAt(start);\n\n  // treat beginning of the line as a whitespace\n  lastChar = start > 0 ? this.src.charCodeAt(start - 1) : 0x20;\n\n  while (pos < max && this.src.charCodeAt(pos) === marker) { pos++; }\n\n  count = pos - start;\n\n  // treat end of the line as a whitespace\n  nextChar = pos < max ? this.src.charCodeAt(pos) : 0x20;\n\n  isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n  isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n  isLastWhiteSpace = isWhiteSpace(lastChar);\n  isNextWhiteSpace = isWhiteSpace(nextChar);\n\n  if (isNextWhiteSpace) {\n    left_flanking = false;\n  } else if (isNextPunctChar) {\n    if (!(isLastWhiteSpace || isLastPunctChar)) {\n      left_flanking = false;\n    }\n  }\n\n  if (isLastWhiteSpace) {\n    right_flanking = false;\n  } else if (isLastPunctChar) {\n    if (!(isNextWhiteSpace || isNextPunctChar)) {\n      right_flanking = false;\n    }\n  }\n\n  if (!canSplitWord) {\n    can_open  = left_flanking  && (!right_flanking || isLastPunctChar);\n    can_close = right_flanking && (!left_flanking  || isNextPunctChar);\n  } else {\n    can_open  = left_flanking;\n    can_close = right_flanking;\n  }\n\n  return {\n    can_open:  can_open,\n    can_close: can_close,\n    length:    count\n  };\n};\n\n\n// re-export Token class to use in block rules\nStateInline.prototype.Token = Token;\n\n\nmodule.exports = StateInline;\n", "/** internal\n * class ParserInline\n *\n * Tokenizes paragraph content.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Parser rules\n\nvar _rules = [\n  [ 'text',            require('./rules_inline/text') ],\n  [ 'linkify',         require('./rules_inline/linkify') ],\n  [ 'newline',         require('./rules_inline/newline') ],\n  [ 'escape',          require('./rules_inline/escape') ],\n  [ 'backticks',       require('./rules_inline/backticks') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').tokenize ],\n  [ 'emphasis',        require('./rules_inline/emphasis').tokenize ],\n  [ 'link',            require('./rules_inline/link') ],\n  [ 'image',           require('./rules_inline/image') ],\n  [ 'autolink',        require('./rules_inline/autolink') ],\n  [ 'html_inline',     require('./rules_inline/html_inline') ],\n  [ 'entity',          require('./rules_inline/entity') ]\n];\n\n// `rule2` ruleset was created specifically for emphasis/strikethrough\n// post-processing and may be changed in the future.\n//\n// Don't use this for anything except pairs (plugins working with `balance_pairs`).\n//\nvar _rules2 = [\n  [ 'balance_pairs',   require('./rules_inline/balance_pairs') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').postProcess ],\n  [ 'emphasis',        require('./rules_inline/emphasis').postProcess ],\n  // rules for pairs separate '**' into its own text tokens, which may be left unused,\n  // rule below merges unused segments back with the rest of the text\n  [ 'fragments_join',  require('./rules_inline/fragments_join') ]\n];\n\n\n/**\n * new ParserInline()\n **/\nfunction ParserInline() {\n  var i;\n\n  /**\n   * ParserInline#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of inline rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n\n  /**\n   * ParserInline#ruler2 -> Ruler\n   *\n   * [[Ruler]] instance. Second ruler used for post-processing\n   * (e.g. in emphasis-like rules).\n   **/\n  this.ruler2 = new Ruler();\n\n  for (i = 0; i < _rules2.length; i++) {\n    this.ruler2.push(_rules2[i][0], _rules2[i][1]);\n  }\n}\n\n\n// Skip single token by running all rules in validation mode;\n// returns `true` if any rule reported success\n//\nParserInline.prototype.skipToken = function (state) {\n  var ok, i, pos = state.pos,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      maxNesting = state.md.options.maxNesting,\n      cache = state.cache;\n\n\n  if (typeof cache[pos] !== 'undefined') {\n    state.pos = cache[pos];\n    return;\n  }\n\n  if (state.level < maxNesting) {\n    for (i = 0; i < len; i++) {\n      // Increment state.level and decrement it later to limit recursion.\n      // It's harmless to do here, because no tokens are created. But ideally,\n      // we'd need a separate private state variable for this purpose.\n      //\n      state.level++;\n      ok = rules[i](state, true);\n      state.level--;\n\n      if (ok) {\n        if (pos >= state.pos) { throw new Error(\"inline rule didn't increment state.pos\"); }\n        break;\n      }\n    }\n  } else {\n    // Too much nesting, just skip until the end of the paragraph.\n    //\n    // NOTE: this will cause links to behave incorrectly in the following case,\n    //       when an amount of `[` is exactly equal to `maxNesting + 1`:\n    //\n    //       [[[[[[[[[[[[[[[[[[[[[foo]()\n    //\n    // TODO: remove this workaround when CM standard will allow nested links\n    //       (we can replace it by preventing links from being parsed in\n    //       validation mode)\n    //\n    state.pos = state.posMax;\n  }\n\n  if (!ok) { state.pos++; }\n  cache[pos] = state.pos;\n};\n\n\n// Generate tokens for input range\n//\nParserInline.prototype.tokenize = function (state) {\n  var ok, i, prevPos,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      end = state.posMax,\n      maxNesting = state.md.options.maxNesting;\n\n  while (state.pos < end) {\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n    prevPos = state.pos;\n\n    if (state.level < maxNesting) {\n      for (i = 0; i < len; i++) {\n        ok = rules[i](state, false);\n        if (ok) {\n          if (prevPos >= state.pos) { throw new Error(\"inline rule didn't increment state.pos\"); }\n          break;\n        }\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n\n/**\n * ParserInline.parse(str, md, env, outTokens)\n *\n * Process input string and push inline tokens into `outTokens`\n **/\nParserInline.prototype.parse = function (str, md, env, outTokens) {\n  var i, rules, len;\n  var state = new this.State(str, md, env, outTokens);\n\n  this.tokenize(state);\n\n  rules = this.ruler2.getRules('');\n  len = rules.length;\n\n  for (i = 0; i < len; i++) {\n    rules[i](state);\n  }\n};\n\n\nParserInline.prototype.State = require('./rules_inline/state_inline');\n\n\nmodule.exports = ParserInline;\n", "'use strict';\n\n\nmodule.exports = function (opts) {\n  var re = {};\n  opts = opts || {};\n\n  // Use direct extract instead of `regenerate` to reduse browserified size\n  re.src_Any = require('uc.micro/properties/Any/regex').source;\n  re.src_Cc  = require('uc.micro/categories/Cc/regex').source;\n  re.src_Z   = require('uc.micro/categories/Z/regex').source;\n  re.src_P   = require('uc.micro/categories/P/regex').source;\n\n  // \\p{\\Z\\P\\Cc\\CF} (white spaces + control + format + punctuation)\n  re.src_ZPCc = [ re.src_Z, re.src_P, re.src_Cc ].join('|');\n\n  // \\p{\\Z\\Cc} (white spaces + control)\n  re.src_ZCc = [ re.src_Z, re.src_Cc ].join('|');\n\n  // Experimental. List of chars, completely prohibited in links\n  // because can separate it from other part of text\n  var text_separators = '[><\\uff5c]';\n\n  // All possible word characters (everything without punctuation, spaces & controls)\n  // Defined via punctuation & spaces to save space\n  // Should be something like \\p{\\L\\N\\S\\M} (\\w but without `_`)\n  re.src_pseudo_letter       = '(?:(?!' + text_separators + '|' + re.src_ZPCc + ')' + re.src_Any + ')';\n  // The same as abothe but without [0-9]\n  // var src_pseudo_letter_non_d = '(?:(?![0-9]|' + src_ZPCc + ')' + src_Any + ')';\n\n  ////////////////////////////////////////////////////////////////////////////////\n\n  re.src_ip4 =\n\n    '(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)';\n\n  // Prohibit any of \"@/[]()\" in user/pass to avoid wrong domain fetch.\n  re.src_auth    = '(?:(?:(?!' + re.src_ZCc + '|[@/\\\\[\\\\]()]).)+@)?';\n\n  re.src_port =\n\n    '(?::(?:6(?:[0-4]\\\\d{3}|5(?:[0-4]\\\\d{2}|5(?:[0-2]\\\\d|3[0-5])))|[1-5]?\\\\d{1,4}))?';\n\n  re.src_host_terminator =\n\n    '(?=$|' + text_separators + '|' + re.src_ZPCc + ')' +\n    '(?!' + (opts['---'] ? '-(?!--)|' : '-|') + '_|:\\\\d|\\\\.-|\\\\.(?!$|' + re.src_ZPCc + '))';\n\n  re.src_path =\n\n    '(?:' +\n      '[/?#]' +\n        '(?:' +\n          '(?!' + re.src_ZCc + '|' + text_separators + '|[()[\\\\]{}.,\"\\'?!\\\\-;]).|' +\n          '\\\\[(?:(?!' + re.src_ZCc + '|\\\\]).)*\\\\]|' +\n          '\\\\((?:(?!' + re.src_ZCc + '|[)]).)*\\\\)|' +\n          '\\\\{(?:(?!' + re.src_ZCc + '|[}]).)*\\\\}|' +\n          '\\\\\"(?:(?!' + re.src_ZCc + '|[\"]).)+\\\\\"|' +\n          \"\\\\'(?:(?!\" + re.src_ZCc + \"|[']).)+\\\\'|\" +\n          \"\\\\'(?=\" + re.src_pseudo_letter + '|[-])|' +  // allow `I'm_king` if no pair found\n          '\\\\.{2,}[a-zA-Z0-9%/&]|' + // google has many dots in \"google search\" links (#66, #81).\n                                     // github has ... in commit range links,\n                                     // Restrict to\n                                     // - english\n                                     // - percent-encoded\n                                     // - parts of file path\n                                     // - params separator\n                                     // until more examples found.\n          '\\\\.(?!' + re.src_ZCc + '|[.]|$)|' +\n          (opts['---'] ?\n            '\\\\-(?!--(?:[^-]|$))(?:-*)|' // `---` => long dash, terminate\n            :\n            '\\\\-+|'\n          ) +\n          ',(?!' + re.src_ZCc + '|$)|' +       // allow `,,,` in paths\n          ';(?!' + re.src_ZCc + '|$)|' +       // allow `;` if not followed by space-like char\n          '\\\\!+(?!' + re.src_ZCc + '|[!]|$)|' +  // allow `!!!` in paths, but not at the end\n          '\\\\?(?!' + re.src_ZCc + '|[?]|$)' +\n        ')+' +\n      '|\\\\/' +\n    ')?';\n\n  // Allow anything in markdown spec, forbid quote (\") at the first position\n  // because emails enclosed in quotes are far more common\n  re.src_email_name =\n\n    '[\\\\-;:&=\\\\+\\\\$,\\\\.a-zA-Z0-9_][\\\\-;:&=\\\\+\\\\$,\\\\\"\\\\.a-zA-Z0-9_]*';\n\n  re.src_xn =\n\n    'xn--[a-z0-9\\\\-]{1,59}';\n\n  // More to read about domain names\n  // http://serverfault.com/questions/638260/\n\n  re.src_domain_root =\n\n    // Allow letters & digits (http://test1)\n    '(?:' +\n      re.src_xn +\n      '|' +\n      re.src_pseudo_letter + '{1,63}' +\n    ')';\n\n  re.src_domain =\n\n    '(?:' +\n      re.src_xn +\n      '|' +\n      '(?:' + re.src_pseudo_letter + ')' +\n      '|' +\n      '(?:' + re.src_pseudo_letter + '(?:-|' + re.src_pseudo_letter + '){0,61}' + re.src_pseudo_letter + ')' +\n    ')';\n\n  re.src_host =\n\n    '(?:' +\n    // Don't need IP check, because digits are already allowed in normal domain names\n    //   src_ip4 +\n    // '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)*' + re.src_domain/*_root*/ + ')' +\n    ')';\n\n  re.tpl_host_fuzzy =\n\n    '(?:' +\n      re.src_ip4 +\n    '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))' +\n    ')';\n\n  re.tpl_host_no_ip_fuzzy =\n\n    '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))';\n\n  re.src_host_strict =\n\n    re.src_host + re.src_host_terminator;\n\n  re.tpl_host_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_host_terminator;\n\n  re.src_host_port_strict =\n\n    re.src_host + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_no_ip_fuzzy_strict =\n\n    re.tpl_host_no_ip_fuzzy + re.src_port + re.src_host_terminator;\n\n\n  ////////////////////////////////////////////////////////////////////////////////\n  // Main rules\n\n  // Rude test fuzzy links by host, for quick deny\n  re.tpl_host_fuzzy_test =\n\n    'localhost|www\\\\.|\\\\.\\\\d{1,3}\\\\.|(?:\\\\.(?:%TLDS%)(?:' + re.src_ZPCc + '|>|$))';\n\n  re.tpl_email_fuzzy =\n\n      '(^|' + text_separators + '|\"|\\\\(|' + re.src_ZCc + ')' +\n      '(' + re.src_email_name + '@' + re.tpl_host_fuzzy_strict + ')';\n\n  re.tpl_link_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_fuzzy_strict + re.src_path + ')';\n\n  re.tpl_link_no_ip_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_no_ip_fuzzy_strict + re.src_path + ')';\n\n  return re;\n};\n", "'use strict';\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Helpers\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\nfunction isString(obj) { return _class(obj) === '[object String]'; }\nfunction isObject(obj) { return _class(obj) === '[object Object]'; }\nfunction isRegExp(obj) { return _class(obj) === '[object RegExp]'; }\nfunction isFunction(obj) { return _class(obj) === '[object Function]'; }\n\n\nfunction escapeRE(str) { return str.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&'); }\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar defaultOptions = {\n  fuzzyLink: true,\n  fuzzyEmail: true,\n  fuzzyIP: false\n};\n\n\nfunction isOptionsObj(obj) {\n  return Object.keys(obj || {}).reduce(function (acc, k) {\n    return acc || defaultOptions.hasOwnProperty(k);\n  }, false);\n}\n\n\nvar defaultSchemas = {\n  'http:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.http) {\n        // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.http =  new RegExp(\n          '^\\\\/\\\\/' + self.re.src_auth + self.re.src_host_port_strict + self.re.src_path, 'i'\n        );\n      }\n      if (self.re.http.test(tail)) {\n        return tail.match(self.re.http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'https:':  'http:',\n  'ftp:':    'http:',\n  '//':      {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.no_http) {\n      // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.no_http =  new RegExp(\n          '^' +\n          self.re.src_auth +\n          // Don't allow single-level domains, because of false positives like '//test'\n          // with code comments\n          '(?:localhost|(?:(?:' + self.re.src_domain + ')\\\\.)+' + self.re.src_domain_root + ')' +\n          self.re.src_port +\n          self.re.src_host_terminator +\n          self.re.src_path,\n\n          'i'\n        );\n      }\n\n      if (self.re.no_http.test(tail)) {\n        // should not be `://` & `///`, that protects from errors in protocol name\n        if (pos >= 3 && text[pos - 3] === ':') { return 0; }\n        if (pos >= 3 && text[pos - 3] === '/') { return 0; }\n        return tail.match(self.re.no_http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'mailto:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.mailto) {\n        self.re.mailto =  new RegExp(\n          '^' + self.re.src_email_name + '@' + self.re.src_host_strict, 'i'\n        );\n      }\n      if (self.re.mailto.test(tail)) {\n        return tail.match(self.re.mailto)[0].length;\n      }\n      return 0;\n    }\n  }\n};\n\n/*eslint-disable max-len*/\n\n// RE pattern for 2-character tlds (autogenerated by ./support/tlds_2char_gen.js)\nvar tlds_2ch_src_re = 'a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]';\n\n// DON'T try to make PRs with changes. Extend TLDs with LinkifyIt.tlds() instead\nvar tlds_default = 'biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444'.split('|');\n\n/*eslint-enable max-len*/\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction resetScanCache(self) {\n  self.__index__ = -1;\n  self.__text_cache__   = '';\n}\n\nfunction createValidator(re) {\n  return function (text, pos) {\n    var tail = text.slice(pos);\n\n    if (re.test(tail)) {\n      return tail.match(re)[0].length;\n    }\n    return 0;\n  };\n}\n\nfunction createNormalizer() {\n  return function (match, self) {\n    self.normalize(match);\n  };\n}\n\n// Schemas compiler. Build regexps.\n//\nfunction compile(self) {\n\n  // Load & clone RE patterns.\n  var re = self.re = require('./lib/re')(self.__opts__);\n\n  // Define dynamic patterns\n  var tlds = self.__tlds__.slice();\n\n  self.onCompile();\n\n  if (!self.__tlds_replaced__) {\n    tlds.push(tlds_2ch_src_re);\n  }\n  tlds.push(re.src_xn);\n\n  re.src_tlds = tlds.join('|');\n\n  function untpl(tpl) { return tpl.replace('%TLDS%', re.src_tlds); }\n\n  re.email_fuzzy      = RegExp(untpl(re.tpl_email_fuzzy), 'i');\n  re.link_fuzzy       = RegExp(untpl(re.tpl_link_fuzzy), 'i');\n  re.link_no_ip_fuzzy = RegExp(untpl(re.tpl_link_no_ip_fuzzy), 'i');\n  re.host_fuzzy_test  = RegExp(untpl(re.tpl_host_fuzzy_test), 'i');\n\n  //\n  // Compile each schema\n  //\n\n  var aliases = [];\n\n  self.__compiled__ = {}; // Reset compiled data\n\n  function schemaError(name, val) {\n    throw new Error('(LinkifyIt) Invalid schema \"' + name + '\": ' + val);\n  }\n\n  Object.keys(self.__schemas__).forEach(function (name) {\n    var val = self.__schemas__[name];\n\n    // skip disabled methods\n    if (val === null) { return; }\n\n    var compiled = { validate: null, link: null };\n\n    self.__compiled__[name] = compiled;\n\n    if (isObject(val)) {\n      if (isRegExp(val.validate)) {\n        compiled.validate = createValidator(val.validate);\n      } else if (isFunction(val.validate)) {\n        compiled.validate = val.validate;\n      } else {\n        schemaError(name, val);\n      }\n\n      if (isFunction(val.normalize)) {\n        compiled.normalize = val.normalize;\n      } else if (!val.normalize) {\n        compiled.normalize = createNormalizer();\n      } else {\n        schemaError(name, val);\n      }\n\n      return;\n    }\n\n    if (isString(val)) {\n      aliases.push(name);\n      return;\n    }\n\n    schemaError(name, val);\n  });\n\n  //\n  // Compile postponed aliases\n  //\n\n  aliases.forEach(function (alias) {\n    if (!self.__compiled__[self.__schemas__[alias]]) {\n      // Silently fail on missed schemas to avoid errons on disable.\n      // schemaError(alias, self.__schemas__[alias]);\n      return;\n    }\n\n    self.__compiled__[alias].validate =\n      self.__compiled__[self.__schemas__[alias]].validate;\n    self.__compiled__[alias].normalize =\n      self.__compiled__[self.__schemas__[alias]].normalize;\n  });\n\n  //\n  // Fake record for guessed links\n  //\n  self.__compiled__[''] = { validate: null, normalize: createNormalizer() };\n\n  //\n  // Build schema condition\n  //\n  var slist = Object.keys(self.__compiled__)\n                      .filter(function (name) {\n                        // Filter disabled & fake schemas\n                        return name.length > 0 && self.__compiled__[name];\n                      })\n                      .map(escapeRE)\n                      .join('|');\n  // (?!_) cause 1.5x slowdown\n  self.re.schema_test     = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'i');\n  self.re.schema_search   = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'ig');\n  self.re.schema_at_start = RegExp('^' + self.re.schema_search.source, 'i');\n\n  self.re.pretest = RegExp(\n    '(' + self.re.schema_test.source + ')|(' + self.re.host_fuzzy_test.source + ')|@',\n    'i'\n  );\n\n  //\n  // Cleanup\n  //\n\n  resetScanCache(self);\n}\n\n/**\n * class Match\n *\n * Match result. Single element of array, returned by [[LinkifyIt#match]]\n **/\nfunction Match(self, shift) {\n  var start = self.__index__,\n      end   = self.__last_index__,\n      text  = self.__text_cache__.slice(start, end);\n\n  /**\n   * Match#schema -> String\n   *\n   * Prefix (protocol) for matched string.\n   **/\n  this.schema    = self.__schema__.toLowerCase();\n  /**\n   * Match#index -> Number\n   *\n   * First position of matched string.\n   **/\n  this.index     = start + shift;\n  /**\n   * Match#lastIndex -> Number\n   *\n   * Next position after matched string.\n   **/\n  this.lastIndex = end + shift;\n  /**\n   * Match#raw -> String\n   *\n   * Matched string.\n   **/\n  this.raw       = text;\n  /**\n   * Match#text -> String\n   *\n   * Notmalized text of matched string.\n   **/\n  this.text      = text;\n  /**\n   * Match#url -> String\n   *\n   * Normalized url of matched string.\n   **/\n  this.url       = text;\n}\n\nfunction createMatch(self, shift) {\n  var match = new Match(self, shift);\n\n  self.__compiled__[match.schema].normalize(match, self);\n\n  return match;\n}\n\n\n/**\n * class LinkifyIt\n **/\n\n/**\n * new LinkifyIt(schemas, options)\n * - schemas (Object): Optional. Additional schemas to validate (prefix/validator)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Creates new linkifier instance with optional additional schemas.\n * Can be called without `new` keyword for convenience.\n *\n * By default understands:\n *\n * - `http(s)://...` , `ftp://...`, `mailto:...` & `//...` links\n * - \"fuzzy\" links and emails (example.com, foo@bar.com).\n *\n * `schemas` is an object, where each key/value describes protocol/rule:\n *\n * - __key__ - link prefix (usually, protocol name with `:` at the end, `skype:`\n *   for example). `linkify-it` makes shure that prefix is not preceeded with\n *   alphanumeric char and symbols. Only whitespaces and punctuation allowed.\n * - __value__ - rule to check tail after link prefix\n *   - _String_ - just alias to existing rule\n *   - _Object_\n *     - _validate_ - validator function (should return matched length on success),\n *       or `RegExp`.\n *     - _normalize_ - optional function to normalize text & url of matched result\n *       (for example, for @twitter mentions).\n *\n * `options`:\n *\n * - __fuzzyLink__ - recognige URL-s without `http(s):` prefix. Default `true`.\n * - __fuzzyIP__ - allow IPs in fuzzy links above. Can conflict with some texts\n *   like version numbers. Default `false`.\n * - __fuzzyEmail__ - recognize emails without `mailto:` prefix.\n *\n **/\nfunction LinkifyIt(schemas, options) {\n  if (!(this instanceof LinkifyIt)) {\n    return new LinkifyIt(schemas, options);\n  }\n\n  if (!options) {\n    if (isOptionsObj(schemas)) {\n      options = schemas;\n      schemas = {};\n    }\n  }\n\n  this.__opts__           = assign({}, defaultOptions, options);\n\n  // Cache last tested result. Used to skip repeating steps on next `match` call.\n  this.__index__          = -1;\n  this.__last_index__     = -1; // Next scan position\n  this.__schema__         = '';\n  this.__text_cache__     = '';\n\n  this.__schemas__        = assign({}, defaultSchemas, schemas);\n  this.__compiled__       = {};\n\n  this.__tlds__           = tlds_default;\n  this.__tlds_replaced__  = false;\n\n  this.re = {};\n\n  compile(this);\n}\n\n\n/** chainable\n * LinkifyIt#add(schema, definition)\n * - schema (String): rule name (fixed pattern prefix)\n * - definition (String|RegExp|Object): schema definition\n *\n * Add new rule definition. See constructor description for details.\n **/\nLinkifyIt.prototype.add = function add(schema, definition) {\n  this.__schemas__[schema] = definition;\n  compile(this);\n  return this;\n};\n\n\n/** chainable\n * LinkifyIt#set(options)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Set recognition options for links without schema.\n **/\nLinkifyIt.prototype.set = function set(options) {\n  this.__opts__ = assign(this.__opts__, options);\n  return this;\n};\n\n\n/**\n * LinkifyIt#test(text) -> Boolean\n *\n * Searches linkifiable pattern and returns `true` on success or `false` on fail.\n **/\nLinkifyIt.prototype.test = function test(text) {\n  // Reset scan cache\n  this.__text_cache__ = text;\n  this.__index__      = -1;\n\n  if (!text.length) { return false; }\n\n  var m, ml, me, len, shift, next, re, tld_pos, at_pos;\n\n  // try to scan for link with schema - that's the most simple rule\n  if (this.re.schema_test.test(text)) {\n    re = this.re.schema_search;\n    re.lastIndex = 0;\n    while ((m = re.exec(text)) !== null) {\n      len = this.testSchemaAt(text, m[2], re.lastIndex);\n      if (len) {\n        this.__schema__     = m[2];\n        this.__index__      = m.index + m[1].length;\n        this.__last_index__ = m.index + m[0].length + len;\n        break;\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyLink && this.__compiled__['http:']) {\n    // guess schemaless links\n    tld_pos = text.search(this.re.host_fuzzy_test);\n    if (tld_pos >= 0) {\n      // if tld is located after found link - no need to check fuzzy pattern\n      if (this.__index__ < 0 || tld_pos < this.__index__) {\n        if ((ml = text.match(this.__opts__.fuzzyIP ? this.re.link_fuzzy : this.re.link_no_ip_fuzzy)) !== null) {\n\n          shift = ml.index + ml[1].length;\n\n          if (this.__index__ < 0 || shift < this.__index__) {\n            this.__schema__     = '';\n            this.__index__      = shift;\n            this.__last_index__ = ml.index + ml[0].length;\n          }\n        }\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyEmail && this.__compiled__['mailto:']) {\n    // guess schemaless emails\n    at_pos = text.indexOf('@');\n    if (at_pos >= 0) {\n      // We can't skip this check, because this cases are possible:\n      // 192.168.1.1@gmail.com, my.in@example.com\n      if ((me = text.match(this.re.email_fuzzy)) !== null) {\n\n        shift = me.index + me[1].length;\n        next  = me.index + me[0].length;\n\n        if (this.__index__ < 0 || shift < this.__index__ ||\n            (shift === this.__index__ && next > this.__last_index__)) {\n          this.__schema__     = 'mailto:';\n          this.__index__      = shift;\n          this.__last_index__ = next;\n        }\n      }\n    }\n  }\n\n  return this.__index__ >= 0;\n};\n\n\n/**\n * LinkifyIt#pretest(text) -> Boolean\n *\n * Very quick check, that can give false positives. Returns true if link MAY BE\n * can exists. Can be used for speed optimization, when you need to check that\n * link NOT exists.\n **/\nLinkifyIt.prototype.pretest = function pretest(text) {\n  return this.re.pretest.test(text);\n};\n\n\n/**\n * LinkifyIt#testSchemaAt(text, name, position) -> Number\n * - text (String): text to scan\n * - name (String): rule (schema) name\n * - position (Number): text offset to check from\n *\n * Similar to [[LinkifyIt#test]] but checks only specific protocol tail exactly\n * at given position. Returns length of found pattern (0 on fail).\n **/\nLinkifyIt.prototype.testSchemaAt = function testSchemaAt(text, schema, pos) {\n  // If not supported schema check requested - terminate\n  if (!this.__compiled__[schema.toLowerCase()]) {\n    return 0;\n  }\n  return this.__compiled__[schema.toLowerCase()].validate(text, pos, this);\n};\n\n\n/**\n * LinkifyIt#match(text) -> Array|null\n *\n * Returns array of found link descriptions or `null` on fail. We strongly\n * recommend to use [[LinkifyIt#test]] first, for best speed.\n *\n * ##### Result match description\n *\n * - __schema__ - link schema, can be empty for fuzzy links, or `//` for\n *   protocol-neutral  links.\n * - __index__ - offset of matched text\n * - __lastIndex__ - index of next char after mathch end\n * - __raw__ - matched text\n * - __text__ - normalized text\n * - __url__ - link, generated from matched text\n **/\nLinkifyIt.prototype.match = function match(text) {\n  var shift = 0, result = [];\n\n  // Try to take previous element from cache, if .test() called before\n  if (this.__index__ >= 0 && this.__text_cache__ === text) {\n    result.push(createMatch(this, shift));\n    shift = this.__last_index__;\n  }\n\n  // Cut head if cache was used\n  var tail = shift ? text.slice(shift) : text;\n\n  // Scan string until end reached\n  while (this.test(tail)) {\n    result.push(createMatch(this, shift));\n\n    tail = tail.slice(this.__last_index__);\n    shift += this.__last_index__;\n  }\n\n  if (result.length) {\n    return result;\n  }\n\n  return null;\n};\n\n\n/**\n * LinkifyIt#matchAtStart(text) -> Match|null\n *\n * Returns fully-formed (not fuzzy) link if it starts at the beginning\n * of the string, and null otherwise.\n **/\nLinkifyIt.prototype.matchAtStart = function matchAtStart(text) {\n  // Reset scan cache\n  this.__text_cache__ = text;\n  this.__index__      = -1;\n\n  if (!text.length) return null;\n\n  var m = this.re.schema_at_start.exec(text);\n  if (!m) return null;\n\n  var len = this.testSchemaAt(text, m[2], m[0].length);\n  if (!len) return null;\n\n  this.__schema__     = m[2];\n  this.__index__      = m.index + m[1].length;\n  this.__last_index__ = m.index + m[0].length + len;\n\n  return createMatch(this, 0);\n};\n\n\n/** chainable\n * LinkifyIt#tlds(list [, keepOld]) -> this\n * - list (Array): list of tlds\n * - keepOld (Boolean): merge with current list if `true` (`false` by default)\n *\n * Load (or merge) new tlds list. Those are user for fuzzy links (without prefix)\n * to avoid false positives. By default this algorythm used:\n *\n * - hostname with any 2-letter root zones are ok.\n * - biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444\n *   are ok.\n * - encoded (`xn--...`) root zones are ok.\n *\n * If list is replaced, then exact match for 2-chars root zones will be checked.\n **/\nLinkifyIt.prototype.tlds = function tlds(list, keepOld) {\n  list = Array.isArray(list) ? list : [ list ];\n\n  if (!keepOld) {\n    this.__tlds__ = list.slice();\n    this.__tlds_replaced__ = true;\n    compile(this);\n    return this;\n  }\n\n  this.__tlds__ = this.__tlds__.concat(list)\n                                  .sort()\n                                  .filter(function (el, idx, arr) {\n                                    return el !== arr[idx - 1];\n                                  })\n                                  .reverse();\n\n  compile(this);\n  return this;\n};\n\n/**\n * LinkifyIt#normalize(match)\n *\n * Default normalizer (if schema does not define it's own).\n **/\nLinkifyIt.prototype.normalize = function normalize(match) {\n\n  // Do minimal possible changes by default. Need to collect feedback prior\n  // to move forward https://github.com/markdown-it/linkify-it/issues/1\n\n  if (!match.schema) { match.url = 'http://' + match.url; }\n\n  if (match.schema === 'mailto:' && !/^mailto:/i.test(match.url)) {\n    match.url = 'mailto:' + match.url;\n  }\n};\n\n\n/**\n * LinkifyIt#onCompile()\n *\n * Override to modify basic RegExp-s.\n **/\nLinkifyIt.prototype.onCompile = function onCompile() {\n};\n\n\nmodule.exports = LinkifyIt;\n", "'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7F]/; // Note: U+007F DEL is excluded too.\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, callback) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = callback(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {String} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(domain, callback) {\n\tconst parts = domain.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tdomain = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tdomain = domain.replace(regexSeparators, '\\x2E');\n\tconst labels = domain.split('.');\n\tconst encoded = map(labels, callback).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = codePoints => String.fromCodePoint(...codePoints);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint >= 0x30 && codePoint < 0x3A) {\n\t\treturn 26 + (codePoint - 0x30);\n\t}\n\tif (codePoint >= 0x41 && codePoint < 0x5B) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint >= 0x61 && codePoint < 0x7B) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tconst oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\t\t\tif (digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tconst inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tconst basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue === n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount === basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.1.0',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport { ucs2decode, ucs2encode, decode, encode, toASCII, toUnicode };\nexport default punycode;\n", "// markdown-it default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '\u00AB\u00BB\u201E\u201C' for Russian, '\u201E\u201C\u201A\u2018' for German,\n    // and ['\u00AB\\xA0', '\\xA0\u00BB', '\u2039\\xA0', '\\xA0\u203A'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* \u201C\u201D\u2018\u2019 */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   100            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n", "// \"Zero\" preset, with nothing enabled. Useful for manual configuring of simple\n// modes. For example, to parse bold/italic only.\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '\u00AB\u00BB\u201E\u201C' for Russian, '\u201E\u201C\u201A\u2018' for German,\n    // and ['\u00AB\\xA0', '\\xA0\u00BB', '\u2039\\xA0', '\\xA0\u203A'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* \u201C\u201D\u2018\u2019 */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline',\n        'text_join'\n      ]\n    },\n\n    block: {\n      rules: [\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'fragments_join'\n      ]\n    }\n  }\n};\n", "// Commonmark default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '\u00AB\u00BB\u201E\u201C' for Russian, '\u201E\u201C\u201A\u2018' for German,\n    // and ['\u00AB\\xA0', '\\xA0\u00BB', '\u2039\\xA0', '\\xA0\u203A'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* \u201C\u201D\u2018\u2019 */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline',\n        'text_join'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fence',\n        'heading',\n        'hr',\n        'html_block',\n        'lheading',\n        'list',\n        'reference',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'html_inline',\n        'image',\n        'link',\n        'newline',\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'emphasis',\n        'fragments_join'\n      ]\n    }\n  }\n};\n", "// Main parser class\n\n'use strict';\n\n\nvar utils        = require('./common/utils');\nvar helpers      = require('./helpers');\nvar Renderer     = require('./renderer');\nvar ParserCore   = require('./parser_core');\nvar ParserBlock  = require('./parser_block');\nvar ParserInline = require('./parser_inline');\nvar LinkifyIt    = require('linkify-it');\nvar mdurl        = require('mdurl');\nvar punycode     = require('punycode');\n\n\nvar config = {\n  default: require('./presets/default'),\n  zero: require('./presets/zero'),\n  commonmark: require('./presets/commonmark')\n};\n\n////////////////////////////////////////////////////////////////////////////////\n//\n// This validator can prohibit more than really needed to prevent XSS. It's a\n// tradeoff to keep code simple and to be secure by default.\n//\n// If you need different setup - override validator method as you wish. Or\n// replace it with dummy function and use external sanitizer.\n//\n\nvar BAD_PROTO_RE = /^(vbscript|javascript|file|data):/;\nvar GOOD_DATA_RE = /^data:image\\/(gif|png|jpeg|webp);/;\n\nfunction validateLink(url) {\n  // url should be normalized at this point, and existing entities are decoded\n  var str = url.trim().toLowerCase();\n\n  return BAD_PROTO_RE.test(str) ? (GOOD_DATA_RE.test(str) ? true : false) : true;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar RECODE_HOSTNAME_FOR = [ 'http:', 'https:', 'mailto:' ];\n\nfunction normalizeLink(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toASCII(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.encode(mdurl.format(parsed));\n}\n\nfunction normalizeLinkText(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toUnicode(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  // add '%' to exclude list because of https://github.com/markdown-it/markdown-it/issues/720\n  return mdurl.decode(mdurl.format(parsed), mdurl.decode.defaultChars + '%');\n}\n\n\n/**\n * class MarkdownIt\n *\n * Main parser/renderer class.\n *\n * ##### Usage\n *\n * ```javascript\n * // node.js, \"classic\" way:\n * var MarkdownIt = require('markdown-it'),\n *     md = new MarkdownIt();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // node.js, the same, but with sugar:\n * var md = require('markdown-it')();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // browser without AMD, added to \"window\" on script load\n * // Note, there are no dash.\n * var md = window.markdownit();\n * var result = md.render('# markdown-it rulezz!');\n * ```\n *\n * Single line rendering, without paragraph wrap:\n *\n * ```javascript\n * var md = require('markdown-it')();\n * var result = md.renderInline('__markdown-it__ rulezz!');\n * ```\n **/\n\n/**\n * new MarkdownIt([presetName, options])\n * - presetName (String): optional, `commonmark` / `zero`\n * - options (Object)\n *\n * Creates parser instanse with given config. Can be called without `new`.\n *\n * ##### presetName\n *\n * MarkdownIt provides named presets as a convenience to quickly\n * enable/disable active syntax rules and options for common use cases.\n *\n * - [\"commonmark\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/commonmark.js) -\n *   configures parser to strict [CommonMark](http://commonmark.org/) mode.\n * - [default](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/default.js) -\n *   similar to GFM, used when no preset name given. Enables all available rules,\n *   but still without html, typographer & autolinker.\n * - [\"zero\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/zero.js) -\n *   all rules disabled. Useful to quickly setup your config via `.enable()`.\n *   For example, when you need only `bold` and `italic` markup and nothing else.\n *\n * ##### options:\n *\n * - __html__ - `false`. Set `true` to enable HTML tags in source. Be careful!\n *   That's not safe! You may need external sanitizer to protect output from XSS.\n *   It's better to extend features via plugins, instead of enabling HTML.\n * - __xhtmlOut__ - `false`. Set `true` to add '/' when closing single tags\n *   (`<br />`). This is needed only for full CommonMark compatibility. In real\n *   world you will need HTML output.\n * - __breaks__ - `false`. Set `true` to convert `\\n` in paragraphs into `<br>`.\n * - __langPrefix__ - `language-`. CSS language class prefix for fenced blocks.\n *   Can be useful for external highlighters.\n * - __linkify__ - `false`. Set `true` to autoconvert URL-like text to links.\n * - __typographer__  - `false`. Set `true` to enable [some language-neutral\n *   replacement](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/replacements.js) +\n *   quotes beautification (smartquotes).\n * - __quotes__ - `\u201C\u201D\u2018\u2019`, String or Array. Double + single quotes replacement\n *   pairs, when typographer enabled and smartquotes on. For example, you can\n *   use `'\u00AB\u00BB\u201E\u201C'` for Russian, `'\u201E\u201C\u201A\u2018'` for German, and\n *   `['\u00AB\\xA0', '\\xA0\u00BB', '\u2039\\xA0', '\\xA0\u203A']` for French (including nbsp).\n * - __highlight__ - `null`. Highlighter function for fenced code blocks.\n *   Highlighter `function (str, lang)` should return escaped HTML. It can also\n *   return empty string if the source was not changed and should be escaped\n *   externaly. If result starts with <pre... internal wrapper is skipped.\n *\n * ##### Example\n *\n * ```javascript\n * // commonmark mode\n * var md = require('markdown-it')('commonmark');\n *\n * // default mode\n * var md = require('markdown-it')();\n *\n * // enable everything\n * var md = require('markdown-it')({\n *   html: true,\n *   linkify: true,\n *   typographer: true\n * });\n * ```\n *\n * ##### Syntax highlighting\n *\n * ```js\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return hljs.highlight(str, { language: lang, ignoreIllegals: true }).value;\n *       } catch (__) {}\n *     }\n *\n *     return ''; // use external default escaping\n *   }\n * });\n * ```\n *\n * Or with full wrapper override (if you need assign class to `<pre>`):\n *\n * ```javascript\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * // Actual default values\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return '<pre class=\"hljs\"><code>' +\n *                hljs.highlight(str, { language: lang, ignoreIllegals: true }).value +\n *                '</code></pre>';\n *       } catch (__) {}\n *     }\n *\n *     return '<pre class=\"hljs\"><code>' + md.utils.escapeHtml(str) + '</code></pre>';\n *   }\n * });\n * ```\n *\n **/\nfunction MarkdownIt(presetName, options) {\n  if (!(this instanceof MarkdownIt)) {\n    return new MarkdownIt(presetName, options);\n  }\n\n  if (!options) {\n    if (!utils.isString(presetName)) {\n      options = presetName || {};\n      presetName = 'default';\n    }\n  }\n\n  /**\n   * MarkdownIt#inline -> ParserInline\n   *\n   * Instance of [[ParserInline]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.inline = new ParserInline();\n\n  /**\n   * MarkdownIt#block -> ParserBlock\n   *\n   * Instance of [[ParserBlock]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.block = new ParserBlock();\n\n  /**\n   * MarkdownIt#core -> Core\n   *\n   * Instance of [[Core]] chain executor. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.core = new ParserCore();\n\n  /**\n   * MarkdownIt#renderer -> Renderer\n   *\n   * Instance of [[Renderer]]. Use it to modify output look. Or to add rendering\n   * rules for new token types, generated by plugins.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * function myToken(tokens, idx, options, env, self) {\n   *   //...\n   *   return result;\n   * };\n   *\n   * md.renderer.rules['my_token'] = myToken\n   * ```\n   *\n   * See [[Renderer]] docs and [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js).\n   **/\n  this.renderer = new Renderer();\n\n  /**\n   * MarkdownIt#linkify -> LinkifyIt\n   *\n   * [linkify-it](https://github.com/markdown-it/linkify-it) instance.\n   * Used by [linkify](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/linkify.js)\n   * rule.\n   **/\n  this.linkify = new LinkifyIt();\n\n  /**\n   * MarkdownIt#validateLink(url) -> Boolean\n   *\n   * Link validation function. CommonMark allows too much in links. By default\n   * we disable `javascript:`, `vbscript:`, `file:` schemas, and almost all `data:...` schemas\n   * except some embedded image types.\n   *\n   * You can change this behaviour:\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   * // enable everything\n   * md.validateLink = function () { return true; }\n   * ```\n   **/\n  this.validateLink = validateLink;\n\n  /**\n   * MarkdownIt#normalizeLink(url) -> String\n   *\n   * Function used to encode link url to a machine-readable format,\n   * which includes url-encoding, punycode, etc.\n   **/\n  this.normalizeLink = normalizeLink;\n\n  /**\n   * MarkdownIt#normalizeLinkText(url) -> String\n   *\n   * Function used to decode link url to a human-readable format`\n   **/\n  this.normalizeLinkText = normalizeLinkText;\n\n\n  // Expose utils & helpers for easy acces from plugins\n\n  /**\n   * MarkdownIt#utils -> utils\n   *\n   * Assorted utility functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/common/utils.js).\n   **/\n  this.utils = utils;\n\n  /**\n   * MarkdownIt#helpers -> helpers\n   *\n   * Link components parser functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/helpers).\n   **/\n  this.helpers = utils.assign({}, helpers);\n\n\n  this.options = {};\n  this.configure(presetName);\n\n  if (options) { this.set(options); }\n}\n\n\n/** chainable\n * MarkdownIt.set(options)\n *\n * Set parser options (in the same format as in constructor). Probably, you\n * will never need it, but you can change options after constructor call.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .set({ html: true, breaks: true })\n *             .set({ typographer, true });\n * ```\n *\n * __Note:__ To achieve the best possible performance, don't modify a\n * `markdown-it` instance options on the fly. If you need multiple configurations\n * it's best to create multiple instances and initialize each with separate\n * config.\n **/\nMarkdownIt.prototype.set = function (options) {\n  utils.assign(this.options, options);\n  return this;\n};\n\n\n/** chainable, internal\n * MarkdownIt.configure(presets)\n *\n * Batch load of all options and compenent settings. This is internal method,\n * and you probably will not need it. But if you will - see available presets\n * and data structure [here](https://github.com/markdown-it/markdown-it/tree/master/lib/presets)\n *\n * We strongly recommend to use presets instead of direct config loads. That\n * will give better compatibility with next versions.\n **/\nMarkdownIt.prototype.configure = function (presets) {\n  var self = this, presetName;\n\n  if (utils.isString(presets)) {\n    presetName = presets;\n    presets = config[presetName];\n    if (!presets) { throw new Error('Wrong `markdown-it` preset \"' + presetName + '\", check name'); }\n  }\n\n  if (!presets) { throw new Error('Wrong `markdown-it` preset, can\\'t be empty'); }\n\n  if (presets.options) { self.set(presets.options); }\n\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enableOnly(presets.components[name].rules);\n      }\n      if (presets.components[name].rules2) {\n        self[name].ruler2.enableOnly(presets.components[name].rules2);\n      }\n    });\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.enable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to enable\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable list or rules. It will automatically find appropriate components,\n * containing rules with given names. If rule not found, and `ignoreInvalid`\n * not set - throws exception.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .enable(['sub', 'sup'])\n *             .disable('smartquotes');\n * ```\n **/\nMarkdownIt.prototype.enable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.enable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.enable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to enable unknown rule(s): ' + missed);\n  }\n\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.disable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * The same as [[MarkdownIt.enable]], but turn specified rules off.\n **/\nMarkdownIt.prototype.disable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.disable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.disable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to disable unknown rule(s): ' + missed);\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.use(plugin, params)\n *\n * Load specified plugin with given params into current parser instance.\n * It's just a sugar to call `plugin(md, params)` with curring.\n *\n * ##### Example\n *\n * ```javascript\n * var iterator = require('markdown-it-for-inline');\n * var md = require('markdown-it')()\n *             .use(iterator, 'foo_replace', 'text', function (tokens, idx) {\n *               tokens[idx].content = tokens[idx].content.replace(/foo/g, 'bar');\n *             });\n * ```\n **/\nMarkdownIt.prototype.use = function (plugin /*, params, ... */) {\n  var args = [ this ].concat(Array.prototype.slice.call(arguments, 1));\n  plugin.apply(plugin, args);\n  return this;\n};\n\n\n/** internal\n * MarkdownIt.parse(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Parse input string and return list of block tokens (special token type\n * \"inline\" will contain list of inline tokens). You should not call this\n * method directly, until you write custom renderer (for example, to produce\n * AST).\n *\n * `env` is used to pass data between \"distributed\" rules and return additional\n * metadata like reference info, needed for the renderer. It also can be used to\n * inject data in specific cases. Usually, you will be ok to pass `{}`,\n * and then pass updated object to renderer.\n **/\nMarkdownIt.prototype.parse = function (src, env) {\n  if (typeof src !== 'string') {\n    throw new Error('Input data should be a String');\n  }\n\n  var state = new this.core.State(src, this, env);\n\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.render(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Render markdown string into html. It does all magic for you :).\n *\n * `env` can be used to inject additional metadata (`{}` by default).\n * But you will not need it with high probability. See also comment\n * in [[MarkdownIt.parse]].\n **/\nMarkdownIt.prototype.render = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parse(src, env), this.options, env);\n};\n\n\n/** internal\n * MarkdownIt.parseInline(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * The same as [[MarkdownIt.parse]] but skip all block rules. It returns the\n * block tokens list with the single `inline` element, containing parsed inline\n * tokens in `children` property. Also updates `env` object.\n **/\nMarkdownIt.prototype.parseInline = function (src, env) {\n  var state = new this.core.State(src, this, env);\n\n  state.inlineMode = true;\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.renderInline(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Similar to [[MarkdownIt.render]] but for single paragraph content. Result\n * will NOT be wrapped into `<p>` tags.\n **/\nMarkdownIt.prototype.renderInline = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parseInline(src, env), this.options, env);\n};\n\n\nmodule.exports = MarkdownIt;\n", "'use strict';\n\n\nmodule.exports = require('./lib/');\n", "// Markdown-it plugin to render GitHub-style task lists; see\n//\n// https://github.com/blog/1375-task-lists-in-gfm-issues-pulls-comments\n// https://github.com/blog/1825-task-lists-in-all-markdown-documents\n\nvar disableCheckboxes = true;\nvar useLabelWrapper = false;\nvar useLabelAfter = false;\n\nmodule.exports = function(md, options) {\n\tif (options) {\n\t\tdisableCheckboxes = !options.enabled;\n\t\tuseLabelWrapper = !!options.label;\n\t\tuseLabelAfter = !!options.labelAfter;\n\t}\n\n\tmd.core.ruler.after('inline', 'github-task-lists', function(state) {\n\t\tvar tokens = state.tokens;\n\t\tfor (var i = 2; i < tokens.length; i++) {\n\t\t\tif (isTodoItem(tokens, i)) {\n\t\t\t\ttodoify(tokens[i], state.Token);\n\t\t\t\tattrSet(tokens[i-2], 'class', 'task-list-item' + (!disableCheckboxes ? ' enabled' : ''));\n\t\t\t\tattrSet(tokens[parentToken(tokens, i-2)], 'class', 'contains-task-list');\n\t\t\t}\n\t\t}\n\t});\n};\n\nfunction attrSet(token, name, value) {\n\tvar index = token.attrIndex(name);\n\tvar attr = [name, value];\n\n\tif (index < 0) {\n\t\ttoken.attrPush(attr);\n\t} else {\n\t\ttoken.attrs[index] = attr;\n\t}\n}\n\nfunction parentToken(tokens, index) {\n\tvar targetLevel = tokens[index].level - 1;\n\tfor (var i = index - 1; i >= 0; i--) {\n\t\tif (tokens[i].level === targetLevel) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction isTodoItem(tokens, index) {\n\treturn isInline(tokens[index]) &&\n\t       isParagraph(tokens[index - 1]) &&\n\t       isListItem(tokens[index - 2]) &&\n\t       startsWithTodoMarkdown(tokens[index]);\n}\n\nfunction todoify(token, TokenConstructor) {\n\ttoken.children.unshift(makeCheckbox(token, TokenConstructor));\n\ttoken.children[1].content = token.children[1].content.slice(3);\n\ttoken.content = token.content.slice(3);\n\n\tif (useLabelWrapper) {\n\t\tif (useLabelAfter) {\n\t\t\ttoken.children.pop();\n\n\t\t\t// Use large random number as id property of the checkbox.\n\t\t\tvar id = 'task-item-' + Math.ceil(Math.random() * (10000 * 1000) - 1000);\n\t\t\ttoken.children[0].content = token.children[0].content.slice(0, -1) + ' id=\"' + id + '\">';\n\t\t\ttoken.children.push(afterLabel(token.content, id, TokenConstructor));\n\t\t} else {\n\t\t\ttoken.children.unshift(beginLabel(TokenConstructor));\n\t\t\ttoken.children.push(endLabel(TokenConstructor));\n\t\t}\n\t}\n}\n\nfunction makeCheckbox(token, TokenConstructor) {\n\tvar checkbox = new TokenConstructor('html_inline', '', 0);\n\tvar disabledAttr = disableCheckboxes ? ' disabled=\"\" ' : '';\n\tif (token.content.indexOf('[ ] ') === 0) {\n\t\tcheckbox.content = '<input class=\"task-list-item-checkbox\"' + disabledAttr + 'type=\"checkbox\">';\n\t} else if (token.content.indexOf('[x] ') === 0 || token.content.indexOf('[X] ') === 0) {\n\t\tcheckbox.content = '<input class=\"task-list-item-checkbox\" checked=\"\"' + disabledAttr + 'type=\"checkbox\">';\n\t}\n\treturn checkbox;\n}\n\n// these next two functions are kind of hacky; probably should really be a\n// true block-level token with .tag=='label'\nfunction beginLabel(TokenConstructor) {\n\tvar token = new TokenConstructor('html_inline', '', 0);\n\ttoken.content = '<label>';\n\treturn token;\n}\n\nfunction endLabel(TokenConstructor) {\n\tvar token = new TokenConstructor('html_inline', '', 0);\n\ttoken.content = '</label>';\n\treturn token;\n}\n\nfunction afterLabel(content, id, TokenConstructor) {\n\tvar token = new TokenConstructor('html_inline', '', 0);\n\ttoken.content = '<label class=\"task-list-item-label\" for=\"' + id + '\">' + content + '</label>';\n\ttoken.attrs = [{for: id}];\n\treturn token;\n}\n\nfunction isInline(token) { return token.type === 'inline'; }\nfunction isParagraph(token) { return token.type === 'paragraph_open'; }\nfunction isListItem(token) { return token.type === 'list_item_open'; }\n\nfunction startsWithTodoMarkdown(token) {\n\t// leading whitespace in a list item is already trimmed off by markdown-it\n\treturn token.content.indexOf('[ ] ') === 0 || token.content.indexOf('[x] ') === 0 || token.content.indexOf('[X] ') === 0;\n}\n", "const listeners = {};\nconst stack = [];\n\n/**\n * Emit a custom event for any handlers to pick-up.\n * @param {String} eventName\n * @param {*} eventData\n */\nexport function emit(eventName, eventData) {\n    stack.push({name: eventName, data: eventData});\n\n    const listenersToRun = listeners[eventName] || [];\n    for (const listener of listenersToRun) {\n        listener(eventData);\n    }\n}\n\n/**\n * Listen to a custom event and run the given callback when that event occurs.\n * @param {String} eventName\n * @param {Function} callback\n * @returns {Events}\n */\nexport function listen(eventName, callback) {\n    if (typeof listeners[eventName] === 'undefined') listeners[eventName] = [];\n    listeners[eventName].push(callback);\n}\n\n/**\n * Emit an event for public use.\n * Sends the event via the native DOM event handling system.\n * @param {Element} targetElement\n * @param {String} eventName\n * @param {Object} eventData\n */\nexport function emitPublic(targetElement, eventName, eventData) {\n    const event = new CustomEvent(eventName, {\n        detail: eventData,\n        bubbles: true,\n    });\n    targetElement.dispatchEvent(event);\n}\n\n/**\n * Emit a success event with the provided message.\n * @param {String} message\n */\nexport function success(message) {\n    emit('success', message);\n}\n\n/**\n * Emit an error event with the provided message.\n * @param {String} message\n */\nexport function error(message) {\n    emit('error', message);\n}\n\n/**\n * Notify of standard server-provided validation errors.\n * @param {Object} responseErr\n */\nexport function showValidationErrors(responseErr) {\n    if (!responseErr.status) return;\n    if (responseErr.status === 422 && responseErr.data) {\n        const message = Object.values(responseErr.data).flat().join('\\n');\n        error(message);\n    }\n}\n\n/**\n * Notify standard server-provided error messages.\n * @param {Object} responseErr\n */\nexport function showResponseError(responseErr) {\n    if (!responseErr.status) return;\n    if (responseErr.status >= 400 && responseErr.data && responseErr.data.message) {\n        error(responseErr.data.message);\n    }\n}\n", "/**\n * @typedef FormattedResponse\n * @property {Headers} headers\n * @property {Response} original\n * @property {Object|String} data\n * @property {Boolean} redirected\n * @property {Number} status\n * @property {string} statusText\n * @property {string} url\n */\n\n/**\n * Get the content from a fetch response.\n * Checks the content-type header to determine the format.\n * @param {Response} response\n * @returns {Promise<Object|String>}\n */\nasync function getResponseContent(response) {\n    if (response.status === 204) {\n        return null;\n    }\n\n    const responseContentType = response.headers.get('Content-Type') || '';\n    const subType = responseContentType.split(';')[0].split('/').pop();\n\n    if (subType === 'javascript' || subType === 'json') {\n        return response.json();\n    }\n\n    return response.text();\n}\n\nexport class HttpError extends Error {\n\n    constructor(response, content) {\n        super(response.statusText);\n        this.data = content;\n        this.headers = response.headers;\n        this.redirected = response.redirected;\n        this.status = response.status;\n        this.statusText = response.statusText;\n        this.url = response.url;\n        this.original = response;\n    }\n\n}\n\n/**\n * @param {String} method\n * @param {String} url\n * @param {Object} events\n * @return {XMLHttpRequest}\n */\nexport function createXMLHttpRequest(method, url, events = {}) {\n    const csrfToken = document.querySelector('meta[name=token]').getAttribute('content');\n    const req = new XMLHttpRequest();\n\n    for (const [eventName, callback] of Object.entries(events)) {\n        req.addEventListener(eventName, callback.bind(req));\n    }\n\n    req.open(method, url);\n    req.withCredentials = true;\n    req.setRequestHeader('X-CSRF-TOKEN', csrfToken);\n\n    return req;\n}\n\n/**\n * Create a new HTTP request, setting the required CSRF information\n * to communicate with the back-end. Parses & formats the response.\n * @param {String} url\n * @param {Object} options\n * @returns {Promise<FormattedResponse>}\n */\nasync function request(url, options = {}) {\n    let requestUrl = url;\n\n    if (!requestUrl.startsWith('http')) {\n        requestUrl = window.baseUrl(requestUrl);\n    }\n\n    if (options.params) {\n        const urlObj = new URL(requestUrl);\n        for (const paramName of Object.keys(options.params)) {\n            const value = options.params[paramName];\n            if (typeof value !== 'undefined' && value !== null) {\n                urlObj.searchParams.set(paramName, value);\n            }\n        }\n        requestUrl = urlObj.toString();\n    }\n\n    const csrfToken = document.querySelector('meta[name=token]').getAttribute('content');\n    const requestOptions = {...options, credentials: 'same-origin'};\n    requestOptions.headers = {\n        ...requestOptions.headers || {},\n        baseURL: window.baseUrl(''),\n        'X-CSRF-TOKEN': csrfToken,\n    };\n\n    const response = await fetch(requestUrl, requestOptions);\n    const content = await getResponseContent(response);\n    const returnData = {\n        data: content,\n        headers: response.headers,\n        redirected: response.redirected,\n        status: response.status,\n        statusText: response.statusText,\n        url: response.url,\n        original: response,\n    };\n\n    if (!response.ok) {\n        throw new HttpError(response, content);\n    }\n\n    return returnData;\n}\n\n/**\n * Perform a HTTP request to the back-end that includes data in the body.\n * Parses the body to JSON if an object, setting the correct headers.\n * @param {String} method\n * @param {String} url\n * @param {Object} data\n * @returns {Promise<FormattedResponse>}\n */\nasync function dataRequest(method, url, data = null) {\n    const options = {\n        method,\n        body: data,\n    };\n\n    // Send data as JSON if a plain object\n    if (typeof data === 'object' && !(data instanceof FormData)) {\n        options.headers = {\n            'Content-Type': 'application/json',\n            'X-Requested-With': 'XMLHttpRequest',\n        };\n        options.body = JSON.stringify(data);\n    }\n\n    // Ensure FormData instances are sent over POST\n    // Since Laravel does not read multipart/form-data from other types\n    // of request. Hence the addition of the magic _method value.\n    if (data instanceof FormData && method !== 'post') {\n        data.append('_method', method);\n        options.method = 'post';\n    }\n\n    return request(url, options);\n}\n\n/**\n * Perform a HTTP GET request.\n * Can easily pass query parameters as the second parameter.\n * @param {String} url\n * @param {Object} params\n * @returns {Promise<FormattedResponse>}\n */\nexport async function get(url, params = {}) {\n    return request(url, {\n        method: 'GET',\n        params,\n    });\n}\n\n/**\n * Perform a HTTP POST request.\n * @param {String} url\n * @param {Object} data\n * @returns {Promise<FormattedResponse>}\n */\nexport async function post(url, data = null) {\n    return dataRequest('POST', url, data);\n}\n\n/**\n * Perform a HTTP PUT request.\n * @param {String} url\n * @param {Object} data\n * @returns {Promise<FormattedResponse>}\n */\nexport async function put(url, data = null) {\n    return dataRequest('PUT', url, data);\n}\n\n/**\n * Perform a HTTP PATCH request.\n * @param {String} url\n * @param {Object} data\n * @returns {Promise<FormattedResponse>}\n */\nexport async function patch(url, data = null) {\n    return dataRequest('PATCH', url, data);\n}\n\n/**\n * Perform a HTTP DELETE request.\n * @param {String} url\n * @param {Object} data\n * @returns {Promise<FormattedResponse>}\n */\nasync function performDelete(url, data = null) {\n    return dataRequest('DELETE', url, data);\n}\n\nexport {performDelete as delete};\n", "/**\n *  Translation Manager\n *  Handles the JavaScript side of translating strings\n *  in a way which fits with Laravel.\n */\nclass Translator {\n\n    constructor() {\n        this.store = new Map();\n        this.parseTranslations();\n    }\n\n    /**\n     * Parse translations out of the page and place into the store.\n     */\n    parseTranslations() {\n        const translationMetaTags = document.querySelectorAll('meta[name=\"translation\"]');\n        for (const tag of translationMetaTags) {\n            const key = tag.getAttribute('key');\n            const value = tag.getAttribute('value');\n            this.store.set(key, value);\n        }\n    }\n\n    /**\n     * Get a translation, Same format as Laravel's 'trans' helper\n     * @param key\n     * @param replacements\n     * @returns {*}\n     */\n    get(key, replacements) {\n        const text = this.getTransText(key);\n        return this.performReplacements(text, replacements);\n    }\n\n    /**\n     * Get pluralised text, Dependent on the given count.\n     * Same format at Laravel's 'trans_choice' helper.\n     * @param key\n     * @param count\n     * @param replacements\n     * @returns {*}\n     */\n    getPlural(key, count, replacements) {\n        const text = this.getTransText(key);\n        return this.parsePlural(text, count, replacements);\n    }\n\n    /**\n     * Parse the given translation and find the correct plural option\n     * to use. Similar format at Laravel's 'trans_choice' helper.\n     * @param {String} translation\n     * @param {Number} count\n     * @param {Object} replacements\n     * @returns {String}\n     */\n    parsePlural(translation, count, replacements) {\n        const splitText = translation.split('|');\n        const exactCountRegex = /^{([0-9]+)}/;\n        const rangeRegex = /^\\[([0-9]+),([0-9*]+)]/;\n        let result = null;\n\n        for (const t of splitText) {\n            // Parse exact matches\n            const exactMatches = t.match(exactCountRegex);\n            if (exactMatches !== null && Number(exactMatches[1]) === count) {\n                result = t.replace(exactCountRegex, '').trim();\n                break;\n            }\n\n            // Parse range matches\n            const rangeMatches = t.match(rangeRegex);\n            if (rangeMatches !== null) {\n                const rangeStart = Number(rangeMatches[1]);\n                if (rangeStart <= count && (rangeMatches[2] === '*' || Number(rangeMatches[2]) >= count)) {\n                    result = t.replace(rangeRegex, '').trim();\n                    break;\n                }\n            }\n        }\n\n        if (result === null && splitText.length > 1) {\n            result = (count === 1) ? splitText[0] : splitText[1];\n        }\n\n        if (result === null) {\n            result = splitText[0];\n        }\n\n        return this.performReplacements(result, replacements);\n    }\n\n    /**\n     * Fetched translation text from the store for the given key.\n     * @param key\n     * @returns {String|Object}\n     */\n    getTransText(key) {\n        const value = this.store.get(key);\n\n        if (value === undefined) {\n            console.warn(`Translation with key \"${key}\" does not exist`);\n        }\n\n        return value;\n    }\n\n    /**\n     * Perform replacements on a string.\n     * @param {String} string\n     * @param {Object} replacements\n     * @returns {*}\n     */\n    performReplacements(string, replacements) {\n        if (!replacements) return string;\n        const replaceMatches = string.match(/:(\\S+)/g);\n        if (replaceMatches === null) return string;\n        let updatedString = string;\n\n        replaceMatches.forEach(match => {\n            const key = match.substring(1);\n            if (typeof replacements[key] === 'undefined') return;\n            updatedString = updatedString.replace(match, replacements[key]);\n        });\n\n        return updatedString;\n    }\n\n}\n\nexport default Translator;\n", "import {kebabToCamel, camelToKebab} from './text';\n\n/**\n * A mapping of active components keyed by name, with values being arrays of component\n * instances since there can be multiple components of the same type.\n * @type {Object<String, Component[]>}\n */\nconst components = {};\n\n/**\n * A mapping of component class models, keyed by name.\n * @type {Object<String, Constructor<Component>>}\n */\nconst componentModelMap = {};\n\n/**\n * A mapping of active component maps, keyed by the element components are assigned to.\n * @type {WeakMap<Element, Object<String, Component>>}\n */\nconst elementComponentMap = new WeakMap();\n\n/**\n * Parse out the element references within the given element\n * for the given component name.\n * @param {String} name\n * @param {Element} element\n */\nfunction parseRefs(name, element) {\n    const refs = {};\n    const manyRefs = {};\n\n    const prefix = `${name}@`;\n    const selector = `[refs*=\"${prefix}\"]`;\n    const refElems = [...element.querySelectorAll(selector)];\n    if (element.matches(selector)) {\n        refElems.push(element);\n    }\n\n    for (const el of refElems) {\n        const refNames = el.getAttribute('refs')\n            .split(' ')\n            .filter(str => str.startsWith(prefix))\n            .map(str => str.replace(prefix, ''))\n            .map(kebabToCamel);\n        for (const ref of refNames) {\n            refs[ref] = el;\n            if (typeof manyRefs[ref] === 'undefined') {\n                manyRefs[ref] = [];\n            }\n            manyRefs[ref].push(el);\n        }\n    }\n    return {refs, manyRefs};\n}\n\n/**\n * Parse out the element component options.\n * @param {String} componentName\n * @param {Element} element\n * @return {Object<String, String>}\n */\nfunction parseOpts(componentName, element) {\n    const opts = {};\n    const prefix = `option:${componentName}:`;\n    for (const {name, value} of element.attributes) {\n        if (name.startsWith(prefix)) {\n            const optName = name.replace(prefix, '');\n            opts[kebabToCamel(optName)] = value || '';\n        }\n    }\n    return opts;\n}\n\n/**\n * Initialize a component instance on the given dom element.\n * @param {String} name\n * @param {Element} element\n */\nfunction initComponent(name, element) {\n    /** @type {Function<Component>|undefined} * */\n    const ComponentModel = componentModelMap[name];\n    if (ComponentModel === undefined) return;\n\n    // Create our component instance\n    /** @type {Component} * */\n    let instance;\n    try {\n        instance = new ComponentModel();\n        instance.$name = name;\n        instance.$el = element;\n        const allRefs = parseRefs(name, element);\n        instance.$refs = allRefs.refs;\n        instance.$manyRefs = allRefs.manyRefs;\n        instance.$opts = parseOpts(name, element);\n        instance.setup();\n    } catch (e) {\n        console.error('Failed to create component', e, name, element);\n    }\n\n    // Add to global listing\n    if (typeof components[name] === 'undefined') {\n        components[name] = [];\n    }\n    components[name].push(instance);\n\n    // Add to element mapping\n    const elComponents = elementComponentMap.get(element) || {};\n    elComponents[name] = instance;\n    elementComponentMap.set(element, elComponents);\n}\n\n/**\n * Initialize all components found within the given element.\n * @param {Element|Document} parentElement\n */\nexport function init(parentElement = document) {\n    const componentElems = parentElement.querySelectorAll('[component],[components]');\n\n    for (const el of componentElems) {\n        const componentNames = `${el.getAttribute('component') || ''} ${(el.getAttribute('components'))}`.toLowerCase().split(' ').filter(Boolean);\n        for (const name of componentNames) {\n            initComponent(name, el);\n        }\n    }\n}\n\n/**\n * Register the given component mapping into the component system.\n * @param {Object<String, ObjectConstructor<Component>>} mapping\n */\nexport function register(mapping) {\n    const keys = Object.keys(mapping);\n    for (const key of keys) {\n        componentModelMap[camelToKebab(key)] = mapping[key];\n    }\n}\n\n/**\n * Get the first component of the given name.\n * @param {String} name\n * @returns {Component|null}\n */\nexport function first(name) {\n    return (components[name] || [null])[0];\n}\n\n/**\n * Get all the components of the given name.\n * @param {String} name\n * @returns {Component[]}\n */\nexport function get(name) {\n    return components[name] || [];\n}\n\n/**\n * Get the first component, of the given name, that's assigned to the given element.\n * @param {Element} element\n * @param {String} name\n * @returns {Component|null}\n */\nexport function firstOnElement(element, name) {\n    const elComponents = elementComponentMap.get(element) || {};\n    return elComponents[name] || null;\n}\n", "/**\n * Convert a kebab-case string to camelCase\n * @param {String} kebab\n * @returns {string}\n */\nexport function kebabToCamel(kebab) {\n    const ucFirst = word => word.slice(0, 1).toUpperCase() + word.slice(1);\n    const words = kebab.split('-');\n    return words[0] + words.slice(1).map(ucFirst).join('');\n}\n\n/**\n * Convert a camelCase string to a kebab-case string.\n * @param {String} camelStr\n * @returns {String}\n */\nexport function camelToKebab(camelStr) {\n    return camelStr.replace(/[A-Z]/g, (str, offset) => (offset > 0 ? '-' : '') + str.toLowerCase());\n}\n", "export {AddRemoveRows} from './add-remove-rows';\nexport {AjaxDeleteRow} from './ajax-delete-row';\nexport {AjaxForm} from './ajax-form';\nexport {Attachments} from './attachments';\nexport {AttachmentsList} from './attachments-list';\nexport {AutoSuggest} from './auto-suggest';\nexport {AutoSubmit} from './auto-submit';\nexport {BackToTop} from './back-to-top';\nexport {BookSort} from './book-sort';\nexport {ChapterContents} from './chapter-contents';\nexport {CodeEditor} from './code-editor';\nexport {CodeHighlighter} from './code-highlighter';\nexport {CodeTextarea} from './code-textarea';\nexport {Collapsible} from './collapsible';\nexport {ConfirmDialog} from './confirm-dialog';\nexport {CustomCheckbox} from './custom-checkbox';\nexport {DetailsHighlighter} from './details-highlighter';\nexport {Dropdown} from './dropdown';\nexport {DropdownSearch} from './dropdown-search';\nexport {Dropzone} from './dropzone';\nexport {EditorToolbox} from './editor-toolbox';\nexport {EntityPermissions} from './entity-permissions';\nexport {EntitySearch} from './entity-search';\nexport {EntitySelector} from './entity-selector';\nexport {EntitySelectorPopup} from './entity-selector-popup';\nexport {EventEmitSelect} from './event-emit-select';\nexport {ExpandToggle} from './expand-toggle';\nexport {GlobalSearch} from './global-search';\nexport {HeaderMobileToggle} from './header-mobile-toggle';\nexport {ImageManager} from './image-manager';\nexport {ImagePicker} from './image-picker';\nexport {ListSortControl} from './list-sort-control';\nexport {MarkdownEditor} from './markdown-editor';\nexport {NewUserPassword} from './new-user-password';\nexport {Notification} from './notification';\nexport {OptionalInput} from './optional-input';\nexport {PageComment} from './page-comment';\nexport {PageComments} from './page-comments';\nexport {PageDisplay} from './page-display';\nexport {PageEditor} from './page-editor';\nexport {PagePicker} from './page-picker';\nexport {PermissionsTable} from './permissions-table';\nexport {Pointer} from './pointer';\nexport {Popup} from './popup';\nexport {SettingAppColorScheme} from './setting-app-color-scheme';\nexport {SettingColorPicker} from './setting-color-picker';\nexport {SettingHomepageControl} from './setting-homepage-control';\nexport {ShelfSort} from './shelf-sort';\nexport {Shortcuts} from './shortcuts';\nexport {ShortcutInput} from './shortcut-input';\nexport {SortableList} from './sortable-list';\nexport {SubmitOnChange} from './submit-on-change';\nexport {Tabs} from './tabs';\nexport {TagManager} from './tag-manager';\nexport {TemplateManager} from './template-manager';\nexport {ToggleSwitch} from './toggle-switch';\nexport {TriLayout} from './tri-layout';\nexport {UserSelect} from './user-select';\nexport {WebhookEvents} from './webhook-events';\nexport {WysiwygEditor} from './wysiwyg-editor';\n", "/**\n * Create a new element with the given attrs and children.\n * Children can be a string for text nodes or other elements.\n * @param {String} tagName\n * @param {Object<String, String>} attrs\n * @param {Element[]|String[]}children\n * @return {*}\n */\nexport function elem(tagName, attrs = {}, children = []) {\n    const el = document.createElement(tagName);\n\n    for (const [key, val] of Object.entries(attrs)) {\n        if (val === null) {\n            el.removeAttribute(key);\n        } else {\n            el.setAttribute(key, val);\n        }\n    }\n\n    for (const child of children) {\n        if (typeof child === 'string') {\n            el.append(document.createTextNode(child));\n        } else {\n            el.append(child);\n        }\n    }\n\n    return el;\n}\n\n/**\n * Run the given callback against each element that matches the given selector.\n * @param {String} selector\n * @param {Function<Element>} callback\n */\nexport function forEach(selector, callback) {\n    const elements = document.querySelectorAll(selector);\n    for (const element of elements) {\n        callback(element);\n    }\n}\n\n/**\n * Helper to listen to multiple DOM events\n * @param {Element} listenerElement\n * @param {Array<String>} events\n * @param {Function<Event>} callback\n */\nexport function onEvents(listenerElement, events, callback) {\n    for (const eventName of events) {\n        listenerElement.addEventListener(eventName, callback);\n    }\n}\n\n/**\n * Helper to run an action when an element is selected.\n * A \"select\" is made to be accessible, So can be a click, space-press or enter-press.\n * @param {HTMLElement|Array} elements\n * @param {function} callback\n */\nexport function onSelect(elements, callback) {\n    if (!Array.isArray(elements)) {\n        elements = [elements];\n    }\n\n    for (const listenerElement of elements) {\n        listenerElement.addEventListener('click', callback);\n        listenerElement.addEventListener('keydown', event => {\n            if (event.key === 'Enter' || event.key === ' ') {\n                event.preventDefault();\n                callback(event);\n            }\n        });\n    }\n}\n\n/**\n * Listen to key press on the given element(s).\n * @param {String} key\n * @param {HTMLElement|Array} elements\n * @param {function} callback\n */\nfunction onKeyPress(key, elements, callback) {\n    if (!Array.isArray(elements)) {\n        elements = [elements];\n    }\n\n    const listener = event => {\n        if (event.key === key) {\n            callback(event);\n        }\n    };\n\n    elements.forEach(e => e.addEventListener('keydown', listener));\n}\n\n/**\n * Listen to enter press on the given element(s).\n * @param {HTMLElement|Array} elements\n * @param {function} callback\n */\nexport function onEnterPress(elements, callback) {\n    onKeyPress('Enter', elements, callback);\n}\n\n/**\n * Listen to escape press on the given element(s).\n * @param {HTMLElement|Array} elements\n * @param {function} callback\n */\nexport function onEscapePress(elements, callback) {\n    onKeyPress('Escape', elements, callback);\n}\n\n/**\n * Set a listener on an element for an event emitted by a child\n * matching the given childSelector param.\n * Used in a similar fashion to jQuery's $('listener').on('eventName', 'childSelector', callback)\n * @param {Element} listenerElement\n * @param {String} childSelector\n * @param {String} eventName\n * @param {Function} callback\n */\nexport function onChildEvent(listenerElement, childSelector, eventName, callback) {\n    listenerElement.addEventListener(eventName, event => {\n        const matchingChild = event.target.closest(childSelector);\n        if (matchingChild) {\n            callback.call(matchingChild, event, matchingChild);\n        }\n    });\n}\n\n/**\n * Look for elements that match the given selector and contain the given text.\n * Is case insensitive and returns the first result or null if nothing is found.\n * @param {String} selector\n * @param {String} text\n * @returns {Element}\n */\nexport function findText(selector, text) {\n    const elements = document.querySelectorAll(selector);\n    text = text.toLowerCase();\n    for (const element of elements) {\n        if (element.textContent.toLowerCase().includes(text)) {\n            return element;\n        }\n    }\n    return null;\n}\n\n/**\n * Show a loading indicator in the given element.\n * This will effectively clear the element.\n * @param {Element} element\n */\nexport function showLoading(element) {\n    element.innerHTML = '<div class=\"loading-container\"><div></div><div></div><div></div></div>';\n}\n\n/**\n * Get a loading element indicator element.\n * @returns {Element}\n */\nexport function getLoading() {\n    const wrap = document.createElement('div');\n    wrap.classList.add('loading-container');\n    wrap.innerHTML = '<div></div><div></div><div></div>';\n    return wrap;\n}\n\n/**\n * Remove any loading indicators within the given element.\n * @param {Element} element\n */\nexport function removeLoading(element) {\n    const loadingEls = element.querySelectorAll('.loading-container');\n    for (const el of loadingEls) {\n        el.remove();\n    }\n}\n\n/**\n * Convert the given html data into a live DOM element.\n * Initiates any components defined in the data.\n * @param {String} html\n * @returns {Element}\n */\nexport function htmlToDom(html) {\n    const wrap = document.createElement('div');\n    wrap.innerHTML = html;\n    window.$components.init(wrap);\n    return wrap.children[0];\n}\n", "/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing.\n * @attribution https://davidwalsh.name/javascript-debounce-function\n * @param {Function} func\n * @param {Number} waitMs\n * @param {Boolean} immediate\n * @returns {Function}\n */\nexport function debounce(func, waitMs, immediate) {\n    let timeout;\n    return function debouncedWrapper(...args) {\n        const context = this;\n        const later = function debouncedTimeout() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n        };\n        const callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, waitMs);\n        if (callNow) func.apply(context, args);\n    };\n}\n\n/**\n * Scroll and highlight an element.\n * @param {HTMLElement} element\n */\nexport function scrollAndHighlightElement(element) {\n    if (!element) return;\n\n    const parentDetails = element.closest('details');\n    if (parentDetails && !parentDetails.open) {\n        parentDetails.open = true;\n    }\n\n    element.scrollIntoView({behavior: 'smooth'});\n\n    const highlight = getComputedStyle(document.body).getPropertyValue('--color-link');\n    element.style.outline = `2px dashed ${highlight}`;\n    element.style.outlineOffset = '5px';\n    element.style.transition = null;\n    setTimeout(() => {\n        element.style.transition = 'outline linear 3s';\n        element.style.outline = '2px dashed rgba(0, 0, 0, 0)';\n        const listener = () => {\n            element.removeEventListener('transitionend', listener);\n            element.style.transition = null;\n            element.style.outline = null;\n            element.style.outlineOffset = null;\n        };\n        element.addEventListener('transitionend', listener);\n    }, 1000);\n}\n\n/**\n * Escape any HTML in the given 'unsafe' string.\n * Take from https://stackoverflow.com/a/6234804.\n * @param {String} unsafe\n * @returns {string}\n */\nexport function escapeHtml(unsafe) {\n    return unsafe\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#039;');\n}\n\n/**\n * Generate a random unique ID.\n *\n * @returns {string}\n */\nexport function uniqueId() {\n    // eslint-disable-next-line no-bitwise\n    const S4 = () => (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n    return (`${S4() + S4()}-${S4()}-${S4()}-${S4()}-${S4()}${S4()}${S4()}`);\n}\n\n/**\n * Create a promise that resolves after the given time.\n * @param {int} timeMs\n * @returns {Promise}\n */\nexport function wait(timeMs) {\n    return new Promise(res => {\n        setTimeout(res, timeMs);\n    });\n}\n", "export class Component {\n\n    /**\n     * The registered name of the component.\n     * @type {string}\n     */\n    $name = '';\n\n    /**\n     * The element that the component is registered upon.\n     * @type {Element}\n     */\n    $el = null;\n\n    /**\n     * Mapping of referenced elements within the component.\n     * @type {Object<string, Element>}\n     */\n    $refs = {};\n\n    /**\n     * Mapping of arrays of referenced elements within the component so multiple\n     * references, sharing the same name, can be fetched.\n     * @type {Object<string, Element[]>}\n     */\n    $manyRefs = {};\n\n    /**\n     * Options passed into this component.\n     * @type {Object<String, String>}\n     */\n    $opts = {};\n\n    /**\n     * Component-specific setup methods.\n     * Use this to assign local variables and run any initial setup or actions.\n     */\n    setup() {\n        //\n    }\n\n    /**\n     * Emit an event from this component.\n     * Will be bubbled up from the dom element this is registered on, as a custom event\n     * with the name `<elementName>-<eventName>`, with the provided data in the event detail.\n     * @param {String} eventName\n     * @param {Object} data\n     */\n    $emit(eventName, data = {}) {\n        data.from = this;\n        const componentName = this.$name;\n        const event = new CustomEvent(`${componentName}-${eventName}`, {\n            bubbles: true,\n            detail: data,\n        });\n        this.$el.dispatchEvent(event);\n    }\n\n}\n", "import {onChildEvent} from '../services/dom';\nimport {uniqueId} from '../services/util';\nimport {Component} from './component';\n\n/**\n * AddRemoveRows\n * Allows easy row add/remove controls onto a table.\n * Needs a model row to use when adding a new row.\n */\nexport class AddRemoveRows extends Component {\n\n    setup() {\n        this.modelRow = this.$refs.model;\n        this.addButton = this.$refs.add;\n        this.removeSelector = this.$opts.removeSelector;\n        this.rowSelector = this.$opts.rowSelector;\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        this.addButton.addEventListener('click', this.add.bind(this));\n\n        onChildEvent(this.$el, this.removeSelector, 'click', e => {\n            const row = e.target.closest(this.rowSelector);\n            row.remove();\n        });\n    }\n\n    // For external use\n    add() {\n        const clone = this.modelRow.cloneNode(true);\n        clone.classList.remove('hidden');\n        this.setClonedInputNames(clone);\n        this.modelRow.parentNode.insertBefore(clone, this.modelRow);\n        window.$components.init(clone);\n    }\n\n    /**\n     * Update the HTML names of a clone to be unique if required.\n     * Names can use placeholder values. For exmaple, a model row\n     * may have name=\"tags[randrowid][name]\".\n     * These are the available placeholder values:\n     * - randrowid - An random string ID, applied the same across the row.\n     * @param {HTMLElement} clone\n     */\n    setClonedInputNames(clone) {\n        const rowId = uniqueId();\n        const randRowIdElems = clone.querySelectorAll('[name*=\"randrowid\"]');\n        for (const elem of randRowIdElems) {\n            elem.name = elem.name.split('randrowid').join(rowId);\n        }\n    }\n\n}\n", "import {onSelect} from '../services/dom';\nimport {Component} from './component';\n\nexport class AjaxDeleteRow extends Component {\n\n    setup() {\n        this.row = this.$el;\n        this.url = this.$opts.url;\n        this.deleteButtons = this.$manyRefs.delete;\n\n        onSelect(this.deleteButtons, this.runDelete.bind(this));\n    }\n\n    runDelete() {\n        this.row.style.opacity = '0.7';\n        this.row.style.pointerEvents = 'none';\n\n        window.$http.delete(this.url).then(resp => {\n            if (typeof resp.data === 'object' && resp.data.message) {\n                window.$events.emit('success', resp.data.message);\n            }\n            this.row.remove();\n        }).catch(() => {\n            this.row.style.opacity = null;\n            this.row.style.pointerEvents = null;\n        });\n    }\n\n}\n", "import {onEnterPress, onSelect} from '../services/dom';\nimport {Component} from './component';\n\n/**\n * Ajax Form\n * Will handle button clicks or input enter press events and submit\n * the data over ajax. Will always expect a partial HTML view to be returned.\n * Fires an 'ajax-form-success' event when submitted successfully.\n *\n * Will handle a real form if that's what the component is added to\n * otherwise will act as a fake form element.\n */\nexport class AjaxForm extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.responseContainer = this.container;\n        this.url = this.$opts.url;\n        this.method = this.$opts.method || 'post';\n        this.successMessage = this.$opts.successMessage;\n        this.submitButtons = this.$manyRefs.submit || [];\n\n        if (this.$opts.responseContainer) {\n            this.responseContainer = this.container.closest(this.$opts.responseContainer);\n        }\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        if (this.container.tagName === 'FORM') {\n            this.container.addEventListener('submit', this.submitRealForm.bind(this));\n            return;\n        }\n\n        onEnterPress(this.container, event => {\n            this.submitFakeForm();\n            event.preventDefault();\n        });\n\n        this.submitButtons.forEach(button => onSelect(button, this.submitFakeForm.bind(this)));\n    }\n\n    submitFakeForm() {\n        const fd = new FormData();\n        const inputs = this.container.querySelectorAll('[name]');\n        for (const input of inputs) {\n            fd.append(input.getAttribute('name'), input.value);\n        }\n        this.submit(fd);\n    }\n\n    submitRealForm(event) {\n        event.preventDefault();\n        const fd = new FormData(this.container);\n        this.submit(fd);\n    }\n\n    async submit(formData) {\n        this.responseContainer.style.opacity = '0.7';\n        this.responseContainer.style.pointerEvents = 'none';\n\n        try {\n            const resp = await window.$http[this.method.toLowerCase()](this.url, formData);\n            this.$emit('success', {formData});\n            this.responseContainer.innerHTML = resp.data;\n            if (this.successMessage) {\n                window.$events.emit('success', this.successMessage);\n            }\n        } catch (err) {\n            this.responseContainer.innerHTML = err.data;\n        }\n\n        window.$components.init(this.responseContainer);\n        this.responseContainer.style.opacity = null;\n        this.responseContainer.style.pointerEvents = null;\n    }\n\n}\n", "import {showLoading} from '../services/dom';\nimport {Component} from './component';\n\nexport class Attachments extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.pageId = this.$opts.pageId;\n        this.editContainer = this.$refs.editContainer;\n        this.listContainer = this.$refs.listContainer;\n        this.linksContainer = this.$refs.linksContainer;\n        this.listPanel = this.$refs.listPanel;\n        this.attachLinkButton = this.$refs.attachLinkButton;\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        const reloadListBound = this.reloadList.bind(this);\n        this.container.addEventListener('dropzone-upload-success', reloadListBound);\n        this.container.addEventListener('ajax-form-success', reloadListBound);\n\n        this.container.addEventListener('sortable-list-sort', event => {\n            this.updateOrder(event.detail.ids);\n        });\n\n        this.container.addEventListener('event-emit-select-edit', event => {\n            this.startEdit(event.detail.id);\n        });\n\n        this.container.addEventListener('event-emit-select-edit-back', () => {\n            this.stopEdit();\n        });\n\n        this.container.addEventListener('event-emit-select-insert', event => {\n            const insertContent = event.target.closest('[data-drag-content]').getAttribute('data-drag-content');\n            const contentTypes = JSON.parse(insertContent);\n            window.$events.emit('editor::insert', {\n                html: contentTypes['text/html'],\n                markdown: contentTypes['text/plain'],\n            });\n        });\n\n        this.attachLinkButton.addEventListener('click', () => {\n            this.showSection('links');\n        });\n    }\n\n    showSection(section) {\n        const sectionMap = {\n            links: this.linksContainer,\n            edit: this.editContainer,\n            list: this.listContainer,\n        };\n\n        for (const [name, elem] of Object.entries(sectionMap)) {\n            elem.toggleAttribute('hidden', name !== section);\n        }\n    }\n\n    reloadList() {\n        this.stopEdit();\n        window.$http.get(`/attachments/get/page/${this.pageId}`).then(resp => {\n            this.listPanel.innerHTML = resp.data;\n            window.$components.init(this.listPanel);\n        });\n    }\n\n    updateOrder(idOrder) {\n        window.$http.put(`/attachments/sort/page/${this.pageId}`, {order: idOrder}).then(resp => {\n            window.$events.emit('success', resp.data.message);\n        });\n    }\n\n    async startEdit(id) {\n        this.showSection('edit');\n\n        showLoading(this.editContainer);\n        const resp = await window.$http.get(`/attachments/edit/${id}`);\n        this.editContainer.innerHTML = resp.data;\n        window.$components.init(this.editContainer);\n    }\n\n    stopEdit() {\n        this.showSection('list');\n    }\n\n}\n", "import {Component} from './component';\n\n/**\n * Attachments List\n * Adds '?open=true' query to file attachment links\n * when ctrl/cmd is pressed down.\n */\nexport class AttachmentsList extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        const isExpectedKey = event => event.key === 'Control' || event.key === 'Meta';\n        window.addEventListener('keydown', event => {\n            if (isExpectedKey(event)) {\n                this.addOpenQueryToLinks();\n            }\n        }, {passive: true});\n        window.addEventListener('keyup', event => {\n            if (isExpectedKey(event)) {\n                this.removeOpenQueryFromLinks();\n            }\n        }, {passive: true});\n    }\n\n    addOpenQueryToLinks() {\n        const links = this.container.querySelectorAll('a.attachment-file');\n        for (const link of links) {\n            if (link.href.split('?')[1] !== 'open=true') {\n                link.href += '?open=true';\n                link.setAttribute('target', '_blank');\n            }\n        }\n    }\n\n    removeOpenQueryFromLinks() {\n        const links = this.container.querySelectorAll('a.attachment-file');\n        for (const link of links) {\n            link.href = link.href.split('?')[0];\n            link.removeAttribute('target');\n        }\n    }\n\n}\n", "/**\n * Handle common keyboard navigation events within a given container.\n */\nexport class KeyboardNavigationHandler {\n\n    /**\n     * @param {Element} container\n     * @param {Function|null} onEscape\n     * @param {Function|null} onEnter\n     */\n    constructor(container, onEscape = null, onEnter = null) {\n        this.containers = [container];\n        this.onEscape = onEscape;\n        this.onEnter = onEnter;\n        container.addEventListener('keydown', this.#keydownHandler.bind(this));\n    }\n\n    /**\n     * Also share the keyboard event handling to the given element.\n     * Only elements within the original container are considered focusable though.\n     * @param {Element} element\n     */\n    shareHandlingToEl(element) {\n        this.containers.push(element);\n        element.addEventListener('keydown', this.#keydownHandler.bind(this));\n    }\n\n    /**\n     * Focus on the next focusable element within the current containers.\n     */\n    focusNext() {\n        const focusable = this.#getFocusable();\n        const currentIndex = focusable.indexOf(document.activeElement);\n        let newIndex = currentIndex + 1;\n        if (newIndex >= focusable.length) {\n            newIndex = 0;\n        }\n\n        focusable[newIndex].focus();\n    }\n\n    /**\n     * Focus on the previous existing focusable element within the current containers.\n     */\n    focusPrevious() {\n        const focusable = this.#getFocusable();\n        const currentIndex = focusable.indexOf(document.activeElement);\n        let newIndex = currentIndex - 1;\n        if (newIndex < 0) {\n            newIndex = focusable.length - 1;\n        }\n\n        focusable[newIndex].focus();\n    }\n\n    /**\n     * @param {KeyboardEvent} event\n     */\n    #keydownHandler(event) {\n        // Ignore certain key events in inputs to allow text editing.\n        if (event.target.matches('input') && (event.key === 'ArrowRight' || event.key === 'ArrowLeft')) {\n            return;\n        }\n\n        if (event.key === 'ArrowDown' || event.key === 'ArrowRight') {\n            this.focusNext();\n            event.preventDefault();\n        } else if (event.key === 'ArrowUp' || event.key === 'ArrowLeft') {\n            this.focusPrevious();\n            event.preventDefault();\n        } else if (event.key === 'Escape') {\n            if (this.onEscape) {\n                this.onEscape(event);\n            } else if (document.activeElement) {\n                document.activeElement.blur();\n            }\n        } else if (event.key === 'Enter' && this.onEnter) {\n            this.onEnter(event);\n        }\n    }\n\n    /**\n     * Get an array of focusable elements within the current containers.\n     * @returns {Element[]}\n     */\n    #getFocusable() {\n        const focusable = [];\n        const selector = '[tabindex]:not([tabindex=\"-1\"]),[href],button:not([tabindex=\"-1\"],[disabled]),input:not([type=hidden])';\n        for (const container of this.containers) {\n            focusable.push(...container.querySelectorAll(selector));\n        }\n        return focusable;\n    }\n\n}\n", "import {escapeHtml} from '../services/util';\nimport {onChildEvent} from '../services/dom';\nimport {Component} from './component';\nimport {KeyboardNavigationHandler} from '../services/keyboard-navigation';\n\nconst ajaxCache = {};\n\n/**\n * AutoSuggest\n */\nexport class AutoSuggest extends Component {\n\n    setup() {\n        this.parent = this.$el.parentElement;\n        this.container = this.$el;\n        this.type = this.$opts.type;\n        this.url = this.$opts.url;\n        this.input = this.$refs.input;\n        this.list = this.$refs.list;\n\n        this.lastPopulated = 0;\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        const navHandler = new KeyboardNavigationHandler(\n            this.list,\n            () => {\n                this.input.focus();\n                setTimeout(() => this.hideSuggestions(), 1);\n            },\n            event => {\n                event.preventDefault();\n                const selectionValue = event.target.textContent;\n                if (selectionValue) {\n                    this.selectSuggestion(selectionValue);\n                }\n            },\n        );\n        navHandler.shareHandlingToEl(this.input);\n\n        onChildEvent(this.list, '.text-item', 'click', (event, el) => {\n            this.selectSuggestion(el.textContent);\n        });\n\n        this.input.addEventListener('input', this.requestSuggestions.bind(this));\n        this.input.addEventListener('focus', this.requestSuggestions.bind(this));\n        this.input.addEventListener('blur', this.hideSuggestionsIfFocusedLost.bind(this));\n        this.input.addEventListener('keydown', event => {\n            if (event.key === 'Tab') {\n                this.hideSuggestions();\n            }\n        });\n    }\n\n    selectSuggestion(value) {\n        this.input.value = value;\n        this.lastPopulated = Date.now();\n        this.input.focus();\n        this.input.dispatchEvent(new Event('input', {bubbles: true}));\n        this.input.dispatchEvent(new Event('change', {bubbles: true}));\n        this.hideSuggestions();\n    }\n\n    async requestSuggestions() {\n        if (Date.now() - this.lastPopulated < 50) {\n            return;\n        }\n\n        const nameFilter = this.getNameFilterIfNeeded();\n        const search = this.input.value.toLowerCase();\n        const suggestions = await this.loadSuggestions(search, nameFilter);\n\n        const toShow = suggestions.filter(val => search === '' || val.toLowerCase().startsWith(search)).slice(0, 10);\n\n        this.displaySuggestions(toShow);\n    }\n\n    getNameFilterIfNeeded() {\n        if (this.type !== 'value') return null;\n        return this.parent.querySelector('input').value;\n    }\n\n    /**\n     * @param {String} search\n     * @param {String|null} nameFilter\n     * @returns {Promise<Object|String|*>}\n     */\n    async loadSuggestions(search, nameFilter = null) {\n        // Truncate search to prevent over numerous lookups\n        search = search.slice(0, 4);\n\n        const params = {search, name: nameFilter};\n        const cacheKey = `${this.url}:${JSON.stringify(params)}`;\n\n        if (ajaxCache[cacheKey]) {\n            return ajaxCache[cacheKey];\n        }\n\n        const resp = await window.$http.get(this.url, params);\n        ajaxCache[cacheKey] = resp.data;\n        return resp.data;\n    }\n\n    /**\n     * @param {String[]} suggestions\n     */\n    displaySuggestions(suggestions) {\n        if (suggestions.length === 0) {\n            this.hideSuggestions();\n            return;\n        }\n\n        // This used to use <button>s but was changed to div elements since Safari would not focus on buttons\n        // on which causes a range of other complexities related to focus handling.\n        this.list.innerHTML = suggestions.map(value => `<li><div tabindex=\"0\" class=\"text-item\">${escapeHtml(value)}</div></li>`).join('');\n        this.list.style.display = 'block';\n        for (const button of this.list.querySelectorAll('.text-item')) {\n            button.addEventListener('blur', this.hideSuggestionsIfFocusedLost.bind(this));\n        }\n    }\n\n    hideSuggestions() {\n        this.list.style.display = 'none';\n    }\n\n    hideSuggestionsIfFocusedLost(event) {\n        if (!this.container.contains(event.relatedTarget)) {\n            this.hideSuggestions();\n        }\n    }\n\n}\n", "import {Component} from './component';\n\nexport class AutoSubmit extends Component {\n\n    setup() {\n        this.form = this.$el;\n\n        this.form.submit();\n    }\n\n}\n", "import {Component} from './component';\n\nexport class BackToTop extends Component {\n\n    setup() {\n        this.button = this.$el;\n        this.targetElem = document.getElementById('header');\n        this.showing = false;\n        this.breakPoint = 1200;\n\n        if (document.body.classList.contains('flexbox')) {\n            this.button.style.display = 'none';\n            return;\n        }\n\n        this.button.addEventListener('click', this.scrollToTop.bind(this));\n        window.addEventListener('scroll', this.onPageScroll.bind(this));\n    }\n\n    onPageScroll() {\n        const scrollTopPos = document.documentElement.scrollTop || document.body.scrollTop || 0;\n        if (!this.showing && scrollTopPos > this.breakPoint) {\n            this.button.style.display = 'block';\n            this.showing = true;\n            setTimeout(() => {\n                this.button.style.opacity = 0.4;\n            }, 1);\n        } else if (this.showing && scrollTopPos < this.breakPoint) {\n            this.button.style.opacity = 0;\n            this.showing = false;\n            setTimeout(() => {\n                this.button.style.display = 'none';\n            }, 500);\n        }\n    }\n\n    scrollToTop() {\n        const targetTop = this.targetElem.getBoundingClientRect().top;\n        const scrollElem = document.documentElement.scrollTop ? document.documentElement : document.body;\n        const duration = 300;\n        const start = Date.now();\n        const scrollStart = this.targetElem.getBoundingClientRect().top;\n\n        function setPos() {\n            const percentComplete = (1 - ((Date.now() - start) / duration));\n            const target = Math.abs(percentComplete * scrollStart);\n            if (percentComplete > 0) {\n                scrollElem.scrollTop = target;\n                requestAnimationFrame(setPos.bind(this));\n            } else {\n                scrollElem.scrollTop = targetTop;\n            }\n        }\n\n        requestAnimationFrame(setPos.bind(this));\n    }\n\n}\n", "/**!\n * Sortable 1.15.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.15.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, _excluded);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\r\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\r\n * @param  {Number} x      X position\r\n * @param  {Number} y      Y position\r\n * @return {HTMLElement}   Element of the first found nearest Sortable\r\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    var threshold = sortable[expando].options.emptyInsertThreshold;\n    if (!threshold || lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists && !ChromeForAndroid) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\r\n * @class  Sortable\r\n * @param  {HTMLElement}  el\r\n * @param  {Object}       [options]\r\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.removeAttribute(\"id\");\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // if there is a last element, it is the target\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n\n          if (elLastChild && elLastChild.nextSibling) {\n            // the last draggable element is not the last node\n            el.insertBefore(dragEl, elLastChild.nextSibling);\n          } else {\n            el.appendChild(dragEl);\n          }\n\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n\n        target = firstChild;\n        targetRect = getRect(target);\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\r\n   * Serializes the item into an array of string.\r\n   * @returns {String[]}\r\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\r\n   * Sorts the elements according to the array.\r\n   * @param  {String[]}  order  order of the items\r\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\r\n   * Save the current sorting\r\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\r\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\r\n   * @param   {HTMLElement}  el\r\n   * @param   {String}       [selector]  default: `options.draggable`\r\n   * @returns {HTMLElement|null}\r\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\r\n   * Set/get option\r\n   * @param   {string} name\r\n   * @param   {*}      [value]\r\n   * @returns {*}\r\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\r\n   * Destroy\r\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var rect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var spacer = 10;\n  return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\r\n * Gets the direction dragEl must be swapped relative to target in order to make it\r\n * seem that dragEl has been \"inserted\" into that element's position\r\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\r\n * @return {Number}                   Direction dragEl must be swapped\r\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\r\n * Generate id\r\n * @param   {HTMLElement} el\r\n * @returns {String}\r\n * @private\r\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\r\n * Get the Sortable instance of an element\r\n * @param  {HTMLElement} element The element\r\n * @return {Sortable|undefined}         The instance of Sortable\r\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\r\n * Mount a plugin to Sortable\r\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\r\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\r\n * Create sortable instance\r\n * @param {HTMLElement}  el\r\n * @param {Object}      [options]\r\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (!sortable.options.avoidImplicitDeselect) {\n      if (sortable.options.supportPointer) {\n        on(document, 'pointerup', this._deselectMultiDrag);\n      } else {\n        on(document, 'mouseup', this._deselectMultiDrag);\n        on(document, 'touchend', this._deselectMultiDrag);\n      }\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      avoidImplicitDeselect: false,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvent: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        folding = false; // Do not \"unfold\" after around dragEl if reverted\n\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvent: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n", "import Sortable, {MultiDrag} from 'sortablejs';\nimport {Component} from './component';\nimport {htmlToDom} from '../services/dom';\n\n// Auto sort control\nconst sortOperations = {\n    name(a, b) {\n        const aName = a.getAttribute('data-name').trim().toLowerCase();\n        const bName = b.getAttribute('data-name').trim().toLowerCase();\n        return aName.localeCompare(bName);\n    },\n    created(a, b) {\n        const aTime = Number(a.getAttribute('data-created'));\n        const bTime = Number(b.getAttribute('data-created'));\n        return bTime - aTime;\n    },\n    updated(a, b) {\n        const aTime = Number(a.getAttribute('data-updated'));\n        const bTime = Number(b.getAttribute('data-updated'));\n        return bTime - aTime;\n    },\n    chaptersFirst(a, b) {\n        const aType = a.getAttribute('data-type');\n        const bType = b.getAttribute('data-type');\n        if (aType === bType) {\n            return 0;\n        }\n        return (aType === 'chapter' ? -1 : 1);\n    },\n    chaptersLast(a, b) {\n        const aType = a.getAttribute('data-type');\n        const bType = b.getAttribute('data-type');\n        if (aType === bType) {\n            return 0;\n        }\n        return (aType === 'chapter' ? 1 : -1);\n    },\n};\n\n/**\n * The available move actions.\n * The active function indicates if the action is possible for the given item.\n * The run function performs the move.\n * @type {{up: {active(Element, ?Element, Element): boolean, run(Element, ?Element, Element)}}}\n */\nconst moveActions = {\n    up: {\n        active(elem, parent) {\n            return !(elem.previousElementSibling === null && !parent);\n        },\n        run(elem, parent) {\n            const newSibling = elem.previousElementSibling || parent;\n            newSibling.insertAdjacentElement('beforebegin', elem);\n        },\n    },\n    down: {\n        active(elem, parent) {\n            return !(elem.nextElementSibling === null && !parent);\n        },\n        run(elem, parent) {\n            const newSibling = elem.nextElementSibling || parent;\n            newSibling.insertAdjacentElement('afterend', elem);\n        },\n    },\n    next_book: {\n        active(elem, parent, book) {\n            return book.nextElementSibling !== null;\n        },\n        run(elem, parent, book) {\n            const newList = book.nextElementSibling.querySelector('ul');\n            newList.prepend(elem);\n        },\n    },\n    prev_book: {\n        active(elem, parent, book) {\n            return book.previousElementSibling !== null;\n        },\n        run(elem, parent, book) {\n            const newList = book.previousElementSibling.querySelector('ul');\n            newList.appendChild(elem);\n        },\n    },\n    next_chapter: {\n        active(elem, parent) {\n            return elem.dataset.type === 'page' && this.getNextChapter(elem, parent);\n        },\n        run(elem, parent) {\n            const nextChapter = this.getNextChapter(elem, parent);\n            nextChapter.querySelector('ul').prepend(elem);\n        },\n        getNextChapter(elem, parent) {\n            const topLevel = (parent || elem);\n            const topItems = Array.from(topLevel.parentElement.children);\n            const index = topItems.indexOf(topLevel);\n            return topItems.slice(index + 1).find(item => item.dataset.type === 'chapter');\n        },\n    },\n    prev_chapter: {\n        active(elem, parent) {\n            return elem.dataset.type === 'page' && this.getPrevChapter(elem, parent);\n        },\n        run(elem, parent) {\n            const prevChapter = this.getPrevChapter(elem, parent);\n            prevChapter.querySelector('ul').append(elem);\n        },\n        getPrevChapter(elem, parent) {\n            const topLevel = (parent || elem);\n            const topItems = Array.from(topLevel.parentElement.children);\n            const index = topItems.indexOf(topLevel);\n            return topItems.slice(0, index).reverse().find(item => item.dataset.type === 'chapter');\n        },\n    },\n    book_end: {\n        active(elem, parent) {\n            return parent || (parent === null && elem.nextElementSibling);\n        },\n        run(elem, parent, book) {\n            book.querySelector('ul').append(elem);\n        },\n    },\n    book_start: {\n        active(elem, parent) {\n            return parent || (parent === null && elem.previousElementSibling);\n        },\n        run(elem, parent, book) {\n            book.querySelector('ul').prepend(elem);\n        },\n    },\n    before_chapter: {\n        active(elem, parent) {\n            return parent;\n        },\n        run(elem, parent) {\n            parent.insertAdjacentElement('beforebegin', elem);\n        },\n    },\n    after_chapter: {\n        active(elem, parent) {\n            return parent;\n        },\n        run(elem, parent) {\n            parent.insertAdjacentElement('afterend', elem);\n        },\n    },\n};\n\nexport class BookSort extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.sortContainer = this.$refs.sortContainer;\n        this.input = this.$refs.input;\n\n        Sortable.mount(new MultiDrag());\n\n        const initialSortBox = this.container.querySelector('.sort-box');\n        this.setupBookSortable(initialSortBox);\n        this.setupSortPresets();\n        this.setupMoveActions();\n\n        window.$events.listen('entity-select-change', this.bookSelect.bind(this));\n    }\n\n    /**\n     * Set up the handlers for the item-level move buttons.\n     */\n    setupMoveActions() {\n        // Handle move button click\n        this.container.addEventListener('click', event => {\n            if (event.target.matches('[data-move]')) {\n                const action = event.target.getAttribute('data-move');\n                const sortItem = event.target.closest('[data-id]');\n                this.runSortAction(sortItem, action);\n            }\n        });\n\n        this.updateMoveActionStateForAll();\n    }\n\n    /**\n     * Set up the handlers for the preset sort type buttons.\n     */\n    setupSortPresets() {\n        let lastSort = '';\n        let reverse = false;\n        const reversibleTypes = ['name', 'created', 'updated'];\n\n        this.sortContainer.addEventListener('click', event => {\n            const sortButton = event.target.closest('.sort-box-options [data-sort]');\n            if (!sortButton) return;\n\n            event.preventDefault();\n            const sortLists = sortButton.closest('.sort-box').querySelectorAll('ul');\n            const sort = sortButton.getAttribute('data-sort');\n\n            reverse = (lastSort === sort) ? !reverse : false;\n            let sortFunction = sortOperations[sort];\n            if (reverse && reversibleTypes.includes(sort)) {\n                sortFunction = function reverseSortOperation(a, b) {\n                    return 0 - sortOperations[sort](a, b);\n                };\n            }\n\n            for (const list of sortLists) {\n                const directItems = Array.from(list.children).filter(child => child.matches('li'));\n                directItems.sort(sortFunction).forEach(sortedItem => {\n                    list.appendChild(sortedItem);\n                });\n            }\n\n            lastSort = sort;\n            this.updateMapInput();\n        });\n    }\n\n    /**\n     * Handle book selection from the entity selector.\n     * @param {Object} entityInfo\n     */\n    bookSelect(entityInfo) {\n        const alreadyAdded = this.container.querySelector(`[data-type=\"book\"][data-id=\"${entityInfo.id}\"]`) !== null;\n        if (alreadyAdded) return;\n\n        const entitySortItemUrl = `${entityInfo.link}/sort-item`;\n        window.$http.get(entitySortItemUrl).then(resp => {\n            const newBookContainer = htmlToDom(resp.data);\n            this.sortContainer.append(newBookContainer);\n            this.setupBookSortable(newBookContainer);\n            this.updateMoveActionStateForAll();\n\n            const summary = newBookContainer.querySelector('summary');\n            summary.focus();\n        });\n    }\n\n    /**\n     * Set up the given book container element to have sortable items.\n     * @param {Element} bookContainer\n     */\n    setupBookSortable(bookContainer) {\n        const sortElems = Array.from(bookContainer.querySelectorAll('.sort-list, .sortable-page-sublist'));\n\n        const bookGroupConfig = {\n            name: 'book',\n            pull: ['book', 'chapter'],\n            put: ['book', 'chapter'],\n        };\n\n        const chapterGroupConfig = {\n            name: 'chapter',\n            pull: ['book', 'chapter'],\n            put(toList, fromList, draggedElem) {\n                return draggedElem.getAttribute('data-type') === 'page';\n            },\n        };\n\n        for (const sortElem of sortElems) {\n            Sortable.create(sortElem, {\n                group: sortElem.classList.contains('sort-list') ? bookGroupConfig : chapterGroupConfig,\n                animation: 150,\n                fallbackOnBody: true,\n                swapThreshold: 0.65,\n                onSort: () => {\n                    this.ensureNoNestedChapters();\n                    this.updateMapInput();\n                    this.updateMoveActionStateForAll();\n                },\n                dragClass: 'bg-white',\n                ghostClass: 'primary-background-light',\n                multiDrag: true,\n                multiDragKey: 'Control',\n                selectedClass: 'sortable-selected',\n            });\n        }\n    }\n\n    /**\n     * Handle nested chapters by moving them to the parent book.\n     * Needed since sorting with multi-sort only checks group rules based on the active item,\n     * not all in group, therefore need to manually check after a sort.\n     * Must be done before updating the map input.\n     */\n    ensureNoNestedChapters() {\n        const nestedChapters = this.container.querySelectorAll('[data-type=\"chapter\"] [data-type=\"chapter\"]');\n        for (const chapter of nestedChapters) {\n            const parentChapter = chapter.parentElement.closest('[data-type=\"chapter\"]');\n            parentChapter.insertAdjacentElement('afterend', chapter);\n        }\n    }\n\n    /**\n     * Update the input with our sort data.\n     */\n    updateMapInput() {\n        const pageMap = this.buildEntityMap();\n        this.input.value = JSON.stringify(pageMap);\n    }\n\n    /**\n     * Build up a mapping of entities with their ordering and nesting.\n     * @returns {Array}\n     */\n    buildEntityMap() {\n        const entityMap = [];\n        const lists = this.container.querySelectorAll('.sort-list');\n\n        for (const list of lists) {\n            const bookId = list.closest('[data-type=\"book\"]').getAttribute('data-id');\n            const directChildren = Array.from(list.children)\n                .filter(elem => elem.matches('[data-type=\"page\"], [data-type=\"chapter\"]'));\n            for (let i = 0; i < directChildren.length; i++) {\n                this.addBookChildToMap(directChildren[i], i, bookId, entityMap);\n            }\n        }\n\n        return entityMap;\n    }\n\n    /**\n     * Parse a sort item and add it to a data-map array.\n     * Parses sub0items if existing also.\n     * @param {Element} childElem\n     * @param {Number} index\n     * @param {Number} bookId\n     * @param {Array} entityMap\n     */\n    addBookChildToMap(childElem, index, bookId, entityMap) {\n        const type = childElem.getAttribute('data-type');\n        const parentChapter = false;\n        const childId = childElem.getAttribute('data-id');\n\n        entityMap.push({\n            id: childId,\n            sort: index,\n            parentChapter,\n            type,\n            book: bookId,\n        });\n\n        const subPages = childElem.querySelectorAll('[data-type=\"page\"]');\n        for (let i = 0; i < subPages.length; i++) {\n            entityMap.push({\n                id: subPages[i].getAttribute('data-id'),\n                sort: i,\n                parentChapter: childId,\n                type: 'page',\n                book: bookId,\n            });\n        }\n    }\n\n    /**\n     * Run the given sort action up the provided sort item.\n     * @param {Element} item\n     * @param {String} action\n     */\n    runSortAction(item, action) {\n        const parentItem = item.parentElement.closest('li[data-id]');\n        const parentBook = item.parentElement.closest('[data-type=\"book\"]');\n        moveActions[action].run(item, parentItem, parentBook);\n        this.updateMapInput();\n        this.updateMoveActionStateForAll();\n        item.scrollIntoView({behavior: 'smooth', block: 'nearest'});\n        item.focus();\n    }\n\n    /**\n     * Update the state of the available move actions on this item.\n     * @param {Element} item\n     */\n    updateMoveActionState(item) {\n        const parentItem = item.parentElement.closest('li[data-id]');\n        const parentBook = item.parentElement.closest('[data-type=\"book\"]');\n        for (const [action, functions] of Object.entries(moveActions)) {\n            const moveButton = item.querySelector(`[data-move=\"${action}\"]`);\n            moveButton.disabled = !functions.active(item, parentItem, parentBook);\n        }\n    }\n\n    updateMoveActionStateForAll() {\n        const items = this.container.querySelectorAll('[data-type=\"chapter\"],[data-type=\"page\"]');\n        for (const item of items) {\n            this.updateMoveActionState(item);\n        }\n    }\n\n}\n", "/**\n * Used in the function below to store references of clean-up functions.\n * Used to ensure only one transitionend function exists at any time.\n * @type {WeakMap<object, any>}\n */\nconst animateStylesCleanupMap = new WeakMap();\n\n/**\n * Animate the css styles of an element using FLIP animation techniques.\n * Styles must be an object where the keys are style properties, camelcase, and the values\n * are an array of two items in the format [initialValue, finalValue]\n * @param {Element} element\n * @param {Object} styles\n * @param {Number} animTime\n * @param {Function} onComplete\n */\nfunction animateStyles(element, styles, animTime = 400, onComplete = null) {\n    const styleNames = Object.keys(styles);\n    for (const style of styleNames) {\n        element.style[style] = styles[style][0];\n    }\n\n    const cleanup = () => {\n        for (const style of styleNames) {\n            element.style[style] = null;\n        }\n        element.style.transition = null;\n        element.removeEventListener('transitionend', cleanup);\n        animateStylesCleanupMap.delete(element);\n        if (onComplete) onComplete();\n    };\n\n    setTimeout(() => {\n        element.style.transition = `all ease-in-out ${animTime}ms`;\n        for (const style of styleNames) {\n            element.style[style] = styles[style][1];\n        }\n\n        element.addEventListener('transitionend', cleanup);\n        animateStylesCleanupMap.set(element, cleanup);\n    }, 15);\n}\n\n/**\n * Run the active cleanup action for the given element.\n * @param {Element} element\n */\nfunction cleanupExistingElementAnimation(element) {\n    if (animateStylesCleanupMap.has(element)) {\n        const oldCleanup = animateStylesCleanupMap.get(element);\n        oldCleanup();\n    }\n}\n\n/**\n * Fade in the given element.\n * @param {Element} element\n * @param {Number} animTime\n * @param {Function|null} onComplete\n */\nexport function fadeIn(element, animTime = 400, onComplete = null) {\n    cleanupExistingElementAnimation(element);\n    element.style.display = 'block';\n    animateStyles(element, {\n        opacity: ['0', '1'],\n    }, animTime, () => {\n        if (onComplete) onComplete();\n    });\n}\n\n/**\n * Fade out the given element.\n * @param {Element} element\n * @param {Number} animTime\n * @param {Function|null} onComplete\n */\nexport function fadeOut(element, animTime = 400, onComplete = null) {\n    cleanupExistingElementAnimation(element);\n    animateStyles(element, {\n        opacity: ['1', '0'],\n    }, animTime, () => {\n        element.style.display = 'none';\n        if (onComplete) onComplete();\n    });\n}\n\n/**\n * Hide the element by sliding the contents upwards.\n * @param {Element} element\n * @param {Number} animTime\n */\nexport function slideUp(element, animTime = 400) {\n    cleanupExistingElementAnimation(element);\n    const currentHeight = element.getBoundingClientRect().height;\n    const computedStyles = getComputedStyle(element);\n    const currentPaddingTop = computedStyles.getPropertyValue('padding-top');\n    const currentPaddingBottom = computedStyles.getPropertyValue('padding-bottom');\n    const animStyles = {\n        maxHeight: [`${currentHeight}px`, '0px'],\n        overflow: ['hidden', 'hidden'],\n        paddingTop: [currentPaddingTop, '0px'],\n        paddingBottom: [currentPaddingBottom, '0px'],\n    };\n\n    animateStyles(element, animStyles, animTime, () => {\n        element.style.display = 'none';\n    });\n}\n\n/**\n * Show the given element by expanding the contents.\n * @param {Element} element - Element to animate\n * @param {Number} animTime - Animation time in ms\n */\nexport function slideDown(element, animTime = 400) {\n    cleanupExistingElementAnimation(element);\n    element.style.display = 'block';\n    const targetHeight = element.getBoundingClientRect().height;\n    const computedStyles = getComputedStyle(element);\n    const targetPaddingTop = computedStyles.getPropertyValue('padding-top');\n    const targetPaddingBottom = computedStyles.getPropertyValue('padding-bottom');\n    const animStyles = {\n        maxHeight: ['0px', `${targetHeight}px`],\n        overflow: ['hidden', 'hidden'],\n        paddingTop: ['0px', targetPaddingTop],\n        paddingBottom: ['0px', targetPaddingBottom],\n    };\n\n    animateStyles(element, animStyles, animTime);\n}\n\n/**\n * Transition the height of the given element between two states.\n * Call with first state, and you'll receive a function in return.\n * Call the returned function in the second state to animate between those two states.\n * If animating to/from 0-height use the slide-up/slide down as easier alternatives.\n * @param {Element} element - Element to animate\n * @param {Number} animTime - Animation time in ms\n * @returns {function} - Function to run in second state to trigger animation.\n */\nexport function transitionHeight(element, animTime = 400) {\n    const startHeight = element.getBoundingClientRect().height;\n    const initialComputedStyles = getComputedStyle(element);\n    const startPaddingTop = initialComputedStyles.getPropertyValue('padding-top');\n    const startPaddingBottom = initialComputedStyles.getPropertyValue('padding-bottom');\n\n    return () => {\n        cleanupExistingElementAnimation(element);\n        const targetHeight = element.getBoundingClientRect().height;\n        const computedStyles = getComputedStyle(element);\n        const targetPaddingTop = computedStyles.getPropertyValue('padding-top');\n        const targetPaddingBottom = computedStyles.getPropertyValue('padding-bottom');\n        const animStyles = {\n            height: [`${startHeight}px`, `${targetHeight}px`],\n            overflow: ['hidden', 'hidden'],\n            paddingTop: [startPaddingTop, targetPaddingTop],\n            paddingBottom: [startPaddingBottom, targetPaddingBottom],\n        };\n\n        animateStyles(element, animStyles, animTime);\n    };\n}\n", "import {slideUp, slideDown} from '../services/animations';\nimport {Component} from './component';\n\nexport class ChapterContents extends Component {\n\n    setup() {\n        this.list = this.$refs.list;\n        this.toggle = this.$refs.toggle;\n\n        this.isOpen = this.toggle.classList.contains('open');\n        this.toggle.addEventListener('click', this.click.bind(this));\n    }\n\n    open() {\n        this.toggle.classList.add('open');\n        this.toggle.setAttribute('aria-expanded', 'true');\n        slideDown(this.list, 180);\n        this.isOpen = true;\n    }\n\n    close() {\n        this.toggle.classList.remove('open');\n        this.toggle.setAttribute('aria-expanded', 'false');\n        slideUp(this.list, 180);\n        this.isOpen = false;\n    }\n\n    click(event) {\n        event.preventDefault();\n        if (this.isOpen) {\n            this.close();\n        } else {\n            this.open();\n        }\n    }\n\n}\n", "import {onChildEvent, onEnterPress, onSelect} from '../services/dom';\nimport {Component} from './component';\n\nexport class CodeEditor extends Component {\n\n    /**\n     * @type {null|SimpleEditorInterface}\n     */\n    editor = null;\n\n    /**\n     * @type {?Function}\n     */\n    saveCallback = null;\n\n    /**\n     * @type {?Function}\n     */\n    cancelCallback = null;\n\n    history = {};\n\n    historyKey = 'code_history';\n\n    setup() {\n        this.container = this.$refs.container;\n        this.popup = this.$el;\n        this.editorInput = this.$refs.editor;\n        this.languageButtons = this.$manyRefs.languageButton;\n        this.languageOptionsContainer = this.$refs.languageOptionsContainer;\n        this.saveButton = this.$refs.saveButton;\n        this.languageInput = this.$refs.languageInput;\n        this.historyDropDown = this.$refs.historyDropDown;\n        this.historyList = this.$refs.historyList;\n        this.favourites = new Set(this.$opts.favourites.split(','));\n\n        this.setupListeners();\n        this.setupFavourites();\n    }\n\n    setupListeners() {\n        this.container.addEventListener('keydown', event => {\n            if (event.ctrlKey && event.key === 'Enter') {\n                this.save();\n            }\n        });\n\n        onSelect(this.languageButtons, event => {\n            const language = event.target.dataset.lang;\n            this.languageInput.value = language;\n            this.languageInputChange(language);\n        });\n\n        onEnterPress(this.languageInput, () => this.save());\n        this.languageInput.addEventListener('input', () => this.languageInputChange(this.languageInput.value));\n        onSelect(this.saveButton, () => this.save());\n\n        onChildEvent(this.historyList, 'button', 'click', (event, elem) => {\n            event.preventDefault();\n            const historyTime = elem.dataset.time;\n            if (this.editor) {\n                this.editor.setContent(this.history[historyTime]);\n            }\n        });\n    }\n\n    setupFavourites() {\n        for (const button of this.languageButtons) {\n            this.setupFavouritesForButton(button);\n        }\n\n        this.sortLanguageList();\n    }\n\n    /**\n     * @param {HTMLButtonElement} button\n     */\n    setupFavouritesForButton(button) {\n        const language = button.dataset.lang;\n        let isFavorite = this.favourites.has(language);\n        button.setAttribute('data-favourite', isFavorite ? 'true' : 'false');\n\n        onChildEvent(button.parentElement, '.lang-option-favorite-toggle', 'click', () => {\n            isFavorite = !isFavorite;\n\n            if (isFavorite) {\n                this.favourites.add(language);\n            } else {\n                this.favourites.delete(language);\n            }\n\n            button.setAttribute('data-favourite', isFavorite ? 'true' : 'false');\n\n            window.$http.patch('/preferences/update-code-language-favourite', {\n                language,\n                active: isFavorite,\n            });\n\n            this.sortLanguageList();\n            if (isFavorite) {\n                button.scrollIntoView({block: 'center', behavior: 'smooth'});\n            }\n        });\n    }\n\n    sortLanguageList() {\n        const sortedParents = this.languageButtons.sort((a, b) => {\n            const aFav = a.dataset.favourite === 'true';\n            const bFav = b.dataset.favourite === 'true';\n\n            if (aFav && !bFav) {\n                return -1;\n            } if (bFav && !aFav) {\n                return 1;\n            }\n\n            return a.dataset.lang > b.dataset.lang ? 1 : -1;\n        }).map(button => button.parentElement);\n\n        for (const parent of sortedParents) {\n            this.languageOptionsContainer.append(parent);\n        }\n    }\n\n    save() {\n        if (this.saveCallback) {\n            this.saveCallback(this.editor.getContent(), this.languageInput.value);\n        }\n        this.hide();\n    }\n\n    async open(code, language, saveCallback, cancelCallback) {\n        this.languageInput.value = language;\n        this.saveCallback = saveCallback;\n        this.cancelCallback = cancelCallback;\n\n        await this.show();\n        this.languageInputChange(language);\n        this.editor.setContent(code);\n    }\n\n    async show() {\n        const Code = await window.importVersioned('code');\n        if (!this.editor) {\n            this.editor = Code.popupEditor(this.editorInput, this.languageInput.value);\n        }\n\n        this.loadHistory();\n        this.getPopup().show(() => {\n            this.editor.focus();\n        }, () => {\n            this.addHistory();\n            if (this.cancelCallback) {\n                this.cancelCallback();\n            }\n        });\n    }\n\n    hide() {\n        this.getPopup().hide();\n        this.addHistory();\n    }\n\n    /**\n     * @returns {Popup}\n     */\n    getPopup() {\n        return window.$components.firstOnElement(this.popup, 'popup');\n    }\n\n    async updateEditorMode(language) {\n        this.editor.setMode(language, this.editor.getContent());\n    }\n\n    languageInputChange(language) {\n        this.updateEditorMode(language);\n        const inputLang = language.toLowerCase();\n\n        for (const link of this.languageButtons) {\n            const lang = link.dataset.lang.toLowerCase().trim();\n            const isMatch = inputLang === lang;\n            link.classList.toggle('active', isMatch);\n            if (isMatch) {\n                link.scrollIntoView({block: 'center', behavior: 'smooth'});\n            }\n        }\n    }\n\n    loadHistory() {\n        this.history = JSON.parse(window.sessionStorage.getItem(this.historyKey) || '{}');\n        const historyKeys = Object.keys(this.history).reverse();\n        this.historyDropDown.classList.toggle('hidden', historyKeys.length === 0);\n        this.historyList.innerHTML = historyKeys.map(key => {\n            const localTime = (new Date(parseInt(key, 10))).toLocaleTimeString();\n            return `<li><button type=\"button\" data-time=\"${key}\" class=\"text-item\">${localTime}</button></li>`;\n        }).join('');\n    }\n\n    addHistory() {\n        if (!this.editor) return;\n        const code = this.editor.getContent();\n        if (!code) return;\n\n        // Stop if we'd be storing the same as the last item\n        const lastHistoryKey = Object.keys(this.history).pop();\n        if (this.history[lastHistoryKey] === code) return;\n\n        this.history[String(Date.now())] = code;\n        const historyString = JSON.stringify(this.history);\n        window.sessionStorage.setItem(this.historyKey, historyString);\n    }\n\n}\n", "import {Component} from './component';\n\nexport class CodeHighlighter extends Component {\n\n    setup() {\n        const container = this.$el;\n\n        const codeBlocks = container.querySelectorAll('pre');\n        if (codeBlocks.length > 0) {\n            window.importVersioned('code').then(Code => {\n                Code.highlightWithin(container);\n            });\n        }\n    }\n\n}\n", "/**\n * A simple component to render a code editor within the textarea\n * this exists upon.\n */\nimport {Component} from './component';\n\nexport class CodeTextarea extends Component {\n\n    async setup() {\n        const {mode} = this.$opts;\n        const Code = await window.importVersioned('code');\n        Code.inlineEditor(this.$el, mode);\n    }\n\n}\n", "import {slideDown, slideUp} from '../services/animations';\nimport {Component} from './component';\n\n/**\n * Collapsible\n * Provides some simple logic to allow collapsible sections.\n */\nexport class Collapsible extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.trigger = this.$refs.trigger;\n        this.content = this.$refs.content;\n\n        if (this.trigger) {\n            this.trigger.addEventListener('click', this.toggle.bind(this));\n            this.openIfContainsError();\n        }\n    }\n\n    open() {\n        this.container.classList.add('open');\n        this.trigger.setAttribute('aria-expanded', 'true');\n        slideDown(this.content, 300);\n    }\n\n    close() {\n        this.container.classList.remove('open');\n        this.trigger.setAttribute('aria-expanded', 'false');\n        slideUp(this.content, 300);\n    }\n\n    toggle() {\n        if (this.container.classList.contains('open')) {\n            this.close();\n        } else {\n            this.open();\n        }\n    }\n\n    openIfContainsError() {\n        const error = this.content.querySelector('.text-neg.text-small');\n        if (error) {\n            this.open();\n        }\n    }\n\n}\n", "import {onSelect} from '../services/dom';\nimport {Component} from './component';\n\n/**\n * Custom equivalent of window.confirm() using our popup component.\n * Is promise based so can be used like so:\n * `const result = await dialog.show()`\n */\nexport class ConfirmDialog extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.confirmButton = this.$refs.confirm;\n\n        this.res = null;\n\n        onSelect(this.confirmButton, () => {\n            this.sendResult(true);\n            this.getPopup().hide();\n        });\n    }\n\n    show() {\n        this.getPopup().show(null, () => {\n            this.sendResult(false);\n        });\n\n        return new Promise(res => {\n            this.res = res;\n        });\n    }\n\n    /**\n     * @returns {Popup}\n     */\n    getPopup() {\n        return window.$components.firstOnElement(this.container, 'popup');\n    }\n\n    /**\n     * @param {Boolean} result\n     */\n    sendResult(result) {\n        if (this.res) {\n            this.res(result);\n            this.res = null;\n        }\n    }\n\n}\n", "import {Component} from './component';\n\nexport class CustomCheckbox extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.checkbox = this.container.querySelector('input[type=checkbox]');\n        this.display = this.container.querySelector('[role=\"checkbox\"]');\n\n        this.checkbox.addEventListener('change', this.stateChange.bind(this));\n        this.container.addEventListener('keydown', this.onKeyDown.bind(this));\n    }\n\n    onKeyDown(event) {\n        const isEnterOrSpace = event.key === ' ' || event.key === 'Enter';\n        if (isEnterOrSpace) {\n            event.preventDefault();\n            this.toggle();\n        }\n    }\n\n    toggle() {\n        this.checkbox.checked = !this.checkbox.checked;\n        this.checkbox.dispatchEvent(new Event('change'));\n        this.stateChange();\n    }\n\n    stateChange() {\n        const checked = this.checkbox.checked ? 'true' : 'false';\n        this.display.setAttribute('aria-checked', checked);\n    }\n\n}\n", "import {Component} from './component';\n\nexport class DetailsHighlighter extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.dealtWith = false;\n\n        this.container.addEventListener('toggle', this.onToggle.bind(this));\n    }\n\n    onToggle() {\n        if (this.dealtWith) return;\n\n        if (this.container.querySelector('pre')) {\n            window.importVersioned('code').then(Code => {\n                Code.highlightWithin(this.container);\n            });\n        }\n        this.dealtWith = true;\n    }\n\n}\n", "import {onSelect} from '../services/dom';\nimport {KeyboardNavigationHandler} from '../services/keyboard-navigation';\nimport {Component} from './component';\n\n/**\n * Dropdown\n * Provides some simple logic to create simple dropdown menus.\n */\nexport class Dropdown extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.menu = this.$refs.menu;\n        this.toggle = this.$refs.toggle;\n        this.moveMenu = this.$opts.moveMenu;\n        this.bubbleEscapes = this.$opts.bubbleEscapes === 'true';\n\n        this.direction = (document.dir === 'rtl') ? 'right' : 'left';\n        this.body = document.body;\n        this.showing = false;\n\n        this.hide = this.hide.bind(this);\n        this.setupListeners();\n    }\n\n    show(event = null) {\n        this.hideAll();\n\n        this.menu.style.display = 'block';\n        this.menu.classList.add('anim', 'menuIn');\n        this.toggle.setAttribute('aria-expanded', 'true');\n\n        const menuOriginalRect = this.menu.getBoundingClientRect();\n        let heightOffset = 0;\n        const toggleHeight = this.toggle.getBoundingClientRect().height;\n        const dropUpwards = menuOriginalRect.bottom > window.innerHeight;\n        const containerRect = this.container.getBoundingClientRect();\n\n        // If enabled, Move to body to prevent being trapped within scrollable sections\n        if (this.moveMenu) {\n            this.body.appendChild(this.menu);\n            this.menu.style.position = 'fixed';\n            this.menu.style.width = `${menuOriginalRect.width}px`;\n            this.menu.style.left = `${menuOriginalRect.left}px`;\n            if (dropUpwards) {\n                heightOffset = (window.innerHeight - menuOriginalRect.top - toggleHeight / 2);\n            } else {\n                heightOffset = menuOriginalRect.top;\n            }\n        }\n\n        // Adjust menu to display upwards if near the bottom of the screen\n        if (dropUpwards) {\n            this.menu.style.top = 'initial';\n            this.menu.style.bottom = `${heightOffset}px`;\n            const maxHeight = (window.innerHeight - 40) - (window.innerHeight - containerRect.bottom);\n            this.menu.style.maxHeight = `${Math.floor(maxHeight)}px`;\n        } else {\n            this.menu.style.top = `${heightOffset}px`;\n            this.menu.style.bottom = 'initial';\n            const maxHeight = (window.innerHeight - 40) - containerRect.top;\n            this.menu.style.maxHeight = `${Math.floor(maxHeight)}px`;\n        }\n\n        // Set listener to hide on mouse leave or window click\n        this.menu.addEventListener('mouseleave', this.hide);\n        window.addEventListener('click', clickEvent => {\n            if (!this.menu.contains(clickEvent.target)) {\n                this.hide();\n            }\n        });\n\n        // Focus on first input if existing\n        const input = this.menu.querySelector('input');\n        if (input !== null) input.focus();\n\n        this.showing = true;\n\n        const showEvent = new Event('show');\n        this.container.dispatchEvent(showEvent);\n\n        if (event) {\n            event.stopPropagation();\n        }\n    }\n\n    hideAll() {\n        for (const dropdown of window.$components.get('dropdown')) {\n            dropdown.hide();\n        }\n    }\n\n    hide() {\n        this.menu.style.display = 'none';\n        this.menu.classList.remove('anim', 'menuIn');\n        this.toggle.setAttribute('aria-expanded', 'false');\n        this.menu.style.top = '';\n        this.menu.style.bottom = '';\n        this.menu.style.maxHeight = '';\n\n        if (this.moveMenu) {\n            this.menu.style.position = '';\n            this.menu.style[this.direction] = '';\n            this.menu.style.width = '';\n            this.menu.style.left = '';\n            this.container.appendChild(this.menu);\n        }\n\n        this.showing = false;\n    }\n\n    setupListeners() {\n        const keyboardNavHandler = new KeyboardNavigationHandler(this.container, event => {\n            this.hide();\n            this.toggle.focus();\n            if (!this.bubbleEscapes) {\n                event.stopPropagation();\n            }\n        }, event => {\n            if (event.target.nodeName === 'INPUT') {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            this.hide();\n        });\n\n        if (this.moveMenu) {\n            keyboardNavHandler.shareHandlingToEl(this.menu);\n        }\n\n        // Hide menu on option click\n        this.container.addEventListener('click', event => {\n            const possibleChildren = Array.from(this.menu.querySelectorAll('a'));\n            if (possibleChildren.includes(event.target)) {\n                this.hide();\n            }\n        });\n\n        onSelect(this.toggle, event => {\n            event.stopPropagation();\n            event.preventDefault();\n            this.show(event);\n            if (event instanceof KeyboardEvent) {\n                keyboardNavHandler.focusNext();\n            }\n        });\n    }\n\n}\n", "import {debounce} from '../services/util';\nimport {transitionHeight} from '../services/animations';\nimport {Component} from './component';\n\nexport class DropdownSearch extends Component {\n\n    setup() {\n        this.elem = this.$el;\n        this.searchInput = this.$refs.searchInput;\n        this.loadingElem = this.$refs.loading;\n        this.listContainerElem = this.$refs.listContainer;\n\n        this.localSearchSelector = this.$opts.localSearchSelector;\n        this.url = this.$opts.url;\n\n        this.elem.addEventListener('show', this.onShow.bind(this));\n        this.searchInput.addEventListener('input', this.onSearch.bind(this));\n\n        this.runAjaxSearch = debounce(this.runAjaxSearch, 300, false);\n    }\n\n    onShow() {\n        this.loadList();\n    }\n\n    onSearch() {\n        const input = this.searchInput.value.toLowerCase().trim();\n        if (this.localSearchSelector) {\n            this.runLocalSearch(input);\n        } else {\n            this.toggleLoading(true);\n            this.listContainerElem.innerHTML = '';\n            this.runAjaxSearch(input);\n        }\n    }\n\n    runAjaxSearch(searchTerm) {\n        this.loadList(searchTerm);\n    }\n\n    runLocalSearch(searchTerm) {\n        const listItems = this.listContainerElem.querySelectorAll(this.localSearchSelector);\n        for (const listItem of listItems) {\n            const match = !searchTerm || listItem.textContent.toLowerCase().includes(searchTerm);\n            listItem.style.display = match ? 'flex' : 'none';\n            listItem.classList.toggle('hidden', !match);\n        }\n    }\n\n    async loadList(searchTerm = '') {\n        this.listContainerElem.innerHTML = '';\n        this.toggleLoading(true);\n\n        try {\n            const resp = await window.$http.get(this.getAjaxUrl(searchTerm));\n            const animate = transitionHeight(this.listContainerElem, 80);\n            this.listContainerElem.innerHTML = resp.data;\n            animate();\n        } catch (err) {\n            console.error(err);\n        }\n\n        this.toggleLoading(false);\n        if (this.localSearchSelector) {\n            this.onSearch();\n        }\n    }\n\n    getAjaxUrl(searchTerm = null) {\n        if (!searchTerm) {\n            return this.url;\n        }\n\n        const joiner = this.url.includes('?') ? '&' : '?';\n        return `${this.url}${joiner}search=${encodeURIComponent(searchTerm)}`;\n    }\n\n    toggleLoading(show = false) {\n        this.loadingElem.style.display = show ? 'block' : 'none';\n    }\n\n}\n", "export class Clipboard {\n\n    /**\n     * Constructor\n     * @param {DataTransfer} clipboardData\n     */\n    constructor(clipboardData) {\n        this.data = clipboardData;\n    }\n\n    /**\n     * Check if the clipboard has any items.\n     */\n    hasItems() {\n        return Boolean(this.data) && Boolean(this.data.types) && this.data.types.length > 0;\n    }\n\n    /**\n     * Check if the given event has tabular-looking data in the clipboard.\n     * @return {boolean}\n     */\n    containsTabularData() {\n        const rtfData = this.data.getData('text/rtf');\n        return rtfData && rtfData.includes('\\\\trowd');\n    }\n\n    /**\n     * Get the images that are in the clipboard data.\n     * @return {Array<File>}\n     */\n    getImages() {\n        const {types} = this.data;\n        const images = [];\n\n        for (const type of types) {\n            if (type.includes('image')) {\n                const item = this.data.getData(type);\n                images.push(item.getAsFile());\n            }\n        }\n\n        const imageFiles = this.getFiles().filter(f => f.type.includes('image'));\n        images.push(...imageFiles);\n\n        return images;\n    }\n\n    /**\n     * Get the files included in the clipboard data.\n     * @return {File[]}\n     */\n    getFiles() {\n        const {files} = this.data;\n        return [...files];\n    }\n\n}\n\nexport async function copyTextToClipboard(text) {\n    if (window.isSecureContext && navigator.clipboard) {\n        await navigator.clipboard.writeText(text);\n        return;\n    }\n\n    // Backup option where we can't use the navigator.clipboard API\n    const tempInput = document.createElement('textarea');\n    tempInput.style = 'position: absolute; left: -1000px; top: -1000px;';\n    tempInput.value = text;\n    document.body.appendChild(tempInput);\n    tempInput.select();\n    document.execCommand('copy');\n    document.body.removeChild(tempInput);\n}\n", "import {Component} from './component';\nimport {Clipboard} from '../services/clipboard';\nimport {\n    elem, getLoading, onSelect, removeLoading,\n} from '../services/dom';\n\nexport class Dropzone extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.statusArea = this.$refs.statusArea;\n        this.dropTarget = this.$refs.dropTarget;\n        this.selectButtons = this.$manyRefs.selectButton || [];\n\n        this.isActive = true;\n\n        this.url = this.$opts.url;\n        this.method = (this.$opts.method || 'post').toUpperCase();\n        this.successMessage = this.$opts.successMessage;\n        this.errorMessage = this.$opts.errorMessage;\n        this.uploadLimitMb = Number(this.$opts.uploadLimit);\n        this.uploadLimitMessage = this.$opts.uploadLimitMessage;\n        this.zoneText = this.$opts.zoneText;\n        this.fileAcceptTypes = this.$opts.fileAccept;\n        this.allowMultiple = this.$opts.allowMultiple === 'true';\n\n        this.setupListeners();\n    }\n\n    /**\n     * Public method to allow external disabling/enabling of this drag+drop dropzone.\n     * @param {Boolean} active\n     */\n    toggleActive(active) {\n        this.isActive = active;\n    }\n\n    setupListeners() {\n        onSelect(this.selectButtons, this.manualSelectHandler.bind(this));\n        this.setupDropTargetHandlers();\n    }\n\n    setupDropTargetHandlers() {\n        let depth = 0;\n\n        const reset = () => {\n            this.hideOverlay();\n            depth = 0;\n        };\n\n        this.dropTarget.addEventListener('dragenter', event => {\n            event.preventDefault();\n            depth += 1;\n\n            if (depth === 1 && this.isActive) {\n                this.showOverlay();\n            }\n        });\n\n        this.dropTarget.addEventListener('dragover', event => {\n            event.preventDefault();\n        });\n\n        this.dropTarget.addEventListener('dragend', reset);\n        this.dropTarget.addEventListener('dragleave', () => {\n            depth -= 1;\n            if (depth === 0) {\n                reset();\n            }\n        });\n        this.dropTarget.addEventListener('drop', event => {\n            event.preventDefault();\n            reset();\n\n            if (!this.isActive) {\n                return;\n            }\n\n            const clipboard = new Clipboard(event.dataTransfer);\n            const files = clipboard.getFiles();\n            for (const file of files) {\n                this.createUploadFromFile(file);\n            }\n        });\n    }\n\n    manualSelectHandler() {\n        const input = elem('input', {\n            type: 'file',\n            style: 'left: -400px; visibility: hidden; position: fixed;',\n            accept: this.fileAcceptTypes,\n            multiple: this.allowMultiple ? '' : null,\n        });\n        this.container.append(input);\n        input.click();\n        input.addEventListener('change', () => {\n            for (const file of input.files) {\n                this.createUploadFromFile(file);\n            }\n            input.remove();\n        });\n    }\n\n    showOverlay() {\n        const overlay = this.dropTarget.querySelector('.dropzone-overlay');\n        if (!overlay) {\n            const zoneElem = elem('div', {class: 'dropzone-overlay'}, [this.zoneText]);\n            this.dropTarget.append(zoneElem);\n        }\n    }\n\n    hideOverlay() {\n        const overlay = this.dropTarget.querySelector('.dropzone-overlay');\n        if (overlay) {\n            overlay.remove();\n        }\n    }\n\n    /**\n     * @param {File} file\n     * @return {Upload}\n     */\n    createUploadFromFile(file) {\n        const {\n            dom, status, progress, dismiss,\n        } = this.createDomForFile(file);\n        this.statusArea.append(dom);\n        const component = this;\n\n        const upload = {\n            file,\n            dom,\n            updateProgress(percentComplete) {\n                progress.textContent = `${percentComplete}%`;\n                progress.style.width = `${percentComplete}%`;\n            },\n            markError(message) {\n                status.setAttribute('data-status', 'error');\n                status.textContent = message;\n                removeLoading(dom);\n                this.updateProgress(100);\n            },\n            markSuccess(message) {\n                status.setAttribute('data-status', 'success');\n                status.textContent = message;\n                removeLoading(dom);\n                setTimeout(dismiss, 2400);\n                component.$emit('upload-success', {\n                    name: file.name,\n                });\n            },\n        };\n\n        // Enforce early upload filesize limit\n        if (file.size > (this.uploadLimitMb * 1000000)) {\n            upload.markError(this.uploadLimitMessage);\n            return upload;\n        }\n\n        this.startXhrForUpload(upload);\n\n        return upload;\n    }\n\n    /**\n     * @param {Upload} upload\n     */\n    startXhrForUpload(upload) {\n        const formData = new FormData();\n        formData.append('file', upload.file, upload.file.name);\n        if (this.method !== 'POST') {\n            formData.append('_method', this.method);\n        }\n        const component = this;\n\n        const req = window.$http.createXMLHttpRequest('POST', this.url, {\n            error() {\n                upload.markError(component.errorMessage);\n            },\n            readystatechange() {\n                if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {\n                    upload.markSuccess(component.successMessage);\n                } else if (this.readyState === XMLHttpRequest.DONE && this.status >= 400) {\n                    const content = this.responseText;\n                    const data = content.startsWith('{') ? JSON.parse(content) : {message: content};\n                    const message = data?.message || data?.error || content;\n                    upload.markError(message);\n                }\n            },\n        });\n\n        req.upload.addEventListener('progress', evt => {\n            const percent = Math.min(Math.ceil((evt.loaded / evt.total) * 100), 100);\n            upload.updateProgress(percent);\n        });\n\n        req.setRequestHeader('Accept', 'application/json');\n        req.send(formData);\n    }\n\n    /**\n     * @param {File} file\n     * @return {{image: Element, dom: Element, progress: Element, status: Element, dismiss: function}}\n     */\n    createDomForFile(file) {\n        const image = elem('img', {src: \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M9.224 7.373a.924.924 0 0 0-.92.925l-.006 7.404c0 .509.412.925.921.925h5.557a.928.928 0 0 0 .926-.925v-5.553l-2.777-2.776Zm3.239 3.239V8.067l2.545 2.545z' style='fill:%23000;fill-opacity:.75'/%3E%3C/svg%3E\"});\n        const status = elem('div', {class: 'dropzone-file-item-status'}, []);\n        const progress = elem('div', {class: 'dropzone-file-item-progress'});\n        const imageWrap = elem('div', {class: 'dropzone-file-item-image-wrap'}, [image]);\n\n        const dom = elem('div', {class: 'dropzone-file-item'}, [\n            imageWrap,\n            elem('div', {class: 'dropzone-file-item-text-wrap'}, [\n                elem('div', {class: 'dropzone-file-item-label'}, [file.name]),\n                getLoading(),\n                status,\n            ]),\n            progress,\n        ]);\n\n        if (file.type.startsWith('image/')) {\n            image.src = URL.createObjectURL(file);\n        }\n\n        const dismiss = () => {\n            dom.classList.add('dismiss');\n            dom.addEventListener('animationend', () => {\n                dom.remove();\n            });\n        };\n\n        dom.addEventListener('click', dismiss);\n\n        return {\n            dom, progress, status, dismiss,\n        };\n    }\n\n}\n\n/**\n * @typedef Upload\n * @property {File} file\n * @property {Element} dom\n * @property {function(Number)} updateProgress\n * @property {function(String)} markError\n * @property {function(String)} markSuccess\n */\n", "import {Component} from './component';\n\nexport class EditorToolbox extends Component {\n\n    setup() {\n        // Elements\n        this.container = this.$el;\n        this.buttons = this.$manyRefs.tabButton;\n        this.contentElements = this.$manyRefs.tabContent;\n        this.toggleButton = this.$refs.toggle;\n        this.editorWrapEl = this.container.closest('.page-editor');\n\n        this.setupListeners();\n\n        // Set the first tab as active on load\n        this.setActiveTab(this.contentElements[0].dataset.tabContent);\n    }\n\n    setupListeners() {\n        // Toolbox toggle button click\n        this.toggleButton.addEventListener('click', () => this.toggle());\n        // Tab button click\n        this.container.addEventListener('click', event => {\n            const button = event.target.closest('button');\n            if (this.buttons.includes(button)) {\n                const name = button.dataset.tab;\n                this.setActiveTab(name, true);\n            }\n        });\n    }\n\n    toggle() {\n        this.container.classList.toggle('open');\n        const isOpen = this.container.classList.contains('open');\n        this.toggleButton.setAttribute('aria-expanded', isOpen ? 'true' : 'false');\n        this.editorWrapEl.classList.toggle('toolbox-open', isOpen);\n    }\n\n    setActiveTab(tabName, openToolbox = false) {\n        // Set button visibility\n        for (const button of this.buttons) {\n            button.classList.remove('active');\n            const bName = button.dataset.tab;\n            if (bName === tabName) button.classList.add('active');\n        }\n\n        // Set content visibility\n        for (const contentEl of this.contentElements) {\n            contentEl.style.display = 'none';\n            const cName = contentEl.dataset.tabContent;\n            if (cName === tabName) contentEl.style.display = 'block';\n        }\n\n        if (openToolbox && !this.container.classList.contains('open')) {\n            this.toggle();\n        }\n    }\n\n}\n", "import {htmlToDom} from '../services/dom';\nimport {Component} from './component';\n\nexport class EntityPermissions extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.entityType = this.$opts.entityType;\n\n        this.everyoneInheritToggle = this.$refs.everyoneInherit;\n        this.roleSelect = this.$refs.roleSelect;\n        this.roleContainer = this.$refs.roleContainer;\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        // \"Everyone Else\" inherit toggle\n        this.everyoneInheritToggle.addEventListener('change', event => {\n            const inherit = event.target.checked;\n            const permissions = document.querySelectorAll('input[name^=\"permissions[0][\"]');\n            for (const permission of permissions) {\n                permission.disabled = inherit;\n                permission.checked = false;\n            }\n        });\n\n        // Remove role row button click\n        this.container.addEventListener('click', event => {\n            const button = event.target.closest('button');\n            if (button && button.dataset.roleId) {\n                this.removeRowOnButtonClick(button);\n            }\n        });\n\n        // Role select change\n        this.roleSelect.addEventListener('change', () => {\n            const roleId = this.roleSelect.value;\n            if (roleId) {\n                this.addRoleRow(roleId);\n            }\n        });\n    }\n\n    async addRoleRow(roleId) {\n        this.roleSelect.disabled = true;\n\n        // Remove option from select\n        const option = this.roleSelect.querySelector(`option[value=\"${roleId}\"]`);\n        if (option) {\n            option.remove();\n        }\n\n        // Get and insert new row\n        const resp = await window.$http.get(`/permissions/form-row/${this.entityType}/${roleId}`);\n        const row = htmlToDom(resp.data);\n        this.roleContainer.append(row);\n\n        this.roleSelect.disabled = false;\n    }\n\n    removeRowOnButtonClick(button) {\n        const row = button.closest('.item-list-row');\n        const {roleId} = button.dataset;\n        const {roleName} = button.dataset;\n\n        const option = document.createElement('option');\n        option.value = roleId;\n        option.textContent = roleName;\n\n        this.roleSelect.append(option);\n        row.remove();\n    }\n\n}\n", "import {onSelect} from '../services/dom';\nimport {Component} from './component';\n\nexport class EntitySearch extends Component {\n\n    setup() {\n        this.entityId = this.$opts.entityId;\n        this.entityType = this.$opts.entityType;\n\n        this.contentView = this.$refs.contentView;\n        this.searchView = this.$refs.searchView;\n        this.searchResults = this.$refs.searchResults;\n        this.searchInput = this.$refs.searchInput;\n        this.searchForm = this.$refs.searchForm;\n        this.clearButton = this.$refs.clearButton;\n        this.loadingBlock = this.$refs.loadingBlock;\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        this.searchInput.addEventListener('change', this.runSearch.bind(this));\n        this.searchForm.addEventListener('submit', e => {\n            e.preventDefault();\n            this.runSearch();\n        });\n\n        onSelect(this.clearButton, this.clearSearch.bind(this));\n    }\n\n    runSearch() {\n        const term = this.searchInput.value.trim();\n        if (term.length === 0) {\n            this.clearSearch();\n            return;\n        }\n\n        this.searchView.classList.remove('hidden');\n        this.contentView.classList.add('hidden');\n        this.loadingBlock.classList.remove('hidden');\n\n        const url = window.baseUrl(`/search/${this.entityType}/${this.entityId}`);\n        window.$http.get(url, {term}).then(resp => {\n            this.searchResults.innerHTML = resp.data;\n        }).catch(console.error).then(() => {\n            this.loadingBlock.classList.add('hidden');\n        });\n    }\n\n    clearSearch() {\n        this.searchView.classList.add('hidden');\n        this.contentView.classList.remove('hidden');\n        this.loadingBlock.classList.add('hidden');\n        this.searchInput.value = '';\n    }\n\n}\n", "import {onChildEvent} from '../services/dom';\nimport {Component} from './component';\n\n/**\n * Entity Selector\n */\nexport class EntitySelector extends Component {\n\n    setup() {\n        this.elem = this.$el;\n        this.entityTypes = this.$opts.entityTypes || 'page,book,chapter';\n        this.entityPermission = this.$opts.entityPermission || 'view';\n\n        this.input = this.$refs.input;\n        this.searchInput = this.$refs.search;\n        this.loading = this.$refs.loading;\n        this.resultsContainer = this.$refs.results;\n\n        this.search = '';\n        this.lastClick = 0;\n        this.selectedItemData = null;\n\n        this.setupListeners();\n        this.showLoading();\n        this.initialLoad();\n    }\n\n    setupListeners() {\n        this.elem.addEventListener('click', this.onClick.bind(this));\n\n        let lastSearch = 0;\n        this.searchInput.addEventListener('input', () => {\n            lastSearch = Date.now();\n            this.showLoading();\n            setTimeout(() => {\n                if (Date.now() - lastSearch < 199) return;\n                this.searchEntities(this.searchInput.value);\n            }, 200);\n        });\n\n        this.searchInput.addEventListener('keydown', event => {\n            if (event.keyCode === 13) event.preventDefault();\n        });\n\n        // Keyboard navigation\n        onChildEvent(this.$el, '[data-entity-type]', 'keydown', event => {\n            if (event.ctrlKey && event.code === 'Enter') {\n                const form = this.$el.closest('form');\n                if (form) {\n                    form.submit();\n                    event.preventDefault();\n                    return;\n                }\n            }\n\n            if (event.code === 'ArrowDown') {\n                this.focusAdjacent(true);\n            }\n            if (event.code === 'ArrowUp') {\n                this.focusAdjacent(false);\n            }\n        });\n\n        this.searchInput.addEventListener('keydown', event => {\n            if (event.code === 'ArrowDown') {\n                this.focusAdjacent(true);\n            }\n        });\n    }\n\n    focusAdjacent(forward = true) {\n        const items = Array.from(this.resultsContainer.querySelectorAll('[data-entity-type]'));\n        const selectedIndex = items.indexOf(document.activeElement);\n        const newItem = items[selectedIndex + (forward ? 1 : -1)] || items[0];\n        if (newItem) {\n            newItem.focus();\n        }\n    }\n\n    reset() {\n        this.searchInput.value = '';\n        this.showLoading();\n        this.initialLoad();\n    }\n\n    focusSearch() {\n        this.searchInput.focus();\n    }\n\n    searchText(queryText) {\n        this.searchInput.value = queryText;\n        this.searchEntities(queryText);\n    }\n\n    showLoading() {\n        this.loading.style.display = 'block';\n        this.resultsContainer.style.display = 'none';\n    }\n\n    hideLoading() {\n        this.loading.style.display = 'none';\n        this.resultsContainer.style.display = 'block';\n    }\n\n    initialLoad() {\n        window.$http.get(this.searchUrl()).then(resp => {\n            this.resultsContainer.innerHTML = resp.data;\n            this.hideLoading();\n        });\n    }\n\n    searchUrl() {\n        return `/search/entity-selector?types=${encodeURIComponent(this.entityTypes)}&permission=${encodeURIComponent(this.entityPermission)}`;\n    }\n\n    searchEntities(searchTerm) {\n        this.input.value = '';\n        const url = `${this.searchUrl()}&term=${encodeURIComponent(searchTerm)}`;\n        window.$http.get(url).then(resp => {\n            this.resultsContainer.innerHTML = resp.data;\n            this.hideLoading();\n        });\n    }\n\n    isDoubleClick() {\n        const now = Date.now();\n        const answer = now - this.lastClick < 300;\n        this.lastClick = now;\n        return answer;\n    }\n\n    onClick(event) {\n        const listItem = event.target.closest('[data-entity-type]');\n        if (listItem) {\n            event.preventDefault();\n            event.stopPropagation();\n            this.selectItem(listItem);\n        }\n    }\n\n    selectItem(item) {\n        const isDblClick = this.isDoubleClick();\n        const type = item.getAttribute('data-entity-type');\n        const id = item.getAttribute('data-entity-id');\n        const isSelected = (!item.classList.contains('selected') || isDblClick);\n\n        this.unselectAll();\n        this.input.value = isSelected ? `${type}:${id}` : '';\n\n        const link = item.getAttribute('href');\n        const name = item.querySelector('.entity-list-item-name').textContent;\n        const data = {id: Number(id), name, link};\n\n        if (isSelected) {\n            item.classList.add('selected');\n            this.selectedItemData = data;\n        } else {\n            window.$events.emit('entity-select-change', null);\n        }\n\n        if (!isDblClick && !isSelected) return;\n\n        if (isDblClick) {\n            this.confirmSelection(data);\n        }\n        if (isSelected) {\n            window.$events.emit('entity-select-change', data);\n        }\n    }\n\n    confirmSelection(data) {\n        window.$events.emit('entity-select-confirm', data);\n    }\n\n    unselectAll() {\n        const selected = this.elem.querySelectorAll('.selected');\n        for (const selectedElem of selected) {\n            selectedElem.classList.remove('selected', 'primary-background');\n        }\n        this.selectedItemData = null;\n    }\n\n}\n", "import {Component} from './component';\n\nexport class EntitySelectorPopup extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.selectButton = this.$refs.select;\n        this.selectorEl = this.$refs.selector;\n\n        this.callback = null;\n        this.selection = null;\n\n        this.selectButton.addEventListener('click', this.onSelectButtonClick.bind(this));\n        window.$events.listen('entity-select-change', this.onSelectionChange.bind(this));\n        window.$events.listen('entity-select-confirm', this.handleConfirmedSelection.bind(this));\n    }\n\n    show(callback, searchText = '') {\n        this.callback = callback;\n        this.getPopup().show();\n\n        if (searchText) {\n            this.getSelector().searchText(searchText);\n        }\n\n        this.getSelector().focusSearch();\n    }\n\n    hide() {\n        this.getPopup().hide();\n    }\n\n    /**\n     * @returns {Popup}\n     */\n    getPopup() {\n        return window.$components.firstOnElement(this.container, 'popup');\n    }\n\n    /**\n     * @returns {EntitySelector}\n     */\n    getSelector() {\n        return window.$components.firstOnElement(this.selectorEl, 'entity-selector');\n    }\n\n    onSelectButtonClick() {\n        this.handleConfirmedSelection(this.selection);\n    }\n\n    onSelectionChange(entity) {\n        this.selection = entity;\n        if (entity === null) {\n            this.selectButton.setAttribute('disabled', 'true');\n        } else {\n            this.selectButton.removeAttribute('disabled');\n        }\n    }\n\n    handleConfirmedSelection(entity) {\n        this.hide();\n        this.getSelector().reset();\n        if (this.callback && entity) this.callback(entity);\n    }\n\n}\n", "import {onSelect} from '../services/dom';\nimport {Component} from './component';\n\n/**\n * EventEmitSelect\n * Component will simply emit an event when selected.\n *\n * Has one required option: \"name\".\n * A name of \"hello\" will emit a component DOM event of\n * \"event-emit-select-name\"\n *\n * All options will be set as the \"detail\" of the event with\n * their values included.\n */\nexport class EventEmitSelect extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.name = this.$opts.name;\n\n        onSelect(this.$el, () => {\n            this.$emit(this.name, this.$opts);\n        });\n    }\n\n}\n", "import {slideUp, slideDown} from '../services/animations';\nimport {Component} from './component';\n\nexport class ExpandToggle extends Component {\n\n    setup() {\n        this.targetSelector = this.$opts.targetSelector;\n        this.isOpen = this.$opts.isOpen === 'true';\n        this.updateEndpoint = this.$opts.updateEndpoint;\n\n        // Listener setup\n        this.$el.addEventListener('click', this.click.bind(this));\n    }\n\n    open(elemToToggle) {\n        slideDown(elemToToggle, 200);\n    }\n\n    close(elemToToggle) {\n        slideUp(elemToToggle, 200);\n    }\n\n    click(event) {\n        event.preventDefault();\n\n        const matchingElems = document.querySelectorAll(this.targetSelector);\n        for (const match of matchingElems) {\n            const action = this.isOpen ? this.close : this.open;\n            action(match);\n        }\n\n        this.isOpen = !this.isOpen;\n        this.updateSystemAjax(this.isOpen);\n    }\n\n    updateSystemAjax(isOpen) {\n        window.$http.patch(this.updateEndpoint, {\n            expand: isOpen ? 'true' : 'false',\n        });\n    }\n\n}\n", "import {htmlToDom} from '../services/dom';\nimport {debounce} from '../services/util';\nimport {KeyboardNavigationHandler} from '../services/keyboard-navigation';\nimport {Component} from './component';\n\n/**\n * Global (header) search box handling.\n * Mainly to show live results preview.\n */\nexport class GlobalSearch extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.input = this.$refs.input;\n        this.suggestions = this.$refs.suggestions;\n        this.suggestionResultsWrap = this.$refs.suggestionResults;\n        this.loadingWrap = this.$refs.loading;\n        this.button = this.$refs.button;\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        const updateSuggestionsDebounced = debounce(this.updateSuggestions.bind(this), 200, false);\n\n        // Handle search input changes\n        this.input.addEventListener('input', () => {\n            const {value} = this.input;\n            if (value.length > 0) {\n                this.loadingWrap.style.display = 'block';\n                this.suggestionResultsWrap.style.opacity = '0.5';\n                updateSuggestionsDebounced(value);\n            } else {\n                this.hideSuggestions();\n            }\n        });\n\n        // Allow double click to show auto-click suggestions\n        this.input.addEventListener('dblclick', () => {\n            this.input.setAttribute('autocomplete', 'on');\n            this.button.focus();\n            this.input.focus();\n        });\n\n        new KeyboardNavigationHandler(this.container, () => {\n            this.hideSuggestions();\n        });\n    }\n\n    /**\n     * @param {String} search\n     */\n    async updateSuggestions(search) {\n        const {data: results} = await window.$http.get('/search/suggest', {term: search});\n        if (!this.input.value) {\n            return;\n        }\n\n        const resultDom = htmlToDom(results);\n\n        this.suggestionResultsWrap.innerHTML = '';\n        this.suggestionResultsWrap.style.opacity = '1';\n        this.loadingWrap.style.display = 'none';\n        this.suggestionResultsWrap.append(resultDom);\n        if (!this.container.classList.contains('search-active')) {\n            this.showSuggestions();\n        }\n    }\n\n    showSuggestions() {\n        this.container.classList.add('search-active');\n        window.requestAnimationFrame(() => {\n            this.suggestions.classList.add('search-suggestions-animation');\n        });\n    }\n\n    hideSuggestions() {\n        this.container.classList.remove('search-active');\n        this.suggestions.classList.remove('search-suggestions-animation');\n        this.suggestionResultsWrap.innerHTML = '';\n    }\n\n}\n", "import {Component} from './component';\n\nexport class HeaderMobileToggle extends Component {\n\n    setup() {\n        this.elem = this.$el;\n        this.toggleButton = this.$refs.toggle;\n        this.menu = this.$refs.menu;\n\n        this.open = false;\n        this.toggleButton.addEventListener('click', this.onToggle.bind(this));\n        this.onWindowClick = this.onWindowClick.bind(this);\n        this.onKeyDown = this.onKeyDown.bind(this);\n    }\n\n    onToggle(event) {\n        this.open = !this.open;\n        this.menu.classList.toggle('show', this.open);\n        this.toggleButton.setAttribute('aria-expanded', this.open ? 'true' : 'false');\n        if (this.open) {\n            this.elem.addEventListener('keydown', this.onKeyDown);\n            window.addEventListener('click', this.onWindowClick);\n        } else {\n            this.elem.removeEventListener('keydown', this.onKeyDown);\n            window.removeEventListener('click', this.onWindowClick);\n        }\n        event.stopPropagation();\n    }\n\n    onKeyDown(event) {\n        if (event.code === 'Escape') {\n            this.onToggle(event);\n        }\n    }\n\n    onWindowClick(event) {\n        this.onToggle(event);\n    }\n\n}\n", "import {\n    onChildEvent, onSelect, removeLoading, showLoading,\n} from '../services/dom';\nimport {Component} from './component';\n\nexport class ImageManager extends Component {\n\n    setup() {\n        // Options\n        this.uploadedTo = this.$opts.uploadedTo;\n\n        // Element References\n        this.container = this.$el;\n        this.popupEl = this.$refs.popup;\n        this.searchForm = this.$refs.searchForm;\n        this.searchInput = this.$refs.searchInput;\n        this.cancelSearch = this.$refs.cancelSearch;\n        this.listContainer = this.$refs.listContainer;\n        this.filterTabs = this.$manyRefs.filterTabs;\n        this.selectButton = this.$refs.selectButton;\n        this.uploadButton = this.$refs.uploadButton;\n        this.uploadHint = this.$refs.uploadHint;\n        this.formContainer = this.$refs.formContainer;\n        this.formContainerPlaceholder = this.$refs.formContainerPlaceholder;\n        this.dropzoneContainer = this.$refs.dropzoneContainer;\n        this.loadMore = this.$refs.loadMore;\n\n        // Instance data\n        this.type = 'gallery';\n        this.lastSelected = {};\n        this.lastSelectedTime = 0;\n        this.callback = null;\n        this.resetState = () => {\n            this.hasData = false;\n            this.page = 1;\n            this.filter = 'all';\n        };\n        this.resetState();\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        // Filter tab click\n        onSelect(this.filterTabs, e => {\n            this.resetAll();\n            this.filter = e.target.dataset.filter;\n            this.setActiveFilterTab(this.filter);\n            this.loadGallery();\n        });\n\n        // Search submit\n        this.searchForm.addEventListener('submit', event => {\n            this.resetListView();\n            this.loadGallery();\n            this.cancelSearch.toggleAttribute('hidden', !this.searchInput.value);\n            event.preventDefault();\n        });\n\n        // Cancel search button\n        onSelect(this.cancelSearch, () => {\n            this.resetListView();\n            this.resetSearchView();\n            this.loadGallery();\n        });\n\n        // Load more button click\n        onChildEvent(this.container, '.load-more button', 'click', this.runLoadMore.bind(this));\n\n        // Select image event\n        this.listContainer.addEventListener('event-emit-select-image', this.onImageSelectEvent.bind(this));\n\n        // Image load error handling\n        this.listContainer.addEventListener('error', event => {\n            event.target.src = window.baseUrl('loading_error.png');\n        }, true);\n\n        // Footer select button click\n        onSelect(this.selectButton, () => {\n            if (this.callback) {\n                this.callback(this.lastSelected);\n            }\n            this.hide();\n        });\n\n        // Delete button click\n        onChildEvent(this.formContainer, '#image-manager-delete', 'click', () => {\n            if (this.lastSelected) {\n                this.loadImageEditForm(this.lastSelected.id, true);\n            }\n        });\n\n        // Rebuild thumbs click\n        onChildEvent(this.formContainer, '#image-manager-rebuild-thumbs', 'click', async (_, button) => {\n            button.disabled = true;\n            if (this.lastSelected) {\n                await this.rebuildThumbnails(this.lastSelected.id);\n            }\n            button.disabled = false;\n        });\n\n        // Edit form submit\n        this.formContainer.addEventListener('ajax-form-success', () => {\n            this.refreshGallery();\n            this.resetEditForm();\n        });\n\n        // Image upload success\n        this.container.addEventListener('dropzone-upload-success', this.refreshGallery.bind(this));\n\n        // Auto load-more on scroll\n        const scrollZone = this.listContainer.parentElement;\n        let scrollEvents = [];\n        scrollZone.addEventListener('wheel', event => {\n            const scrollOffset = Math.ceil(scrollZone.scrollHeight - scrollZone.scrollTop);\n            const bottomedOut = scrollOffset === scrollZone.clientHeight;\n            if (!bottomedOut || event.deltaY < 1) {\n                return;\n            }\n\n            const secondAgo = Date.now() - 1000;\n            scrollEvents.push(Date.now());\n            scrollEvents = scrollEvents.filter(d => d >= secondAgo);\n            if (scrollEvents.length > 5 && this.canLoadMore()) {\n                this.runLoadMore();\n            }\n        });\n    }\n\n    show(callback, type = 'gallery') {\n        this.resetAll();\n\n        this.callback = callback;\n        this.type = type;\n        this.getPopup().show();\n\n        const hideUploads = type !== 'gallery';\n        this.dropzoneContainer.classList.toggle('hidden', hideUploads);\n        this.uploadButton.classList.toggle('hidden', hideUploads);\n        this.uploadHint.classList.toggle('hidden', hideUploads);\n\n        /** @var {Dropzone} * */\n        const dropzone = window.$components.firstOnElement(this.container, 'dropzone');\n        dropzone.toggleActive(!hideUploads);\n\n        if (!this.hasData) {\n            this.loadGallery();\n            this.hasData = true;\n        }\n    }\n\n    hide() {\n        this.getPopup().hide();\n    }\n\n    /**\n     * @returns {Popup}\n     */\n    getPopup() {\n        return window.$components.firstOnElement(this.popupEl, 'popup');\n    }\n\n    async loadGallery() {\n        const params = {\n            page: this.page,\n            search: this.searchInput.value || null,\n            uploaded_to: this.uploadedTo,\n            filter_type: this.filter === 'all' ? null : this.filter,\n        };\n\n        const {data: html} = await window.$http.get(`images/${this.type}`, params);\n        if (params.page === 1) {\n            this.listContainer.innerHTML = '';\n        }\n        this.addReturnedHtmlElementsToList(html);\n        removeLoading(this.listContainer);\n    }\n\n    addReturnedHtmlElementsToList(html) {\n        const el = document.createElement('div');\n        el.innerHTML = html;\n\n        const loadMore = el.querySelector('.load-more');\n        if (loadMore) {\n            loadMore.remove();\n            this.loadMore.innerHTML = loadMore.innerHTML;\n        }\n        this.loadMore.toggleAttribute('hidden', !loadMore);\n\n        window.$components.init(el);\n        for (const child of [...el.children]) {\n            this.listContainer.appendChild(child);\n        }\n    }\n\n    setActiveFilterTab(filterName) {\n        for (const tab of this.filterTabs) {\n            const selected = tab.dataset.filter === filterName;\n            tab.setAttribute('aria-selected', selected ? 'true' : 'false');\n        }\n    }\n\n    resetAll() {\n        this.resetState();\n        this.resetListView();\n        this.resetSearchView();\n        this.resetEditForm();\n        this.setActiveFilterTab('all');\n        this.selectButton.classList.add('hidden');\n    }\n\n    resetSearchView() {\n        this.searchInput.value = '';\n        this.cancelSearch.toggleAttribute('hidden', true);\n    }\n\n    resetEditForm() {\n        this.formContainer.innerHTML = '';\n        this.formContainerPlaceholder.removeAttribute('hidden');\n    }\n\n    resetListView() {\n        showLoading(this.listContainer);\n        this.page = 1;\n    }\n\n    refreshGallery() {\n        this.resetListView();\n        this.loadGallery();\n    }\n\n    async onImageSelectEvent(event) {\n        let image = JSON.parse(event.detail.data);\n        const isDblClick = ((image && image.id === this.lastSelected.id)\n            && Date.now() - this.lastSelectedTime < 400);\n        const alreadySelected = event.target.classList.contains('selected');\n        [...this.listContainer.querySelectorAll('.selected')].forEach(el => {\n            el.classList.remove('selected');\n        });\n\n        if (!alreadySelected && !isDblClick) {\n            event.target.classList.add('selected');\n            image = await this.loadImageEditForm(image.id);\n        } else if (!isDblClick) {\n            this.resetEditForm();\n        } else if (isDblClick) {\n            image = this.lastSelected;\n        }\n\n        this.selectButton.classList.toggle('hidden', alreadySelected);\n\n        if (isDblClick && this.callback) {\n            this.callback(image);\n            this.hide();\n        }\n\n        this.lastSelected = image;\n        this.lastSelectedTime = Date.now();\n    }\n\n    async loadImageEditForm(imageId, requestDelete = false) {\n        if (!requestDelete) {\n            this.formContainer.innerHTML = '';\n        }\n\n        const params = requestDelete ? {delete: true} : {};\n        const {data: formHtml} = await window.$http.get(`/images/edit/${imageId}`, params);\n        this.formContainer.innerHTML = formHtml;\n        this.formContainerPlaceholder.setAttribute('hidden', '');\n        window.$components.init(this.formContainer);\n\n        const imageDataEl = this.formContainer.querySelector('#image-manager-form-image-data');\n        return JSON.parse(imageDataEl.text);\n    }\n\n    runLoadMore() {\n        showLoading(this.loadMore);\n        this.page += 1;\n        this.loadGallery();\n    }\n\n    canLoadMore() {\n        return this.loadMore.querySelector('button') && !this.loadMore.hasAttribute('hidden');\n    }\n\n    async rebuildThumbnails(imageId) {\n        try {\n            const response = await window.$http.put(`/images/${imageId}/rebuild-thumbnails`);\n            window.$events.success(response.data);\n            this.refreshGallery();\n        } catch (err) {\n            window.$events.showResponseError(err);\n        }\n    }\n\n}\n", "import {Component} from './component';\n\nexport class ImagePicker extends Component {\n\n    setup() {\n        this.imageElem = this.$refs.image;\n        this.imageInput = this.$refs.imageInput;\n        this.resetInput = this.$refs.resetInput;\n        this.removeInput = this.$refs.removeInput;\n        this.resetButton = this.$refs.resetButton;\n        this.removeButton = this.$refs.removeButton || null;\n\n        this.defaultImage = this.$opts.defaultImage;\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        this.resetButton.addEventListener('click', this.reset.bind(this));\n\n        if (this.removeButton) {\n            this.removeButton.addEventListener('click', this.removeImage.bind(this));\n        }\n\n        this.imageInput.addEventListener('change', this.fileInputChange.bind(this));\n    }\n\n    fileInputChange() {\n        this.resetInput.setAttribute('disabled', 'disabled');\n        if (this.removeInput) {\n            this.removeInput.setAttribute('disabled', 'disabled');\n        }\n\n        for (const file of this.imageInput.files) {\n            this.imageElem.src = window.URL.createObjectURL(file);\n        }\n        this.imageElem.classList.remove('none');\n    }\n\n    reset() {\n        this.imageInput.value = '';\n        this.imageElem.src = this.defaultImage;\n        this.resetInput.removeAttribute('disabled');\n        if (this.removeInput) {\n            this.removeInput.setAttribute('disabled', 'disabled');\n        }\n        this.imageElem.classList.remove('none');\n    }\n\n    removeImage() {\n        this.imageInput.value = '';\n        this.imageElem.classList.add('none');\n        this.removeInput.removeAttribute('disabled');\n        this.resetInput.setAttribute('disabled', 'disabled');\n    }\n\n}\n", "/**\n * ListSortControl\n * Manages the logic for the control which provides list sorting options.\n */\nimport {Component} from './component';\n\nexport class ListSortControl extends Component {\n\n    setup() {\n        this.elem = this.$el;\n        this.menu = this.$refs.menu;\n\n        this.sortInput = this.$refs.sort;\n        this.orderInput = this.$refs.order;\n        this.form = this.$refs.form;\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        this.menu.addEventListener('click', event => {\n            if (event.target.closest('[data-sort-value]') !== null) {\n                this.sortOptionClick(event);\n            }\n        });\n\n        this.elem.addEventListener('click', event => {\n            if (event.target.closest('[data-sort-dir]') !== null) {\n                this.sortDirectionClick(event);\n            }\n        });\n    }\n\n    sortOptionClick(event) {\n        const sortOption = event.target.closest('[data-sort-value]');\n        this.sortInput.value = sortOption.getAttribute('data-sort-value');\n        event.preventDefault();\n        this.form.submit();\n    }\n\n    sortDirectionClick(event) {\n        const currentDir = this.orderInput.value;\n        this.orderInput.value = (currentDir === 'asc') ? 'desc' : 'asc';\n        event.preventDefault();\n        this.form.submit();\n    }\n\n}\n", "import MarkdownIt from 'markdown-it';\nimport mdTasksLists from 'markdown-it-task-lists';\n\nexport class Markdown {\n\n    constructor() {\n        this.renderer = new MarkdownIt({html: true});\n        this.renderer.use(mdTasksLists, {label: true});\n    }\n\n    /**\n     * Get the front-end render used to convert markdown to HTML.\n     * @returns {MarkdownIt}\n     */\n    getRenderer() {\n        return this.renderer;\n    }\n\n    /**\n     * Convert the given Markdown to HTML.\n     * @param {String} markdown\n     * @returns {String}\n     */\n    render(markdown) {\n        return this.renderer.render(markdown);\n    }\n\n}\n", "export interface SnabbdomFragment extends DocumentFragment {\n  parent: Node | null;\n  firstChildNode: ChildNode | null;\n  lastChildNode: ChildNode | null;\n}\n\nexport interface DOMAPI {\n  createElement: (\n    tagName: any,\n    options?: ElementCreationOptions\n  ) => HTMLElement;\n  createElementNS: (\n    namespaceURI: string,\n    qualifiedName: string,\n    options?: ElementCreationOptions\n  ) => Element;\n  /**\n   * @experimental\n   * @todo Make it required when the fragment is considered stable.\n   */\n  createDocumentFragment?: () => SnabbdomFragment;\n  createTextNode: (text: string) => Text;\n  createComment: (text: string) => Comment;\n  insertBefore: (\n    parentNode: Node,\n    newNode: Node,\n    referenceNode: Node | null\n  ) => void;\n  removeChild: (node: Node, child: Node) => void;\n  appendChild: (node: Node, child: Node) => void;\n  parentNode: (node: Node) => Node | null;\n  nextSibling: (node: Node) => Node | null;\n  tagName: (elm: Element) => string;\n  setTextContent: (node: Node, text: string | null) => void;\n  getTextContent: (node: Node) => string | null;\n  isElement: (node: Node) => node is Element;\n  isText: (node: Node) => node is Text;\n  isComment: (node: Node) => node is Comment;\n  /**\n   * @experimental\n   * @todo Make it required when the fragment is considered stable.\n   */\n  isDocumentFragment?: (node: Node) => node is DocumentFragment;\n}\n\nfunction createElement(\n  tagName: any,\n  options?: ElementCreationOptions\n): HTMLElement {\n  return document.createElement(tagName, options);\n}\n\nfunction createElementNS(\n  namespaceURI: string,\n  qualifiedName: string,\n  options?: ElementCreationOptions\n): Element {\n  return document.createElementNS(namespaceURI, qualifiedName, options);\n}\n\nfunction createDocumentFragment(): SnabbdomFragment {\n  return parseFragment(document.createDocumentFragment());\n}\n\nfunction createTextNode(text: string): Text {\n  return document.createTextNode(text);\n}\n\nfunction createComment(text: string): Comment {\n  return document.createComment(text);\n}\n\nfunction insertBefore(\n  parentNode: Node,\n  newNode: Node,\n  referenceNode: Node | null\n): void {\n  if (isDocumentFragment(parentNode)) {\n    let node: Node | null = parentNode;\n    while (node && isDocumentFragment(node)) {\n      const fragment = parseFragment(node);\n      node = fragment.parent;\n    }\n    parentNode = node ?? parentNode;\n  }\n  if (isDocumentFragment(newNode)) {\n    newNode = parseFragment(newNode, parentNode);\n  }\n  if (referenceNode && isDocumentFragment(referenceNode)) {\n    referenceNode = parseFragment(referenceNode).firstChildNode;\n  }\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nfunction removeChild(node: Node, child: Node): void {\n  node.removeChild(child);\n}\n\nfunction appendChild(node: Node, child: Node): void {\n  if (isDocumentFragment(child)) {\n    child = parseFragment(child, node);\n  }\n  node.appendChild(child);\n}\n\nfunction parentNode(node: Node): Node | null {\n  if (isDocumentFragment(node)) {\n    while (node && isDocumentFragment(node)) {\n      const fragment = parseFragment(node);\n      node = fragment.parent as Node;\n    }\n    return node ?? null;\n  }\n  return node.parentNode;\n}\n\nfunction nextSibling(node: Node): Node | null {\n  if (isDocumentFragment(node)) {\n    const fragment = parseFragment(node);\n    const parent = parentNode(fragment);\n    if (parent && fragment.lastChildNode) {\n      const children = Array.from(parent.childNodes);\n      const index = children.indexOf(fragment.lastChildNode);\n      return children[index + 1] ?? null;\n    }\n    return null;\n  }\n  return node.nextSibling;\n}\n\nfunction tagName(elm: Element): string {\n  return elm.tagName;\n}\n\nfunction setTextContent(node: Node, text: string | null): void {\n  node.textContent = text;\n}\n\nfunction getTextContent(node: Node): string | null {\n  return node.textContent;\n}\n\nfunction isElement(node: Node): node is Element {\n  return node.nodeType === 1;\n}\n\nfunction isText(node: Node): node is Text {\n  return node.nodeType === 3;\n}\n\nfunction isComment(node: Node): node is Comment {\n  return node.nodeType === 8;\n}\n\nfunction isDocumentFragment(node: Node): node is DocumentFragment {\n  return node.nodeType === 11;\n}\n\nfunction parseFragment(\n  fragmentNode: DocumentFragment,\n  parentNode?: Node | null\n): SnabbdomFragment {\n  const fragment = fragmentNode as SnabbdomFragment;\n  fragment.parent ??= parentNode ?? null;\n  fragment.firstChildNode ??= fragmentNode.firstChild;\n  fragment.lastChildNode ??= fragmentNode.lastChild;\n  return fragment;\n}\n\nexport const htmlDomApi: DOMAPI = {\n  createElement,\n  createElementNS,\n  createTextNode,\n  createDocumentFragment,\n  createComment,\n  insertBefore,\n  removeChild,\n  appendChild,\n  parentNode,\n  nextSibling,\n  tagName,\n  setTextContent,\n  getTextContent,\n  isElement,\n  isText,\n  isComment,\n  isDocumentFragment,\n};\n", "import { Hooks } from \"./hooks\";\nimport { AttachData } from \"./helpers/attachto\";\nimport { VNodeStyle } from \"./modules/style\";\nimport { On } from \"./modules/eventlisteners\";\nimport { Attrs } from \"./modules/attributes\";\nimport { Classes } from \"./modules/class\";\nimport { Props } from \"./modules/props\";\nimport { Dataset } from \"./modules/dataset\";\n\nexport type Key = string | number | symbol;\n\nexport interface VNode {\n  sel: string | undefined;\n  data: VNodeData | undefined;\n  children: Array<VNode | string> | undefined;\n  elm: Node | undefined;\n  text: string | undefined;\n  key: Key | undefined;\n}\n\nexport interface VNodeData {\n  props?: Props;\n  attrs?: Attrs;\n  class?: Classes;\n  style?: VNodeStyle;\n  dataset?: Dataset;\n  on?: On;\n  attachData?: AttachData;\n  hook?: Hooks;\n  key?: Key;\n  ns?: string; // for SVGs\n  fn?: () => VNode; // for thunks\n  args?: any[]; // for thunks\n  is?: string; // for custom elements v1\n  [key: string]: any; // for any other 3rd party module\n}\n\nexport function vnode(\n  sel: string | undefined,\n  data: any | undefined,\n  children: Array<VNode | string> | undefined,\n  text: string | undefined,\n  elm: Element | DocumentFragment | Text | undefined\n): VNode {\n  const key = data === undefined ? undefined : data.key;\n  return { sel, data, children, text, elm, key };\n}\n", "export const array = Array.isArray;\nexport function primitive(s: any): s is string | number {\n  return (\n    typeof s === \"string\" ||\n    typeof s === \"number\" ||\n    s instanceof String ||\n    s instanceof Number\n  );\n}\n", "import { Module } from \"./modules/module\";\nimport { vnode, VNode } from \"./vnode\";\nimport * as is from \"./is\";\nimport { htmlDomApi, DOMAPI } from \"./htmldomapi\";\n\ntype NonUndefined<T> = T extends undefined ? never : T;\n\nfunction isUndef(s: any): boolean {\n  return s === undefined;\n}\nfunction isDef<A>(s: A): s is NonUndefined<A> {\n  return s !== undefined;\n}\n\ntype VNodeQueue = VNode[];\n\nconst emptyNode = vnode(\"\", {}, [], undefined, undefined);\n\nfunction sameVnode(vnode1: VNode, vnode2: VNode): boolean {\n  const isSameKey = vnode1.key === vnode2.key;\n  const isSameIs = vnode1.data?.is === vnode2.data?.is;\n  const isSameSel = vnode1.sel === vnode2.sel;\n  const isSameTextOrFragment =\n    !vnode1.sel && vnode1.sel === vnode2.sel\n      ? typeof vnode1.text === typeof vnode2.text\n      : true;\n\n  return isSameSel && isSameKey && isSameIs && isSameTextOrFragment;\n}\n\n/**\n * @todo Remove this function when the document fragment is considered stable.\n */\nfunction documentFragmentIsNotSupported(): never {\n  throw new Error(\"The document fragment is not supported on this platform.\");\n}\n\nfunction isElement(\n  api: DOMAPI,\n  vnode: Element | DocumentFragment | VNode\n): vnode is Element {\n  return api.isElement(vnode as any);\n}\n\nfunction isDocumentFragment(\n  api: DOMAPI,\n  vnode: DocumentFragment | VNode\n): vnode is DocumentFragment {\n  return api.isDocumentFragment!(vnode as any);\n}\n\ntype KeyToIndexMap = { [key: string]: number };\n\ntype ArraysOf<T> = {\n  [K in keyof T]: Array<T[K]>;\n};\n\ntype ModuleHooks = ArraysOf<Required<Module>>;\n\nfunction createKeyToOldIdx(\n  children: VNode[],\n  beginIdx: number,\n  endIdx: number\n): KeyToIndexMap {\n  const map: KeyToIndexMap = {};\n  for (let i = beginIdx; i <= endIdx; ++i) {\n    const key = children[i]?.key;\n    if (key !== undefined) {\n      map[key as string] = i;\n    }\n  }\n  return map;\n}\n\nconst hooks: Array<keyof Module> = [\n  \"create\",\n  \"update\",\n  \"remove\",\n  \"destroy\",\n  \"pre\",\n  \"post\",\n];\n\n// TODO Should `domApi` be put into this in the next major version bump?\nexport type Options = {\n  experimental?: {\n    fragments?: boolean;\n  };\n};\n\nexport function init(\n  modules: Array<Partial<Module>>,\n  domApi?: DOMAPI,\n  options?: Options\n) {\n  const cbs: ModuleHooks = {\n    create: [],\n    update: [],\n    remove: [],\n    destroy: [],\n    pre: [],\n    post: [],\n  };\n\n  const api: DOMAPI = domApi !== undefined ? domApi : htmlDomApi;\n\n  for (const hook of hooks) {\n    for (const module of modules) {\n      const currentHook = module[hook];\n      if (currentHook !== undefined) {\n        (cbs[hook] as any[]).push(currentHook);\n      }\n    }\n  }\n\n  function emptyNodeAt(elm: Element) {\n    const id = elm.id ? \"#\" + elm.id : \"\";\n\n    // elm.className doesn't return a string when elm is an SVG element inside a shadowRoot.\n    // https://stackoverflow.com/questions/29454340/detecting-classname-of-svganimatedstring\n    const classes = elm.getAttribute(\"class\");\n\n    const c = classes ? \".\" + classes.split(\" \").join(\".\") : \"\";\n    return vnode(\n      api.tagName(elm).toLowerCase() + id + c,\n      {},\n      [],\n      undefined,\n      elm\n    );\n  }\n\n  function emptyDocumentFragmentAt(frag: DocumentFragment) {\n    return vnode(undefined, {}, [], undefined, frag);\n  }\n\n  function createRmCb(childElm: Node, listeners: number) {\n    return function rmCb() {\n      if (--listeners === 0) {\n        const parent = api.parentNode(childElm) as Node;\n        api.removeChild(parent, childElm);\n      }\n    };\n  }\n\n  function createElm(vnode: VNode, insertedVnodeQueue: VNodeQueue): Node {\n    let i: any;\n    let data = vnode.data;\n    if (data !== undefined) {\n      const init = data.hook?.init;\n      if (isDef(init)) {\n        init(vnode);\n        data = vnode.data;\n      }\n    }\n    const children = vnode.children;\n    const sel = vnode.sel;\n    if (sel === \"!\") {\n      if (isUndef(vnode.text)) {\n        vnode.text = \"\";\n      }\n      vnode.elm = api.createComment(vnode.text!);\n    } else if (sel !== undefined) {\n      // Parse selector\n      const hashIdx = sel.indexOf(\"#\");\n      const dotIdx = sel.indexOf(\".\", hashIdx);\n      const hash = hashIdx > 0 ? hashIdx : sel.length;\n      const dot = dotIdx > 0 ? dotIdx : sel.length;\n      const tag =\n        hashIdx !== -1 || dotIdx !== -1\n          ? sel.slice(0, Math.min(hash, dot))\n          : sel;\n      const elm = (vnode.elm =\n        isDef(data) && isDef((i = data.ns))\n          ? api.createElementNS(i, tag, data)\n          : api.createElement(tag, data));\n      if (hash < dot) elm.setAttribute(\"id\", sel.slice(hash + 1, dot));\n      if (dotIdx > 0)\n        elm.setAttribute(\"class\", sel.slice(dot + 1).replace(/\\./g, \" \"));\n      for (i = 0; i < cbs.create.length; ++i) cbs.create[i](emptyNode, vnode);\n      if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n          const ch = children[i];\n          if (ch != null) {\n            api.appendChild(elm, createElm(ch as VNode, insertedVnodeQueue));\n          }\n        }\n      } else if (is.primitive(vnode.text)) {\n        api.appendChild(elm, api.createTextNode(vnode.text));\n      }\n      const hook = vnode.data!.hook;\n      if (isDef(hook)) {\n        hook.create?.(emptyNode, vnode);\n        if (hook.insert) {\n          insertedVnodeQueue.push(vnode);\n        }\n      }\n    } else if (options?.experimental?.fragments && vnode.children) {\n      vnode.elm = (\n        api.createDocumentFragment ?? documentFragmentIsNotSupported\n      )();\n      for (i = 0; i < cbs.create.length; ++i) cbs.create[i](emptyNode, vnode);\n      for (i = 0; i < vnode.children.length; ++i) {\n        const ch = vnode.children[i];\n        if (ch != null) {\n          api.appendChild(\n            vnode.elm,\n            createElm(ch as VNode, insertedVnodeQueue)\n          );\n        }\n      }\n    } else {\n      vnode.elm = api.createTextNode(vnode.text!);\n    }\n    return vnode.elm;\n  }\n\n  function addVnodes(\n    parentElm: Node,\n    before: Node | null,\n    vnodes: VNode[],\n    startIdx: number,\n    endIdx: number,\n    insertedVnodeQueue: VNodeQueue\n  ) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      const ch = vnodes[startIdx];\n      if (ch != null) {\n        api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n      }\n    }\n  }\n\n  function invokeDestroyHook(vnode: VNode) {\n    const data = vnode.data;\n    if (data !== undefined) {\n      data?.hook?.destroy?.(vnode);\n      for (let i = 0; i < cbs.destroy.length; ++i) cbs.destroy[i](vnode);\n      if (vnode.children !== undefined) {\n        for (let j = 0; j < vnode.children.length; ++j) {\n          const child = vnode.children[j];\n          if (child != null && typeof child !== \"string\") {\n            invokeDestroyHook(child);\n          }\n        }\n      }\n    }\n  }\n\n  function removeVnodes(\n    parentElm: Node,\n    vnodes: VNode[],\n    startIdx: number,\n    endIdx: number\n  ): void {\n    for (; startIdx <= endIdx; ++startIdx) {\n      let listeners: number;\n      let rm: () => void;\n      const ch = vnodes[startIdx];\n      if (ch != null) {\n        if (isDef(ch.sel)) {\n          invokeDestroyHook(ch);\n          listeners = cbs.remove.length + 1;\n          rm = createRmCb(ch.elm!, listeners);\n          for (let i = 0; i < cbs.remove.length; ++i) cbs.remove[i](ch, rm);\n          const removeHook = ch?.data?.hook?.remove;\n          if (isDef(removeHook)) {\n            removeHook(ch, rm);\n          } else {\n            rm();\n          }\n        } else if (ch.children) {\n          // Fragment node\n          invokeDestroyHook(ch);\n          removeVnodes(\n            parentElm,\n            ch.children as VNode[],\n            0,\n            ch.children.length - 1\n          );\n        } else {\n          // Text node\n          api.removeChild(parentElm, ch.elm!);\n        }\n      }\n    }\n  }\n\n  function updateChildren(\n    parentElm: Node,\n    oldCh: VNode[],\n    newCh: VNode[],\n    insertedVnodeQueue: VNodeQueue\n  ) {\n    let oldStartIdx = 0;\n    let newStartIdx = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let oldKeyToIdx: KeyToIndexMap | undefined;\n    let idxInOld: number;\n    let elmToMove: VNode;\n    let before: any;\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (oldStartVnode == null) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n      } else if (oldEndVnode == null) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (newStartVnode == null) {\n        newStartVnode = newCh[++newStartIdx];\n      } else if (newEndVnode == null) {\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) {\n        // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n        api.insertBefore(\n          parentElm,\n          oldStartVnode.elm!,\n          api.nextSibling(oldEndVnode.elm!)\n        );\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) {\n        // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldEndVnode.elm!, oldStartVnode.elm!);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (oldKeyToIdx === undefined) {\n          oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n        }\n        idxInOld = oldKeyToIdx[newStartVnode.key as string];\n        if (isUndef(idxInOld)) {\n          // New element\n          api.insertBefore(\n            parentElm,\n            createElm(newStartVnode, insertedVnodeQueue),\n            oldStartVnode.elm!\n          );\n        } else {\n          elmToMove = oldCh[idxInOld];\n          if (elmToMove.sel !== newStartVnode.sel) {\n            api.insertBefore(\n              parentElm,\n              createElm(newStartVnode, insertedVnodeQueue),\n              oldStartVnode.elm!\n            );\n          } else {\n            patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n            oldCh[idxInOld] = undefined as any;\n            api.insertBefore(parentElm, elmToMove.elm!, oldStartVnode.elm!);\n          }\n        }\n        newStartVnode = newCh[++newStartIdx];\n      }\n    }\n\n    if (newStartIdx <= newEndIdx) {\n      before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n      addVnodes(\n        parentElm,\n        before,\n        newCh,\n        newStartIdx,\n        newEndIdx,\n        insertedVnodeQueue\n      );\n    }\n    if (oldStartIdx <= oldEndIdx) {\n      removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n    }\n  }\n\n  function patchVnode(\n    oldVnode: VNode,\n    vnode: VNode,\n    insertedVnodeQueue: VNodeQueue\n  ) {\n    const hook = vnode.data?.hook;\n    hook?.prepatch?.(oldVnode, vnode);\n    const elm = (vnode.elm = oldVnode.elm)!;\n    if (oldVnode === vnode) return;\n    if (\n      vnode.data !== undefined ||\n      (isDef(vnode.text) && vnode.text !== oldVnode.text)\n    ) {\n      vnode.data ??= {};\n      oldVnode.data ??= {};\n      for (let i = 0; i < cbs.update.length; ++i)\n        cbs.update[i](oldVnode, vnode);\n      vnode.data?.hook?.update?.(oldVnode, vnode);\n    }\n    const oldCh = oldVnode.children as VNode[];\n    const ch = vnode.children as VNode[];\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) updateChildren(elm, oldCh, ch, insertedVnodeQueue);\n      } else if (isDef(ch)) {\n        if (isDef(oldVnode.text)) api.setTextContent(elm, \"\");\n        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n      } else if (isDef(oldVnode.text)) {\n        api.setTextContent(elm, \"\");\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n      }\n      api.setTextContent(elm, vnode.text!);\n    }\n    hook?.postpatch?.(oldVnode, vnode);\n  }\n\n  return function patch(\n    oldVnode: VNode | Element | DocumentFragment,\n    vnode: VNode\n  ): VNode {\n    let i: number, elm: Node, parent: Node;\n    const insertedVnodeQueue: VNodeQueue = [];\n    for (i = 0; i < cbs.pre.length; ++i) cbs.pre[i]();\n\n    if (isElement(api, oldVnode)) {\n      oldVnode = emptyNodeAt(oldVnode);\n    } else if (isDocumentFragment(api, oldVnode)) {\n      oldVnode = emptyDocumentFragmentAt(oldVnode);\n    }\n\n    if (sameVnode(oldVnode, vnode)) {\n      patchVnode(oldVnode, vnode, insertedVnodeQueue);\n    } else {\n      elm = oldVnode.elm!;\n      parent = api.parentNode(elm) as Node;\n\n      createElm(vnode, insertedVnodeQueue);\n\n      if (parent !== null) {\n        api.insertBefore(parent, vnode.elm!, api.nextSibling(elm));\n        removeVnodes(parent, [oldVnode], 0, 0);\n      }\n    }\n\n    for (i = 0; i < insertedVnodeQueue.length; ++i) {\n      insertedVnodeQueue[i].data!.hook!.insert!(insertedVnodeQueue[i]);\n    }\n    for (i = 0; i < cbs.post.length; ++i) cbs.post[i]();\n    return vnode;\n  };\n}\n", "import { vnode, VNode, VNodeData } from \"./vnode\";\nimport * as is from \"./is\";\n\nexport type VNodes = VNode[];\nexport type VNodeChildElement =\n  | VNode\n  | string\n  | number\n  | String\n  | Number\n  | undefined\n  | null;\nexport type ArrayOrElement<T> = T | T[];\nexport type VNodeChildren = ArrayOrElement<VNodeChildElement>;\n\nexport function addNS(\n  data: any,\n  children: Array<VNode | string> | undefined,\n  sel: string | undefined\n): void {\n  data.ns = \"http://www.w3.org/2000/svg\";\n  if (sel !== \"foreignObject\" && children !== undefined) {\n    for (let i = 0; i < children.length; ++i) {\n      const child = children[i];\n      if (typeof child === \"string\") continue;\n      const childData = child.data;\n      if (childData !== undefined) {\n        addNS(childData, child.children as VNodes, child.sel);\n      }\n    }\n  }\n}\n\nexport function h(sel: string): VNode;\nexport function h(sel: string, data: VNodeData | null): VNode;\nexport function h(sel: string, children: VNodeChildren): VNode;\nexport function h(\n  sel: string,\n  data: VNodeData | null,\n  children: VNodeChildren\n): VNode;\nexport function h(sel: any, b?: any, c?: any): VNode {\n  let data: VNodeData = {};\n  let children: any;\n  let text: any;\n  let i: number;\n  if (c !== undefined) {\n    if (b !== null) {\n      data = b;\n    }\n    if (is.array(c)) {\n      children = c;\n    } else if (is.primitive(c)) {\n      text = c.toString();\n    } else if (c && c.sel) {\n      children = [c];\n    }\n  } else if (b !== undefined && b !== null) {\n    if (is.array(b)) {\n      children = b;\n    } else if (is.primitive(b)) {\n      text = b.toString();\n    } else if (b && b.sel) {\n      children = [b];\n    } else {\n      data = b;\n    }\n  }\n  if (children !== undefined) {\n    for (i = 0; i < children.length; ++i) {\n      if (is.primitive(children[i]))\n        children[i] = vnode(\n          undefined,\n          undefined,\n          undefined,\n          children[i],\n          undefined\n        );\n    }\n  }\n  if (\n    sel[0] === \"s\" &&\n    sel[1] === \"v\" &&\n    sel[2] === \"g\" &&\n    (sel.length === 3 || sel[3] === \".\" || sel[3] === \"#\")\n  ) {\n    addNS(data, children, sel);\n  }\n  return vnode(sel, data, children, text, undefined);\n}\n\n/**\n * @experimental\n */\nexport function fragment(children: VNodeChildren): VNode {\n  let c: any;\n  let text: any;\n\n  if (is.array(children)) {\n    c = children;\n  } else if (is.primitive(c)) {\n    text = children;\n  } else if (c && c.sel) {\n    c = [children];\n  }\n\n  if (c !== undefined) {\n    for (let i = 0; i < c.length; ++i) {\n      if (is.primitive(c[i]))\n        c[i] = vnode(undefined, undefined, undefined, c[i], undefined);\n    }\n  }\n\n  return vnode(undefined, {}, c, text, undefined);\n}\n", "import { addNS } from \"./h\";\nimport { vnode, VNode } from \"./vnode\";\nimport { htmlDomApi, DOMAPI } from \"./htmldomapi\";\n\nexport function toVNode(node: Node, domApi?: DOMAPI): VNode {\n  const api: DOMAPI = domApi !== undefined ? domApi : htmlDomApi;\n  let text: string;\n  if (api.isElement(node)) {\n    const id = node.id ? \"#\" + node.id : \"\";\n    const cn = node.getAttribute(\"class\");\n    const c = cn ? \".\" + cn.split(\" \").join(\".\") : \"\";\n    const sel = api.tagName(node).toLowerCase() + id + c;\n    const attrs: any = {};\n    const dataset: Record<string, string> = {};\n    const data: Record<string, any> = {};\n\n    const children: VNode[] = [];\n    let name: string;\n    let i: number, n: number;\n    const elmAttrs = node.attributes;\n    const elmChildren = node.childNodes;\n    for (i = 0, n = elmAttrs.length; i < n; i++) {\n      name = elmAttrs[i].nodeName;\n      if (\n        name[0] === \"d\" &&\n        name[1] === \"a\" &&\n        name[2] === \"t\" &&\n        name[3] === \"a\" &&\n        name[4] === \"-\"\n      ) {\n        dataset[name.slice(5)] = elmAttrs[i].nodeValue || \"\";\n      } else if (name !== \"id\" && name !== \"class\") {\n        attrs[name] = elmAttrs[i].nodeValue;\n      }\n    }\n    for (i = 0, n = elmChildren.length; i < n; i++) {\n      children.push(toVNode(elmChildren[i], domApi));\n    }\n\n    if (Object.keys(attrs).length > 0) data.attrs = attrs;\n    if (Object.keys(dataset).length > 0) data.dataset = dataset;\n\n    if (\n      sel[0] === \"s\" &&\n      sel[1] === \"v\" &&\n      sel[2] === \"g\" &&\n      (sel.length === 3 || sel[3] === \".\" || sel[3] === \"#\")\n    ) {\n      addNS(data, children, sel);\n    }\n    return vnode(sel, data, children, undefined, node);\n  } else if (api.isText(node)) {\n    text = api.getTextContent(node) as string;\n    return vnode(undefined, undefined, undefined, text, node);\n  } else if (api.isComment(node)) {\n    text = api.getTextContent(node) as string;\n    return vnode(\"!\", {}, [], text, node as any);\n  } else {\n    return vnode(\"\", {}, [], undefined, node as any);\n  }\n}\n", "import { VNode, VNodeData } from \"../vnode\";\nimport { Module } from \"./module\";\n\nexport type Attrs = Record<string, string | number | boolean>;\n\nconst xlinkNS = \"http://www.w3.org/1999/xlink\";\nconst xmlNS = \"http://www.w3.org/XML/1998/namespace\";\nconst colonChar = 58;\nconst xChar = 120;\n\nfunction updateAttrs(oldVnode: VNode, vnode: VNode): void {\n  let key: string;\n  const elm: Element = vnode.elm as Element;\n  let oldAttrs = (oldVnode.data as VNodeData).attrs;\n  let attrs = (vnode.data as VNodeData).attrs;\n\n  if (!oldAttrs && !attrs) return;\n  if (oldAttrs === attrs) return;\n  oldAttrs = oldAttrs || {};\n  attrs = attrs || {};\n\n  // update modified attributes, add new attributes\n  for (key in attrs) {\n    const cur = attrs[key];\n    const old = oldAttrs[key];\n    if (old !== cur) {\n      if (cur === true) {\n        elm.setAttribute(key, \"\");\n      } else if (cur === false) {\n        elm.removeAttribute(key);\n      } else {\n        if (key.charCodeAt(0) !== xChar) {\n          elm.setAttribute(key, cur as any);\n        } else if (key.charCodeAt(3) === colonChar) {\n          // Assume xml namespace\n          elm.setAttributeNS(xmlNS, key, cur as any);\n        } else if (key.charCodeAt(5) === colonChar) {\n          // Assume xlink namespace\n          elm.setAttributeNS(xlinkNS, key, cur as any);\n        } else {\n          elm.setAttribute(key, cur as any);\n        }\n      }\n    }\n  }\n  // remove removed attributes\n  // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n  // the other option is to remove all attributes with value == undefined\n  for (key in oldAttrs) {\n    if (!(key in attrs)) {\n      elm.removeAttribute(key);\n    }\n  }\n}\n\nexport const attributesModule: Module = {\n  create: updateAttrs,\n  update: updateAttrs,\n};\n", "import {\n    init,\n    attributesModule,\n    toVNode,\n} from 'snabbdom';\n\nlet patcher;\n\n/**\n * @returns {Function}\n */\nfunction getPatcher() {\n    if (patcher) return patcher;\n\n    patcher = init([\n        attributesModule,\n    ]);\n\n    return patcher;\n}\n\n/**\n * @param {Element} domTarget\n * @param {String} html\n */\nexport function patchDomFromHtmlString(domTarget, html) {\n    const contentDom = document.createElement('div');\n    contentDom.innerHTML = html;\n    getPatcher()(toVNode(domTarget), toVNode(contentDom));\n}\n", "import {patchDomFromHtmlString} from '../services/vdom';\n\nexport class Display {\n\n    /**\n     * @param {MarkdownEditor} editor\n     */\n    constructor(editor) {\n        this.editor = editor;\n        this.container = editor.config.displayEl;\n\n        this.doc = null;\n        this.lastDisplayClick = 0;\n\n        if (this.container.contentDocument.readyState === 'complete') {\n            this.onLoad();\n        } else {\n            this.container.addEventListener('load', this.onLoad.bind(this));\n        }\n\n        this.updateVisibility(editor.settings.get('showPreview'));\n        editor.settings.onChange('showPreview', show => this.updateVisibility(show));\n    }\n\n    updateVisibility(show) {\n        const wrap = this.container.closest('.markdown-editor-wrap');\n        wrap.style.display = show ? null : 'none';\n    }\n\n    onLoad() {\n        this.doc = this.container.contentDocument;\n\n        this.loadStylesIntoDisplay();\n        this.doc.body.className = 'page-content';\n\n        // Prevent markdown display link click redirect\n        this.doc.addEventListener('click', this.onDisplayClick.bind(this));\n    }\n\n    /**\n     * @param {MouseEvent} event\n     */\n    onDisplayClick(event) {\n        const isDblClick = Date.now() - this.lastDisplayClick < 300;\n\n        const link = event.target.closest('a');\n        if (link !== null) {\n            event.preventDefault();\n            window.open(link.getAttribute('href'));\n            return;\n        }\n\n        const drawing = event.target.closest('[drawio-diagram]');\n        if (drawing !== null && isDblClick) {\n            this.editor.actions.editDrawing(drawing);\n            return;\n        }\n\n        this.lastDisplayClick = Date.now();\n    }\n\n    loadStylesIntoDisplay() {\n        this.doc.documentElement.classList.add('markdown-editor-display');\n\n        // Set display to be dark mode if parent is\n        if (document.documentElement.classList.contains('dark-mode')) {\n            this.doc.documentElement.style.backgroundColor = '#222';\n            this.doc.documentElement.classList.add('dark-mode');\n        }\n\n        this.doc.head.innerHTML = '';\n        const styles = document.head.querySelectorAll('style,link[rel=stylesheet]');\n        for (const style of styles) {\n            const copy = style.cloneNode(true);\n            this.doc.head.appendChild(copy);\n        }\n    }\n\n    /**\n     * Patch the display DOM with the given HTML content.\n     * @param {String} html\n     */\n    patchWithHtml(html) {\n        const {body} = this.doc;\n\n        if (body.children.length === 0) {\n            const wrap = document.createElement('div');\n            this.doc.body.append(wrap);\n        }\n\n        const target = body.children[0];\n\n        patchDomFromHtmlString(target, html);\n    }\n\n    /**\n     * Scroll to the given block index within the display content.\n     * Will scroll to the end if the index is -1.\n     * @param {Number} index\n     */\n    scrollToIndex(index) {\n        const elems = this.doc.body?.children[0]?.children;\n        if (elems && elems.length <= index) return;\n\n        const topElem = (index === -1) ? elems[elems.length - 1] : elems[index];\n        topElem.scrollIntoView({block: 'start', inline: 'nearest', behavior: 'smooth'});\n    }\n\n}\n", "function promisifyRequest(request) {\n    return new Promise((resolve, reject) => {\n        // @ts-ignore - file size hacks\n        request.oncomplete = request.onsuccess = () => resolve(request.result);\n        // @ts-ignore - file size hacks\n        request.onabort = request.onerror = () => reject(request.error);\n    });\n}\nfunction createStore(dbName, storeName) {\n    const request = indexedDB.open(dbName);\n    request.onupgradeneeded = () => request.result.createObjectStore(storeName);\n    const dbp = promisifyRequest(request);\n    return (txMode, callback) => dbp.then((db) => callback(db.transaction(storeName, txMode).objectStore(storeName)));\n}\nlet defaultGetStoreFunc;\nfunction defaultGetStore() {\n    if (!defaultGetStoreFunc) {\n        defaultGetStoreFunc = createStore('keyval-store', 'keyval');\n    }\n    return defaultGetStoreFunc;\n}\n/**\n * Get a value by its key.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction get(key, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => promisifyRequest(store.get(key)));\n}\n/**\n * Set a value with a key.\n *\n * @param key\n * @param value\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction set(key, value, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.put(value, key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Set multiple values at once. This is faster than calling set() multiple times.\n * It's also atomic \u2013 if one of the pairs can't be added, none will be added.\n *\n * @param entries Array of entries, where each entry is an array of `[key, value]`.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction setMany(entries, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        entries.forEach((entry) => store.put(entry[1], entry[0]));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Get multiple values by their keys\n *\n * @param keys\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction getMany(keys, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => Promise.all(keys.map((key) => promisifyRequest(store.get(key)))));\n}\n/**\n * Update a value. This lets you see the old value and update it as an atomic operation.\n *\n * @param key\n * @param updater A callback that takes the old value and returns a new value.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction update(key, updater, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => \n    // Need to create the promise manually.\n    // If I try to chain promises, the transaction closes in browsers\n    // that use a promise polyfill (IE10/11).\n    new Promise((resolve, reject) => {\n        store.get(key).onsuccess = function () {\n            try {\n                store.put(updater(this.result), key);\n                resolve(promisifyRequest(store.transaction));\n            }\n            catch (err) {\n                reject(err);\n            }\n        };\n    }));\n}\n/**\n * Delete a particular key from the store.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction del(key, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.delete(key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Delete multiple keys at once.\n *\n * @param keys List of keys to delete.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction delMany(keys, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        keys.forEach((key) => store.delete(key));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Clear all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction clear(customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.clear();\n        return promisifyRequest(store.transaction);\n    });\n}\nfunction eachCursor(store, callback) {\n    store.openCursor().onsuccess = function () {\n        if (!this.result)\n            return;\n        callback(this.result);\n        this.result.continue();\n    };\n    return promisifyRequest(store.transaction);\n}\n/**\n * Get all keys in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction keys(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        if (store.getAllKeys) {\n            return promisifyRequest(store.getAllKeys());\n        }\n        const items = [];\n        return eachCursor(store, (cursor) => items.push(cursor.key)).then(() => items);\n    });\n}\n/**\n * Get all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction values(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        if (store.getAll) {\n            return promisifyRequest(store.getAll());\n        }\n        const items = [];\n        return eachCursor(store, (cursor) => items.push(cursor.value)).then(() => items);\n    });\n}\n/**\n * Get all entries in the store. Each entry is an array of `[key, value]`.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction entries(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        // (although, hopefully we'll get a simpler path some day)\n        if (store.getAll && store.getAllKeys) {\n            return Promise.all([\n                promisifyRequest(store.getAllKeys()),\n                promisifyRequest(store.getAll()),\n            ]).then(([keys, values]) => keys.map((key, i) => [key, values[i]]));\n        }\n        const items = [];\n        return customStore('readonly', (store) => eachCursor(store, (cursor) => items.push([cursor.key, cursor.value])).then(() => items));\n    });\n}\n\nexport { clear, createStore, del, delMany, entries, get, getMany, keys, promisifyRequest, set, setMany, update, values };\n", "// Docs: https://www.diagrams.net/doc/faq/embed-mode\nimport * as store from './store';\n\nlet iFrame = null;\nlet lastApprovedOrigin;\nlet onInit;\nlet onSave;\nconst saveBackupKey = 'last-drawing-save';\n\nfunction drawPostMessage(data) {\n    iFrame.contentWindow.postMessage(JSON.stringify(data), lastApprovedOrigin);\n}\n\nfunction drawEventExport(message) {\n    store.set(saveBackupKey, message.data);\n    if (onSave) {\n        onSave(message.data).then(() => {\n            store.del(saveBackupKey);\n        });\n    }\n}\n\nfunction drawEventSave(message) {\n    drawPostMessage({\n        action: 'export', format: 'xmlpng', xml: message.xml, spin: 'Updating drawing',\n    });\n}\n\nfunction drawEventInit() {\n    if (!onInit) return;\n    onInit().then(xml => {\n        drawPostMessage({action: 'load', autosave: 1, xml});\n    });\n}\n\nfunction drawEventConfigure() {\n    const config = {};\n    window.$events.emitPublic(iFrame, 'editor-drawio::configure', {config});\n    drawPostMessage({action: 'configure', config});\n}\n\nfunction drawEventClose() {\n    // eslint-disable-next-line no-use-before-define\n    window.removeEventListener('message', drawReceive);\n    if (iFrame) document.body.removeChild(iFrame);\n}\n\n/**\n * Receive and handle a message event from the draw.io window.\n * @param {MessageEvent} event\n */\nfunction drawReceive(event) {\n    if (!event.data || event.data.length < 1) return;\n    if (event.origin !== lastApprovedOrigin) return;\n\n    const message = JSON.parse(event.data);\n    if (message.event === 'init') {\n        drawEventInit();\n    } else if (message.event === 'exit') {\n        drawEventClose();\n    } else if (message.event === 'save') {\n        drawEventSave(message);\n    } else if (message.event === 'export') {\n        drawEventExport(message);\n    } else if (message.event === 'configure') {\n        drawEventConfigure();\n    }\n}\n\n/**\n * Attempt to prompt and restore unsaved drawing content if existing.\n * @returns {Promise<void>}\n */\nasync function attemptRestoreIfExists() {\n    const backupVal = await store.get(saveBackupKey);\n    const dialogEl = document.getElementById('unsaved-drawing-dialog');\n\n    if (!dialogEl) {\n        console.error('Missing expected unsaved-drawing dialog');\n    }\n\n    if (backupVal) {\n        /** @var {ConfirmDialog} */\n        const dialog = window.$components.firstOnElement(dialogEl, 'confirm-dialog');\n        const restore = await dialog.show();\n        if (restore) {\n            onInit = async () => backupVal;\n        }\n    }\n}\n\n/**\n * Show the draw.io editor.\n * onSaveCallback must return a promise that resolves on successful save and errors on failure.\n * onInitCallback must return a promise with the xml to load for the editor.\n * Will attempt to provide an option to restore unsaved changes if found to exist.\n * @param {String} drawioUrl\n * @param {Function<Promise<String>>} onInitCallback\n * @param {Function<Promise>} onSaveCallback - Is called with the drawing data on save.\n */\nexport async function show(drawioUrl, onInitCallback, onSaveCallback) {\n    onInit = onInitCallback;\n    onSave = onSaveCallback;\n\n    await attemptRestoreIfExists();\n\n    iFrame = document.createElement('iframe');\n    iFrame.setAttribute('frameborder', '0');\n    window.addEventListener('message', drawReceive);\n    iFrame.setAttribute('src', drawioUrl);\n    iFrame.setAttribute('class', 'fullscreen');\n    iFrame.style.backgroundColor = '#FFFFFF';\n    document.body.appendChild(iFrame);\n    lastApprovedOrigin = (new URL(drawioUrl)).origin;\n}\n\nexport async function upload(imageData, pageUploadedToId) {\n    const data = {\n        image: imageData,\n        uploaded_to: pageUploadedToId,\n    };\n    const resp = await window.$http.post(window.baseUrl('/images/drawio'), data);\n    return resp.data;\n}\n\nexport function close() {\n    drawEventClose();\n}\n\n/**\n * Load an existing image, by fetching it as Base64 from the system.\n * @param drawingId\n * @returns {Promise<string>}\n */\nexport async function load(drawingId) {\n    try {\n        const resp = await window.$http.get(window.baseUrl(`/images/drawio/base64/${drawingId}`));\n        return `data:image/png;base64,${resp.data.content}`;\n    } catch (error) {\n        if (error instanceof window.$http.HttpError) {\n            window.$events.showResponseError(error);\n        }\n        close();\n        throw error;\n    }\n}\n", "import * as DrawIO from '../services/drawio';\n\nexport class Actions {\n\n    /**\n     * @param {MarkdownEditor} editor\n     */\n    constructor(editor) {\n        this.editor = editor;\n        this.lastContent = {\n            html: '',\n            markdown: '',\n        };\n    }\n\n    updateAndRender() {\n        const content = this.#getText();\n        this.editor.config.inputEl.value = content;\n\n        const html = this.editor.markdown.render(content);\n        window.$events.emit('editor-html-change', '');\n        window.$events.emit('editor-markdown-change', '');\n        this.lastContent.html = html;\n        this.lastContent.markdown = content;\n        this.editor.display.patchWithHtml(html);\n    }\n\n    getContent() {\n        return this.lastContent;\n    }\n\n    showImageInsert() {\n        /** @type {ImageManager} * */\n        const imageManager = window.$components.first('image-manager');\n\n        imageManager.show(image => {\n            const imageUrl = image.thumbs?.display || image.url;\n            const selectedText = this.#getSelectionText();\n            const newText = `[![${selectedText || image.name}](${imageUrl})](${image.url})`;\n            this.#replaceSelection(newText, newText.length);\n        }, 'gallery');\n    }\n\n    insertImage() {\n        const newText = `![${this.#getSelectionText()}](http://)`;\n        this.#replaceSelection(newText, newText.length - 1);\n    }\n\n    insertLink() {\n        const selectedText = this.#getSelectionText();\n        const newText = `[${selectedText}]()`;\n        const cursorPosDiff = (selectedText === '') ? -3 : -1;\n        this.#replaceSelection(newText, newText.length + cursorPosDiff);\n    }\n\n    showImageManager() {\n        const selectionRange = this.#getSelectionRange();\n        /** @type {ImageManager} * */\n        const imageManager = window.$components.first('image-manager');\n        imageManager.show(image => {\n            this.#insertDrawing(image, selectionRange);\n        }, 'drawio');\n    }\n\n    // Show the popup link selector and insert a link when finished\n    showLinkSelector() {\n        const selectionRange = this.#getSelectionRange();\n\n        /** @type {EntitySelectorPopup} * */\n        const selector = window.$components.first('entity-selector-popup');\n        const selectionText = this.#getSelectionText(selectionRange);\n        selector.show(entity => {\n            const selectedText = selectionText || entity.name;\n            const newText = `[${selectedText}](${entity.link})`;\n            this.#replaceSelection(newText, newText.length, selectionRange);\n        }, selectionText);\n    }\n\n    // Show draw.io if enabled and handle save.\n    startDrawing() {\n        const url = this.editor.config.drawioUrl;\n        if (!url) return;\n\n        const selectionRange = this.#getSelectionRange();\n\n        DrawIO.show(url, () => Promise.resolve(''), async pngData => {\n            const data = {\n                image: pngData,\n                uploaded_to: Number(this.editor.config.pageId),\n            };\n\n            try {\n                const resp = await window.$http.post('/images/drawio', data);\n                this.#insertDrawing(resp.data, selectionRange);\n                DrawIO.close();\n            } catch (err) {\n                this.handleDrawingUploadError(err);\n                throw new Error(`Failed to save image with error: ${err}`);\n            }\n        });\n    }\n\n    #insertDrawing(image, originalSelectionRange) {\n        const newText = `<div drawio-diagram=\"${image.id}\"><img src=\"${image.url}\"></div>`;\n        this.#replaceSelection(newText, newText.length, originalSelectionRange);\n    }\n\n    // Show draw.io if enabled and handle save.\n    editDrawing(imgContainer) {\n        const {drawioUrl} = this.editor.config;\n        if (!drawioUrl) {\n            return;\n        }\n\n        const selectionRange = this.#getSelectionRange();\n        const drawingId = imgContainer.getAttribute('drawio-diagram');\n\n        DrawIO.show(drawioUrl, () => DrawIO.load(drawingId), async pngData => {\n            const data = {\n                image: pngData,\n                uploaded_to: Number(this.editor.config.pageId),\n            };\n\n            try {\n                const resp = await window.$http.post('/images/drawio', data);\n                const newText = `<div drawio-diagram=\"${resp.data.id}\"><img src=\"${resp.data.url}\"></div>`;\n                const newContent = this.#getText().split('\\n').map(line => {\n                    if (line.indexOf(`drawio-diagram=\"${drawingId}\"`) !== -1) {\n                        return newText;\n                    }\n                    return line;\n                }).join('\\n');\n                this.#setText(newContent, selectionRange);\n                DrawIO.close();\n            } catch (err) {\n                this.handleDrawingUploadError(err);\n                throw new Error(`Failed to save image with error: ${err}`);\n            }\n        });\n    }\n\n    handleDrawingUploadError(error) {\n        if (error.status === 413) {\n            window.$events.emit('error', this.editor.config.text.serverUploadLimit);\n        } else {\n            window.$events.emit('error', this.editor.config.text.imageUploadError);\n        }\n        console.error(error);\n    }\n\n    // Make the editor full screen\n    fullScreen() {\n        const {container} = this.editor.config;\n        const alreadyFullscreen = container.classList.contains('fullscreen');\n        container.classList.toggle('fullscreen', !alreadyFullscreen);\n        document.body.classList.toggle('markdown-fullscreen', !alreadyFullscreen);\n    }\n\n    // Scroll to a specified text\n    scrollToText(searchText) {\n        if (!searchText) {\n            return;\n        }\n\n        const text = this.editor.cm.state.doc;\n        let lineCount = 1;\n        let scrollToLine = -1;\n        for (const line of text.iterLines()) {\n            if (line.includes(searchText)) {\n                scrollToLine = lineCount;\n                break;\n            }\n            lineCount += 1;\n        }\n\n        if (scrollToLine === -1) {\n            return;\n        }\n\n        const line = text.line(scrollToLine);\n        this.#setSelection(line.from, line.to, true);\n        this.focus();\n    }\n\n    focus() {\n        if (!this.editor.cm.hasFocus) {\n            this.editor.cm.focus();\n        }\n    }\n\n    /**\n     * Insert content into the editor.\n     * @param {String} content\n     */\n    insertContent(content) {\n        this.#replaceSelection(content, content.length);\n    }\n\n    /**\n     * Prepend content to the editor.\n     * @param {String} content\n     */\n    prependContent(content) {\n        content = this.#cleanTextForEditor(content);\n        const selectionRange = this.#getSelectionRange();\n        const selectFrom = selectionRange.from + content.length + 1;\n        this.#dispatchChange(0, 0, `${content}\\n`, selectFrom);\n        this.focus();\n    }\n\n    /**\n     * Append content to the editor.\n     * @param {String} content\n     */\n    appendContent(content) {\n        content = this.#cleanTextForEditor(content);\n        this.#dispatchChange(this.editor.cm.state.doc.length, `\\n${content}`);\n        this.focus();\n    }\n\n    /**\n     * Replace the editor's contents\n     * @param {String} content\n     */\n    replaceContent(content) {\n        this.#setText(content);\n    }\n\n    /**\n     * Replace the start of the line\n     * @param {String} newStart\n     */\n    replaceLineStart(newStart) {\n        const selectionRange = this.#getSelectionRange();\n        const line = this.editor.cm.state.doc.lineAt(selectionRange.from);\n\n        const lineContent = line.text;\n        const lineStart = lineContent.split(' ')[0];\n\n        // Remove symbol if already set\n        if (lineStart === newStart) {\n            const newLineContent = lineContent.replace(`${newStart} `, '');\n            const selectFrom = selectionRange.from + (newLineContent.length - lineContent.length);\n            this.#dispatchChange(line.from, line.to, newLineContent, selectFrom);\n            return;\n        }\n\n        let newLineContent = lineContent;\n        const alreadySymbol = /^[#>`]/.test(lineStart);\n        if (alreadySymbol) {\n            newLineContent = lineContent.replace(lineStart, newStart).trim();\n        } else if (newStart !== '') {\n            newLineContent = `${newStart} ${lineContent}`;\n        }\n\n        const selectFrom = selectionRange.from + (newLineContent.length - lineContent.length);\n        this.#dispatchChange(line.from, line.to, newLineContent, selectFrom);\n    }\n\n    /**\n     * Wrap the selection in the given contents start and end contents.\n     * @param {String} start\n     * @param {String} end\n     */\n    wrapSelection(start, end) {\n        const selectRange = this.#getSelectionRange();\n        const selectionText = this.#getSelectionText(selectRange);\n        if (!selectionText) {\n            this.#wrapLine(start, end);\n            return;\n        }\n\n        let newSelectionText = selectionText;\n        let newRange;\n\n        if (selectionText.startsWith(start) && selectionText.endsWith(end)) {\n            newSelectionText = selectionText.slice(start.length, selectionText.length - end.length);\n            newRange = selectRange.extend(selectRange.from, selectRange.to - (start.length + end.length));\n        } else {\n            newSelectionText = `${start}${selectionText}${end}`;\n            newRange = selectRange.extend(selectRange.from, selectRange.to + (start.length + end.length));\n        }\n\n        this.#dispatchChange(\n            selectRange.from,\n            selectRange.to,\n            newSelectionText,\n            newRange.anchor,\n            newRange.head,\n        );\n    }\n\n    replaceLineStartForOrderedList() {\n        const selectionRange = this.#getSelectionRange();\n        const line = this.editor.cm.state.doc.lineAt(selectionRange.from);\n        const prevLine = this.editor.cm.state.doc.line(line.number - 1);\n\n        const listMatch = prevLine.text.match(/^(\\s*)(\\d)([).])\\s/) || [];\n\n        const number = (Number(listMatch[2]) || 0) + 1;\n        const whiteSpace = listMatch[1] || '';\n        const listMark = listMatch[3] || '.';\n\n        const prefix = `${whiteSpace}${number}${listMark}`;\n        return this.replaceLineStart(prefix);\n    }\n\n    /**\n     * Cycles through the type of callout block within the selection.\n     * Creates a callout block if none existing, and removes it if cycling past the danger type.\n     */\n    cycleCalloutTypeAtSelection() {\n        const selectionRange = this.#getSelectionRange();\n        const line = this.editor.cm.state.doc.lineAt(selectionRange.from);\n\n        const formats = ['info', 'success', 'warning', 'danger'];\n        const joint = formats.join('|');\n        const regex = new RegExp(`class=\"((${joint})\\\\s+callout|callout\\\\s+(${joint}))\"`, 'i');\n        const matches = regex.exec(line.text);\n        const format = (matches ? (matches[2] || matches[3]) : '').toLowerCase();\n\n        if (format === formats[formats.length - 1]) {\n            this.#wrapLine(`<p class=\"callout ${formats[formats.length - 1]}\">`, '</p>');\n        } else if (format === '') {\n            this.#wrapLine('<p class=\"callout info\">', '</p>');\n        } else {\n            const newFormatIndex = formats.indexOf(format) + 1;\n            const newFormat = formats[newFormatIndex];\n            const newContent = line.text.replace(matches[0], matches[0].replace(format, newFormat));\n            const lineDiff = newContent.length - line.text.length;\n            this.#dispatchChange(\n                line.from,\n                line.to,\n                newContent,\n                selectionRange.anchor + lineDiff,\n                selectionRange.head + lineDiff,\n            );\n        }\n    }\n\n    syncDisplayPosition(event) {\n        // Thanks to http://liuhao.im/english/2015/11/10/the-sync-scroll-of-markdown-editor-in-javascript.html\n        const scrollEl = event.target;\n        const atEnd = Math.abs(scrollEl.scrollHeight - scrollEl.clientHeight - scrollEl.scrollTop) < 1;\n        if (atEnd) {\n            this.editor.display.scrollToIndex(-1);\n            return;\n        }\n\n        const blockInfo = this.editor.cm.lineBlockAtHeight(scrollEl.scrollTop);\n        const range = this.editor.cm.state.sliceDoc(0, blockInfo.from);\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(this.editor.markdown.render(range), 'text/html');\n        const totalLines = doc.documentElement.querySelectorAll('body > *');\n        this.editor.display.scrollToIndex(totalLines.length);\n    }\n\n    /**\n     * Fetch and insert the template of the given ID.\n     * The page-relative position provided can be used to determine insert location if possible.\n     * @param {String} templateId\n     * @param {Number} posX\n     * @param {Number} posY\n     */\n    async insertTemplate(templateId, posX, posY) {\n        const cursorPos = this.editor.cm.posAtCoords({x: posX, y: posY}, false);\n        const {data} = await window.$http.get(`/templates/${templateId}`);\n        const content = data.markdown || data.html;\n        this.#dispatchChange(cursorPos, cursorPos, content, cursorPos);\n    }\n\n    /**\n     * Insert multiple images from the clipboard from an event at the provided\n     * screen coordinates (Typically form a paste event).\n     * @param {File[]} images\n     * @param {Number} posX\n     * @param {Number} posY\n     */\n    insertClipboardImages(images, posX, posY) {\n        const cursorPos = this.editor.cm.posAtCoords({x: posX, y: posY}, false);\n        for (const image of images) {\n            this.uploadImage(image, cursorPos);\n        }\n    }\n\n    /**\n     * Handle image upload and add image into markdown content\n     * @param {File} file\n     * @param {?Number} position\n     */\n    async uploadImage(file, position = null) {\n        if (file === null || file.type.indexOf('image') !== 0) return;\n        let ext = 'png';\n\n        if (position === null) {\n            position = this.#getSelectionRange().from;\n        }\n\n        if (file.name) {\n            const fileNameMatches = file.name.match(/\\.(.+)$/);\n            if (fileNameMatches.length > 1) ext = fileNameMatches[1];\n        }\n\n        // Insert image into markdown\n        const id = `image-${Math.random().toString(16).slice(2)}`;\n        const placeholderImage = window.baseUrl(`/loading.gif#upload${id}`);\n        const placeHolderText = `![](${placeholderImage})`;\n        this.#dispatchChange(position, position, placeHolderText, position);\n\n        const remoteFilename = `image-${Date.now()}.${ext}`;\n        const formData = new FormData();\n        formData.append('file', file, remoteFilename);\n        formData.append('uploaded_to', this.editor.config.pageId);\n\n        try {\n            const {data} = await window.$http.post('/images/gallery', formData);\n            const newContent = `[![](${data.thumbs.display})](${data.url})`;\n            this.#findAndReplaceContent(placeHolderText, newContent);\n        } catch (err) {\n            window.$events.error(err?.data?.message || this.editor.config.text.imageUploadError);\n            this.#findAndReplaceContent(placeHolderText, '');\n            console.error(err);\n        }\n    }\n\n    /**\n     * Get the current text of the editor instance.\n     * @return {string}\n     */\n    #getText() {\n        return this.editor.cm.state.doc.toString();\n    }\n\n    /**\n     * Set the text of the current editor instance.\n     * @param {String} text\n     * @param {?SelectionRange} selectionRange\n     */\n    #setText(text, selectionRange = null) {\n        selectionRange = selectionRange || this.#getSelectionRange();\n        const newDoc = this.editor.cm.state.toText(text);\n        const newSelectFrom = Math.min(selectionRange.from, newDoc.length);\n        this.#dispatchChange(0, this.editor.cm.state.doc.length, text, newSelectFrom);\n        this.focus();\n    }\n\n    /**\n     * Replace the current selection and focus the editor.\n     * Takes an offset for the cursor, after the change, relative to the start of the provided string.\n     * Can be provided a selection range to use instead of the current selection range.\n     * @param {String} newContent\n     * @param {Number} cursorOffset\n     * @param {?SelectionRange} selectionRange\n     */\n    #replaceSelection(newContent, cursorOffset = 0, selectionRange = null) {\n        selectionRange = selectionRange || this.editor.cm.state.selection.main;\n        const selectFrom = selectionRange.from + cursorOffset;\n        this.#dispatchChange(selectionRange.from, selectionRange.to, newContent, selectFrom);\n        this.focus();\n    }\n\n    /**\n     * Get the text content of the main current selection.\n     * @param {SelectionRange} selectionRange\n     * @return {string}\n     */\n    #getSelectionText(selectionRange = null) {\n        selectionRange = selectionRange || this.#getSelectionRange();\n        return this.editor.cm.state.sliceDoc(selectionRange.from, selectionRange.to);\n    }\n\n    /**\n     * Get the range of the current main selection.\n     * @return {SelectionRange}\n     */\n    #getSelectionRange() {\n        return this.editor.cm.state.selection.main;\n    }\n\n    /**\n     * Cleans the given text to work with the editor.\n     * Standardises line endings to what's expected.\n     * @param {String} text\n     * @return {String}\n     */\n    #cleanTextForEditor(text) {\n        return text.replace(/\\r\\n|\\r/g, '\\n');\n    }\n\n    /**\n     * Find and replace the first occurrence of [search] with [replace]\n     * @param {String} search\n     * @param {String} replace\n     */\n    #findAndReplaceContent(search, replace) {\n        const newText = this.#getText().replace(search, replace);\n        this.#setText(newText);\n    }\n\n    /**\n     * Wrap the line in the given start and end contents.\n     * @param {String} start\n     * @param {String} end\n     */\n    #wrapLine(start, end) {\n        const selectionRange = this.#getSelectionRange();\n        const line = this.editor.cm.state.doc.lineAt(selectionRange.from);\n        const lineContent = line.text;\n        let newLineContent;\n        let lineOffset = 0;\n\n        if (lineContent.startsWith(start) && lineContent.endsWith(end)) {\n            newLineContent = lineContent.slice(start.length, lineContent.length - end.length);\n            lineOffset = -(start.length);\n        } else {\n            newLineContent = `${start}${lineContent}${end}`;\n            lineOffset = start.length;\n        }\n\n        this.#dispatchChange(line.from, line.to, newLineContent, selectionRange.from + lineOffset);\n    }\n\n    /**\n     * Dispatch changes to the editor.\n     * @param {Number} from\n     * @param {?Number} to\n     * @param {?String} text\n     * @param {?Number} selectFrom\n     * @param {?Number} selectTo\n     */\n    #dispatchChange(from, to = null, text = null, selectFrom = null, selectTo = null) {\n        const tr = {changes: {from, to, insert: text}};\n\n        if (selectFrom) {\n            tr.selection = {anchor: selectFrom};\n            if (selectTo) {\n                tr.selection.head = selectTo;\n            }\n        }\n\n        this.editor.cm.dispatch(tr);\n    }\n\n    /**\n     * Set the current selection range.\n     * Optionally will scroll the new range into view.\n     * @param {Number} from\n     * @param {Number} to\n     * @param {Boolean} scrollIntoView\n     */\n    #setSelection(from, to, scrollIntoView = false) {\n        this.editor.cm.dispatch({\n            selection: {anchor: from, head: to},\n            scrollIntoView,\n        });\n    }\n\n}\n", "export class Settings {\n\n    constructor(settingInputs) {\n        this.settingMap = {\n            scrollSync: true,\n            showPreview: true,\n            editorWidth: 50,\n        };\n        this.changeListeners = {};\n        this.loadFromLocalStorage();\n        this.applyToInputs(settingInputs);\n        this.listenToInputChanges(settingInputs);\n    }\n\n    applyToInputs(inputs) {\n        for (const input of inputs) {\n            const name = input.getAttribute('name').replace('md-', '');\n            input.checked = this.settingMap[name];\n        }\n    }\n\n    listenToInputChanges(inputs) {\n        for (const input of inputs) {\n            input.addEventListener('change', () => {\n                const name = input.getAttribute('name').replace('md-', '');\n                this.set(name, input.checked);\n            });\n        }\n    }\n\n    loadFromLocalStorage() {\n        const lsValString = window.localStorage.getItem('md-editor-settings');\n        if (!lsValString) {\n            return;\n        }\n\n        const lsVals = JSON.parse(lsValString);\n        for (const [key, value] of Object.entries(lsVals)) {\n            if (value !== null && this.settingMap[key] !== undefined) {\n                this.settingMap[key] = value;\n            }\n        }\n    }\n\n    set(key, value) {\n        this.settingMap[key] = value;\n        window.localStorage.setItem('md-editor-settings', JSON.stringify(this.settingMap));\n        for (const listener of (this.changeListeners[key] || [])) {\n            listener(value);\n        }\n    }\n\n    get(key) {\n        return this.settingMap[key] || null;\n    }\n\n    onChange(key, callback) {\n        const listeners = this.changeListeners[key] || [];\n        listeners.push(callback);\n        this.changeListeners[key] = listeners;\n    }\n\n}\n", "function getContentToInsert({html, markdown}) {\n    return markdown || html;\n}\n\n/**\n * @param {MarkdownEditor} editor\n */\nexport function listen(editor) {\n    window.$events.listen('editor::replace', eventContent => {\n        const markdown = getContentToInsert(eventContent);\n        editor.actions.replaceContent(markdown);\n    });\n\n    window.$events.listen('editor::append', eventContent => {\n        const markdown = getContentToInsert(eventContent);\n        editor.actions.appendContent(markdown);\n    });\n\n    window.$events.listen('editor::prepend', eventContent => {\n        const markdown = getContentToInsert(eventContent);\n        editor.actions.prependContent(markdown);\n    });\n\n    window.$events.listen('editor::insert', eventContent => {\n        const markdown = getContentToInsert(eventContent);\n        editor.actions.insertContent(markdown);\n    });\n\n    window.$events.listen('editor::focus', () => {\n        editor.actions.focus();\n    });\n}\n", "/**\n * Provide shortcuts for the editor instance.\n * @param {MarkdownEditor} editor\n * @returns {Object<String, Function>}\n */\nfunction provide(editor) {\n    const shortcuts = {};\n\n    // Insert Image shortcut\n    shortcuts['Shift-Mod-i'] = () => editor.actions.insertImage();\n\n    // Save draft\n    shortcuts['Mod-s'] = () => window.$events.emit('editor-save-draft');\n\n    // Save page\n    shortcuts['Mod-Enter'] = () => window.$events.emit('editor-save-page');\n\n    // Show link selector\n    shortcuts['Shift-Mod-k'] = () => editor.actions.showLinkSelector();\n\n    // Insert Link\n    shortcuts['Mod-k'] = () => editor.actions.insertLink();\n\n    // FormatShortcuts\n    shortcuts['Mod-1'] = () => editor.actions.replaceLineStart('##');\n    shortcuts['Mod-2'] = () => editor.actions.replaceLineStart('###');\n    shortcuts['Mod-3'] = () => editor.actions.replaceLineStart('####');\n    shortcuts['Mod-4'] = () => editor.actions.replaceLineStart('#####');\n    shortcuts['Mod-5'] = () => editor.actions.replaceLineStart('');\n    shortcuts['Mod-d'] = () => editor.actions.replaceLineStart('');\n    shortcuts['Mod-6'] = () => editor.actions.replaceLineStart('>');\n    shortcuts['Mod-q'] = () => editor.actions.replaceLineStart('>');\n    shortcuts['Mod-7'] = () => editor.actions.wrapSelection('\\n```\\n', '\\n```');\n    shortcuts['Mod-8'] = () => editor.actions.wrapSelection('`', '`');\n    shortcuts['Shift-Mod-e'] = () => editor.actions.wrapSelection('`', '`');\n    shortcuts['Mod-9'] = () => editor.actions.cycleCalloutTypeAtSelection();\n    shortcuts['Mod-p'] = () => editor.actions.replaceLineStart('-');\n    shortcuts['Mod-o'] = () => editor.actions.replaceLineStartForOrderedList();\n\n    return shortcuts;\n}\n\n/**\n * Get the editor shortcuts in CodeMirror keybinding format.\n * @param {MarkdownEditor} editor\n * @return {{key: String, run: function, preventDefault: boolean}[]}\n */\nexport function provideKeyBindings(editor) {\n    const shortcuts = provide(editor);\n    const keyBindings = [];\n\n    const wrapAction = action => () => {\n        action();\n        return true;\n    };\n\n    for (const [shortcut, action] of Object.entries(shortcuts)) {\n        keyBindings.push({key: shortcut, run: wrapAction(action), preventDefault: true});\n    }\n\n    return keyBindings;\n}\n", "import {provideKeyBindings} from './shortcuts';\nimport {debounce} from '../services/util';\nimport {Clipboard} from '../services/clipboard';\n\n/**\n * Initiate the codemirror instance for the markdown editor.\n * @param {MarkdownEditor} editor\n * @returns {Promise<void>}\n */\nexport async function init(editor) {\n    const Code = await window.importVersioned('code');\n\n    /**\n     * @param {ViewUpdate} v\n     */\n    function onViewUpdate(v) {\n        if (v.docChanged) {\n            editor.actions.updateAndRender();\n        }\n    }\n\n    const onScrollDebounced = debounce(editor.actions.syncDisplayPosition.bind(editor.actions), 100, false);\n    let syncActive = editor.settings.get('scrollSync');\n    editor.settings.onChange('scrollSync', val => {\n        syncActive = val;\n    });\n\n    const domEventHandlers = {\n        // Handle scroll to sync display view\n        scroll: event => syncActive && onScrollDebounced(event),\n        // Handle image & content drag n drop\n        drop: event => {\n            const templateId = event.dataTransfer.getData('bookstack/template');\n            if (templateId) {\n                event.preventDefault();\n                editor.actions.insertTemplate(templateId, event.pageX, event.pageY);\n            }\n\n            const clipboard = new Clipboard(event.dataTransfer);\n            const clipboardImages = clipboard.getImages();\n            if (clipboardImages.length > 0) {\n                event.stopPropagation();\n                event.preventDefault();\n                editor.actions.insertClipboardImages(clipboardImages, event.pageX, event.pageY);\n            }\n        },\n        // Handle image paste\n        paste: event => {\n            const clipboard = new Clipboard(event.clipboardData || event.dataTransfer);\n\n            // Don't handle the event ourselves if no items exist of contains table-looking data\n            if (!clipboard.hasItems() || clipboard.containsTabularData()) {\n                return;\n            }\n\n            const images = clipboard.getImages();\n            for (const image of images) {\n                editor.actions.uploadImage(image);\n            }\n        },\n    };\n\n    const cm = Code.markdownEditor(\n        editor.config.inputEl,\n        onViewUpdate,\n        domEventHandlers,\n        provideKeyBindings(editor),\n    );\n\n    // Add editor view to window for easy access/debugging.\n    // Not part of official API/Docs\n    window.mdEditorView = cm;\n\n    return cm;\n}\n", "import {Markdown} from './markdown';\nimport {Display} from './display';\nimport {Actions} from './actions';\nimport {Settings} from './settings';\nimport {listen} from './common-events';\nimport {init as initCodemirror} from './codemirror';\n\n/**\n * Initiate a new markdown editor instance.\n * @param {MarkdownEditorConfig} config\n * @returns {Promise<MarkdownEditor>}\n */\nexport async function init(config) {\n    /**\n     * @type {MarkdownEditor}\n     */\n    const editor = {\n        config,\n        markdown: new Markdown(),\n        settings: new Settings(config.settingInputs),\n    };\n\n    editor.actions = new Actions(editor);\n    editor.display = new Display(editor);\n    editor.cm = await initCodemirror(editor);\n\n    listen(editor);\n\n    return editor;\n}\n\n/**\n * @typedef MarkdownEditorConfig\n * @property {String} pageId\n * @property {Element} container\n * @property {Element} displayEl\n * @property {HTMLTextAreaElement} inputEl\n * @property {String} drawioUrl\n * @property {HTMLInputElement[]} settingInputs\n * @property {Object<String, String>} text\n */\n\n/**\n * @typedef MarkdownEditor\n * @property {MarkdownEditorConfig} config\n * @property {Display} display\n * @property {Markdown} markdown\n * @property {Actions} actions\n * @property {EditorView} cm\n * @property {Settings} settings\n */\n", "import {Component} from './component';\nimport {init as initEditor} from '../markdown/editor';\n\nexport class MarkdownEditor extends Component {\n\n    setup() {\n        this.elem = this.$el;\n\n        this.pageId = this.$opts.pageId;\n        this.textDirection = this.$opts.textDirection;\n        this.imageUploadErrorText = this.$opts.imageUploadErrorText;\n        this.serverUploadLimitText = this.$opts.serverUploadLimitText;\n\n        this.display = this.$refs.display;\n        this.input = this.$refs.input;\n        this.divider = this.$refs.divider;\n        this.displayWrap = this.$refs.displayWrap;\n\n        const {settingContainer} = this.$refs;\n        const settingInputs = settingContainer.querySelectorAll('input[type=\"checkbox\"]');\n\n        this.editor = null;\n        initEditor({\n            pageId: this.pageId,\n            container: this.elem,\n            displayEl: this.display,\n            inputEl: this.input,\n            drawioUrl: this.getDrawioUrl(),\n            settingInputs: Array.from(settingInputs),\n            text: {\n                serverUploadLimit: this.serverUploadLimitText,\n                imageUploadError: this.imageUploadErrorText,\n            },\n        }).then(editor => {\n            this.editor = editor;\n            this.setupListeners();\n            this.emitEditorEvents();\n            this.scrollToTextIfNeeded();\n            this.editor.actions.updateAndRender();\n        });\n    }\n\n    emitEditorEvents() {\n        window.$events.emitPublic(this.elem, 'editor-markdown::setup', {\n            markdownIt: this.editor.markdown.getRenderer(),\n            displayEl: this.display,\n            cmEditorView: this.editor.cm,\n        });\n    }\n\n    setupListeners() {\n        // Button actions\n        this.elem.addEventListener('click', event => {\n            const button = event.target.closest('button[data-action]');\n            if (button === null) return;\n\n            const action = button.getAttribute('data-action');\n            if (action === 'insertImage') this.editor.actions.showImageInsert();\n            if (action === 'insertLink') this.editor.actions.showLinkSelector();\n            if (action === 'insertDrawing' && (event.ctrlKey || event.metaKey)) {\n                this.editor.actions.showImageManager();\n                return;\n            }\n            if (action === 'insertDrawing') this.editor.actions.startDrawing();\n            if (action === 'fullscreen') this.editor.actions.fullScreen();\n        });\n\n        // Mobile section toggling\n        this.elem.addEventListener('click', event => {\n            const toolbarLabel = event.target.closest('.editor-toolbar-label');\n            if (!toolbarLabel) return;\n\n            const currentActiveSections = this.elem.querySelectorAll('.markdown-editor-wrap');\n            for (const activeElem of currentActiveSections) {\n                activeElem.classList.remove('active');\n            }\n\n            toolbarLabel.closest('.markdown-editor-wrap').classList.add('active');\n        });\n\n        this.handleDividerDrag();\n    }\n\n    handleDividerDrag() {\n        this.divider.addEventListener('pointerdown', () => {\n            const wrapRect = this.elem.getBoundingClientRect();\n            const moveListener = event => {\n                const xRel = event.pageX - wrapRect.left;\n                const xPct = Math.min(Math.max(20, Math.floor((xRel / wrapRect.width) * 100)), 80);\n                this.displayWrap.style.flexBasis = `${100 - xPct}%`;\n                this.editor.settings.set('editorWidth', xPct);\n            };\n            const upListener = () => {\n                window.removeEventListener('pointermove', moveListener);\n                window.removeEventListener('pointerup', upListener);\n                this.display.style.pointerEvents = null;\n                document.body.style.userSelect = null;\n            };\n\n            this.display.style.pointerEvents = 'none';\n            document.body.style.userSelect = 'none';\n            window.addEventListener('pointermove', moveListener);\n            window.addEventListener('pointerup', upListener);\n        });\n        const widthSetting = this.editor.settings.get('editorWidth');\n        if (widthSetting) {\n            this.displayWrap.style.flexBasis = `${100 - widthSetting}%`;\n        }\n    }\n\n    scrollToTextIfNeeded() {\n        const queryParams = (new URL(window.location)).searchParams;\n        const scrollText = queryParams.get('content-text');\n        if (scrollText) {\n            this.editor.actions.scrollToText(scrollText);\n        }\n    }\n\n    /**\n     * Get the URL for the configured drawio instance.\n     * @returns {String}\n     */\n    getDrawioUrl() {\n        const drawioAttrEl = document.querySelector('[drawio-url]');\n        if (!drawioAttrEl) {\n            return '';\n        }\n\n        return drawioAttrEl.getAttribute('drawio-url') || '';\n    }\n\n    /**\n     * Get the content of this editor.\n     * Used by the parent page editor component.\n     * @return {{html: String, markdown: String}}\n     */\n    getContent() {\n        return this.editor.actions.getContent();\n    }\n\n}\n", "import {Component} from './component';\n\nexport class NewUserPassword extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.inputContainer = this.$refs.inputContainer;\n        this.inviteOption = this.container.querySelector('input[name=send_invite]');\n\n        if (this.inviteOption) {\n            this.inviteOption.addEventListener('change', this.inviteOptionChange.bind(this));\n            this.inviteOptionChange();\n        }\n    }\n\n    inviteOptionChange() {\n        const inviting = (this.inviteOption.value === 'true');\n        const passwordBoxes = this.container.querySelectorAll('input[type=password]');\n        for (const input of passwordBoxes) {\n            input.disabled = inviting;\n        }\n\n        this.inputContainer.style.display = inviting ? 'none' : 'block';\n    }\n\n}\n", "import {Component} from './component';\n\nexport class Notification extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.type = this.$opts.type;\n        this.textElem = this.container.querySelector('span');\n        this.autoHide = this.$opts.autoHide === 'true';\n        this.initialShow = this.$opts.show === 'true';\n        this.container.style.display = 'grid';\n\n        window.$events.listen(this.type, text => {\n            this.show(text);\n        });\n        this.container.addEventListener('click', this.hide.bind(this));\n\n        if (this.initialShow) {\n            setTimeout(() => this.show(this.textElem.textContent), 100);\n        }\n\n        this.hideCleanup = this.hideCleanup.bind(this);\n    }\n\n    show(textToShow = '') {\n        this.container.removeEventListener('transitionend', this.hideCleanup);\n        this.textElem.textContent = textToShow;\n        this.container.style.display = 'grid';\n        setTimeout(() => {\n            this.container.classList.add('showing');\n        }, 1);\n\n        if (this.autoHide) {\n            const words = textToShow.split(' ').length;\n            const timeToShow = Math.max(2000, 1000 + (250 * words));\n            setTimeout(this.hide.bind(this), timeToShow);\n        }\n    }\n\n    hide() {\n        this.container.classList.remove('showing');\n        this.container.addEventListener('transitionend', this.hideCleanup);\n    }\n\n    hideCleanup() {\n        this.container.style.display = 'none';\n        this.container.removeEventListener('transitionend', this.hideCleanup);\n    }\n\n}\n", "import {onSelect} from '../services/dom';\nimport {Component} from './component';\n\nexport class OptionalInput extends Component {\n\n    setup() {\n        this.removeButton = this.$refs.remove;\n        this.showButton = this.$refs.show;\n        this.input = this.$refs.input;\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        onSelect(this.removeButton, () => {\n            this.input.value = '';\n            this.input.classList.add('hidden');\n            this.removeButton.classList.add('hidden');\n            this.showButton.classList.remove('hidden');\n        });\n\n        onSelect(this.showButton, () => {\n            this.input.classList.remove('hidden');\n            this.removeButton.classList.remove('hidden');\n            this.showButton.classList.add('hidden');\n        });\n    }\n\n}\n", "import {Component} from './component';\nimport {getLoading, htmlToDom} from '../services/dom';\n\nexport class PageComment extends Component {\n\n    setup() {\n        // Options\n        this.commentId = this.$opts.commentId;\n        this.commentLocalId = this.$opts.commentLocalId;\n        this.commentParentId = this.$opts.commentParentId;\n        this.deletedText = this.$opts.deletedText;\n        this.updatedText = this.$opts.updatedText;\n\n        // Element References\n        this.container = this.$el;\n        this.contentContainer = this.$refs.contentContainer;\n        this.form = this.$refs.form;\n        this.formCancel = this.$refs.formCancel;\n        this.editButton = this.$refs.editButton;\n        this.deleteButton = this.$refs.deleteButton;\n        this.replyButton = this.$refs.replyButton;\n        this.input = this.$refs.input;\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        if (this.replyButton) {\n            this.replyButton.addEventListener('click', () => this.$emit('reply', {\n                id: this.commentLocalId,\n                element: this.container,\n            }));\n        }\n\n        if (this.editButton) {\n            this.editButton.addEventListener('click', this.startEdit.bind(this));\n            this.form.addEventListener('submit', this.update.bind(this));\n            this.formCancel.addEventListener('click', () => this.toggleEditMode(false));\n        }\n\n        if (this.deleteButton) {\n            this.deleteButton.addEventListener('click', this.delete.bind(this));\n        }\n    }\n\n    toggleEditMode(show) {\n        this.contentContainer.toggleAttribute('hidden', show);\n        this.form.toggleAttribute('hidden', !show);\n    }\n\n    startEdit() {\n        this.toggleEditMode(true);\n        const lineCount = this.$refs.input.value.split('\\n').length;\n        this.$refs.input.style.height = `${(lineCount * 20) + 40}px`;\n    }\n\n    async update(event) {\n        event.preventDefault();\n        const loading = this.showLoading();\n        this.form.toggleAttribute('hidden', true);\n\n        const reqData = {\n            text: this.input.value,\n            parent_id: this.parentId || null,\n        };\n\n        try {\n            const resp = await window.$http.put(`/comment/${this.commentId}`, reqData);\n            const newComment = htmlToDom(resp.data);\n            this.container.replaceWith(newComment);\n            window.$events.success(this.updatedText);\n        } catch (err) {\n            console.error(err);\n            window.$events.showValidationErrors(err);\n            this.form.toggleAttribute('hidden', false);\n            loading.remove();\n        }\n    }\n\n    async delete() {\n        this.showLoading();\n\n        await window.$http.delete(`/comment/${this.commentId}`);\n        this.container.closest('.comment-branch').remove();\n        window.$events.success(this.deletedText);\n        this.$emit('delete');\n    }\n\n    showLoading() {\n        const loading = getLoading();\n        loading.classList.add('px-l');\n        this.container.append(loading);\n        return loading;\n    }\n\n}\n", "import {Component} from './component';\nimport {getLoading, htmlToDom} from '../services/dom';\n\nexport class PageComments extends Component {\n\n    setup() {\n        this.elem = this.$el;\n        this.pageId = Number(this.$opts.pageId);\n\n        // Element references\n        this.container = this.$refs.commentContainer;\n        this.commentCountBar = this.$refs.commentCountBar;\n        this.commentsTitle = this.$refs.commentsTitle;\n        this.addButtonContainer = this.$refs.addButtonContainer;\n        this.replyToRow = this.$refs.replyToRow;\n        this.formContainer = this.$refs.formContainer;\n        this.form = this.$refs.form;\n        this.formInput = this.$refs.formInput;\n        this.formReplyLink = this.$refs.formReplyLink;\n        this.addCommentButton = this.$refs.addCommentButton;\n        this.hideFormButton = this.$refs.hideFormButton;\n        this.removeReplyToButton = this.$refs.removeReplyToButton;\n\n        // Translations\n        this.createdText = this.$opts.createdText;\n        this.countText = this.$opts.countText;\n\n        // Internal State\n        this.parentId = null;\n        this.formReplyText = this.formReplyLink?.textContent || '';\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        this.elem.addEventListener('page-comment-delete', () => {\n            this.updateCount();\n            this.hideForm();\n        });\n\n        this.elem.addEventListener('page-comment-reply', event => {\n            this.setReply(event.detail.id, event.detail.element);\n        });\n\n        if (this.form) {\n            this.removeReplyToButton.addEventListener('click', this.removeReplyTo.bind(this));\n            this.hideFormButton.addEventListener('click', this.hideForm.bind(this));\n            this.addCommentButton.addEventListener('click', this.showForm.bind(this));\n            this.form.addEventListener('submit', this.saveComment.bind(this));\n        }\n    }\n\n    saveComment(event) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        const loading = getLoading();\n        loading.classList.add('px-l');\n        this.form.after(loading);\n        this.form.toggleAttribute('hidden', true);\n\n        const text = this.formInput.value;\n        const reqData = {\n            text,\n            parent_id: this.parentId || null,\n        };\n\n        window.$http.post(`/comment/${this.pageId}`, reqData).then(resp => {\n            const newElem = htmlToDom(resp.data);\n            this.formContainer.after(newElem);\n            window.$events.success(this.createdText);\n            this.hideForm();\n            this.updateCount();\n        }).catch(err => {\n            this.form.toggleAttribute('hidden', false);\n            window.$events.showValidationErrors(err);\n        });\n\n        this.form.toggleAttribute('hidden', false);\n        loading.remove();\n    }\n\n    updateCount() {\n        const count = this.getCommentCount();\n        this.commentsTitle.textContent = window.trans_plural(this.countText, count, {count});\n    }\n\n    resetForm() {\n        this.formInput.value = '';\n        this.parentId = null;\n        this.replyToRow.toggleAttribute('hidden', true);\n        this.container.append(this.formContainer);\n    }\n\n    showForm() {\n        this.formContainer.toggleAttribute('hidden', false);\n        this.addButtonContainer.toggleAttribute('hidden', true);\n        this.formContainer.scrollIntoView({behavior: 'smooth', block: 'nearest'});\n        setTimeout(() => {\n            this.formInput.focus();\n        }, 100);\n    }\n\n    hideForm() {\n        this.resetForm();\n        this.formContainer.toggleAttribute('hidden', true);\n        if (this.getCommentCount() > 0) {\n            this.elem.append(this.addButtonContainer);\n        } else {\n            this.commentCountBar.append(this.addButtonContainer);\n        }\n        this.addButtonContainer.toggleAttribute('hidden', false);\n    }\n\n    getCommentCount() {\n        return this.container.querySelectorAll('[component=\"page-comment\"]').length;\n    }\n\n    setReply(commentLocalId, commentElement) {\n        const targetFormLocation = commentElement.closest('.comment-branch').querySelector('.comment-branch-children');\n        targetFormLocation.append(this.formContainer);\n        this.showForm();\n        this.parentId = commentLocalId;\n        this.replyToRow.toggleAttribute('hidden', false);\n        this.formReplyLink.textContent = this.formReplyText.replace('1234', this.parentId);\n        this.formReplyLink.href = `#comment${this.parentId}`;\n    }\n\n    removeReplyTo() {\n        this.parentId = null;\n        this.replyToRow.toggleAttribute('hidden', true);\n        this.container.append(this.formContainer);\n        this.showForm();\n    }\n\n}\n", "import * as DOM from '../services/dom';\nimport {scrollAndHighlightElement} from '../services/util';\nimport {Component} from './component';\n\nfunction toggleAnchorHighlighting(elementId, shouldHighlight) {\n    DOM.forEach(`#page-navigation a[href=\"#${elementId}\"]`, anchor => {\n        anchor.closest('li').classList.toggle('current-heading', shouldHighlight);\n    });\n}\n\nfunction headingVisibilityChange(entries) {\n    for (const entry of entries) {\n        const isVisible = (entry.intersectionRatio === 1);\n        toggleAnchorHighlighting(entry.target.id, isVisible);\n    }\n}\n\nfunction addNavObserver(headings) {\n    // Setup the intersection observer.\n    const intersectOpts = {\n        rootMargin: '0px 0px 0px 0px',\n        threshold: 1.0,\n    };\n    const pageNavObserver = new IntersectionObserver(headingVisibilityChange, intersectOpts);\n\n    // observe each heading\n    for (const heading of headings) {\n        pageNavObserver.observe(heading);\n    }\n}\n\nexport class PageDisplay extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.pageId = this.$opts.pageId;\n\n        window.importVersioned('code').then(Code => Code.highlight());\n        this.setupNavHighlighting();\n\n        // Check the hash on load\n        if (window.location.hash) {\n            const text = window.location.hash.replace(/%20/g, ' ').substring(1);\n            this.goToText(text);\n        }\n\n        // Sidebar page nav click event\n        const sidebarPageNav = document.querySelector('.sidebar-page-nav');\n        if (sidebarPageNav) {\n            DOM.onChildEvent(sidebarPageNav, 'a', 'click', (event, child) => {\n                event.preventDefault();\n                window.$components.first('tri-layout').showContent();\n                const contentId = child.getAttribute('href').substr(1);\n                this.goToText(contentId);\n                window.history.pushState(null, null, `#${contentId}`);\n            });\n        }\n    }\n\n    goToText(text) {\n        const idElem = document.getElementById(text);\n\n        DOM.forEach('.page-content [data-highlighted]', elem => {\n            elem.removeAttribute('data-highlighted');\n            elem.style.backgroundColor = null;\n        });\n\n        if (idElem !== null) {\n            scrollAndHighlightElement(idElem);\n        } else {\n            const textElem = DOM.findText('.page-content > div > *', text);\n            if (textElem) {\n                scrollAndHighlightElement(textElem);\n            }\n        }\n    }\n\n    setupNavHighlighting() {\n        const pageNav = document.querySelector('.sidebar-page-nav');\n\n        // fetch all the headings.\n        const headings = document.querySelector('.page-content').querySelectorAll('h1, h2, h3, h4, h5, h6');\n        // if headings are present, add observers.\n        if (headings.length > 0 && pageNav !== null) {\n            addNavObserver(headings);\n        }\n    }\n\n}\n", "export function getCurrentDay() {\n    const date = new Date();\n    const month = date.getMonth() + 1;\n    const day = date.getDate();\n\n    return `${date.getFullYear()}-${(month > 9 ? '' : '0') + month}-${(day > 9 ? '' : '0') + day}`;\n}\n\nexport function utcTimeStampToLocalTime(timestamp) {\n    const date = new Date(timestamp * 1000);\n    const hours = date.getHours();\n    const mins = date.getMinutes();\n    return `${(hours > 9 ? '' : '0') + hours}:${(mins > 9 ? '' : '0') + mins}`;\n}\n\nexport function formatDateTime(date) {\n    const month = date.getMonth() + 1;\n    const day = date.getDate();\n    const hours = date.getHours();\n    const mins = date.getMinutes();\n\n    return `${date.getFullYear()}-${(month > 9 ? '' : '0') + month}-${(day > 9 ? '' : '0') + day} ${(hours > 9 ? '' : '0') + hours}:${(mins > 9 ? '' : '0') + mins}`;\n}\n", "import * as Dates from '../services/dates';\nimport {onSelect} from '../services/dom';\nimport {debounce} from '../services/util';\nimport {Component} from './component';\n\nexport class PageEditor extends Component {\n\n    setup() {\n        // Options\n        this.draftsEnabled = this.$opts.draftsEnabled === 'true';\n        this.editorType = this.$opts.editorType;\n        this.pageId = Number(this.$opts.pageId);\n        this.isNewDraft = this.$opts.pageNewDraft === 'true';\n        this.hasDefaultTitle = this.$opts.hasDefaultTitle || false;\n\n        // Elements\n        this.container = this.$el;\n        this.titleElem = this.$refs.titleContainer.querySelector('input');\n        this.saveDraftButton = this.$refs.saveDraft;\n        this.discardDraftButton = this.$refs.discardDraft;\n        this.discardDraftWrap = this.$refs.discardDraftWrap;\n        this.deleteDraftButton = this.$refs.deleteDraft;\n        this.deleteDraftWrap = this.$refs.deleteDraftWrap;\n        this.draftDisplay = this.$refs.draftDisplay;\n        this.draftDisplayIcon = this.$refs.draftDisplayIcon;\n        this.changelogInput = this.$refs.changelogInput;\n        this.changelogDisplay = this.$refs.changelogDisplay;\n        this.changeEditorButtons = this.$manyRefs.changeEditor || [];\n        this.switchDialogContainer = this.$refs.switchDialog;\n        this.deleteDraftDialogContainer = this.$refs.deleteDraftDialog;\n\n        // Translations\n        this.draftText = this.$opts.draftText;\n        this.autosaveFailText = this.$opts.autosaveFailText;\n        this.editingPageText = this.$opts.editingPageText;\n        this.draftDiscardedText = this.$opts.draftDiscardedText;\n        this.draftDeleteText = this.$opts.draftDeleteText;\n        this.draftDeleteFailText = this.$opts.draftDeleteFailText;\n        this.setChangelogText = this.$opts.setChangelogText;\n\n        // State data\n        this.autoSave = {\n            interval: null,\n            frequency: 30000,\n            last: 0,\n            pendingChange: false,\n        };\n        this.shownWarningsCache = new Set();\n\n        if (this.pageId !== 0 && this.draftsEnabled) {\n            window.setTimeout(() => {\n                this.startAutoSave();\n            }, 1000);\n        }\n        this.draftDisplay.innerHTML = this.draftText;\n\n        this.setupListeners();\n        this.setInitialFocus();\n    }\n\n    setupListeners() {\n        // Listen to save events from editor\n        window.$events.listen('editor-save-draft', this.saveDraft.bind(this));\n        window.$events.listen('editor-save-page', this.savePage.bind(this));\n\n        // Listen to content changes from the editor\n        const onContentChange = () => {\n            this.autoSave.pendingChange = true;\n        };\n        window.$events.listen('editor-html-change', onContentChange);\n        window.$events.listen('editor-markdown-change', onContentChange);\n\n        // Listen to changes on the title input\n        this.titleElem.addEventListener('input', onContentChange);\n\n        // Changelog controls\n        const updateChangelogDebounced = debounce(this.updateChangelogDisplay.bind(this), 300, false);\n        this.changelogInput.addEventListener('input', updateChangelogDebounced);\n\n        // Draft Controls\n        onSelect(this.saveDraftButton, this.saveDraft.bind(this));\n        onSelect(this.discardDraftButton, this.discardDraft.bind(this));\n        onSelect(this.deleteDraftButton, this.deleteDraft.bind(this));\n\n        // Change editor controls\n        onSelect(this.changeEditorButtons, this.changeEditor.bind(this));\n    }\n\n    setInitialFocus() {\n        if (this.hasDefaultTitle) {\n            this.titleElem.select();\n            return;\n        }\n\n        window.setTimeout(() => {\n            window.$events.emit('editor::focus', '');\n        }, 500);\n    }\n\n    startAutoSave() {\n        this.autoSave.interval = window.setInterval(this.runAutoSave.bind(this), this.autoSave.frequency);\n    }\n\n    runAutoSave() {\n        // Stop if manually saved recently to prevent bombarding the server\n        const savedRecently = (Date.now() - this.autoSave.last < (this.autoSave.frequency) / 2);\n        if (savedRecently || !this.autoSave.pendingChange) {\n            return;\n        }\n\n        this.saveDraft();\n    }\n\n    savePage() {\n        this.container.closest('form').submit();\n    }\n\n    async saveDraft() {\n        const data = {name: this.titleElem.value.trim()};\n\n        const editorContent = this.getEditorComponent().getContent();\n        Object.assign(data, editorContent);\n\n        let didSave = false;\n        try {\n            const resp = await window.$http.put(`/ajax/page/${this.pageId}/save-draft`, data);\n            if (!this.isNewDraft) {\n                this.discardDraftWrap.toggleAttribute('hidden', false);\n                this.deleteDraftWrap.toggleAttribute('hidden', false);\n            }\n\n            this.draftNotifyChange(`${resp.data.message} ${Dates.utcTimeStampToLocalTime(resp.data.timestamp)}`);\n            this.autoSave.last = Date.now();\n            if (resp.data.warning && !this.shownWarningsCache.has(resp.data.warning)) {\n                window.$events.emit('warning', resp.data.warning);\n                this.shownWarningsCache.add(resp.data.warning);\n            }\n\n            didSave = true;\n            this.autoSave.pendingChange = false;\n        } catch (err) {\n            // Save the editor content in LocalStorage as a last resort, just in case.\n            try {\n                const saveKey = `draft-save-fail-${(new Date()).toISOString()}`;\n                window.localStorage.setItem(saveKey, JSON.stringify(data));\n            } catch (lsErr) {\n                console.error(lsErr);\n            }\n\n            window.$events.emit('error', this.autosaveFailText);\n        }\n\n        return didSave;\n    }\n\n    draftNotifyChange(text) {\n        this.draftDisplay.innerText = text;\n        this.draftDisplayIcon.classList.add('visible');\n        window.setTimeout(() => {\n            this.draftDisplayIcon.classList.remove('visible');\n        }, 2000);\n    }\n\n    async discardDraft(notify = true) {\n        let response;\n        try {\n            response = await window.$http.get(`/ajax/page/${this.pageId}`);\n        } catch (e) {\n            console.error(e);\n            return;\n        }\n\n        if (this.autoSave.interval) {\n            window.clearInterval(this.autoSave.interval);\n        }\n\n        this.draftDisplay.innerText = this.editingPageText;\n        this.discardDraftWrap.toggleAttribute('hidden', true);\n        window.$events.emit('editor::replace', {\n            html: response.data.html,\n            markdown: response.data.markdown,\n        });\n\n        this.titleElem.value = response.data.name;\n        window.setTimeout(() => {\n            this.startAutoSave();\n        }, 1000);\n\n        if (notify) {\n            window.$events.success(this.draftDiscardedText);\n        }\n    }\n\n    async deleteDraft() {\n        /** @var {ConfirmDialog} * */\n        const dialog = window.$components.firstOnElement(this.deleteDraftDialogContainer, 'confirm-dialog');\n        const confirmed = await dialog.show();\n        if (!confirmed) {\n            return;\n        }\n\n        try {\n            const discard = this.discardDraft(false);\n            const draftDelete = window.$http.delete(`/page-revisions/user-drafts/${this.pageId}`);\n            await Promise.all([discard, draftDelete]);\n            window.$events.success(this.draftDeleteText);\n            this.deleteDraftWrap.toggleAttribute('hidden', true);\n        } catch (err) {\n            console.error(err);\n            window.$events.error(this.draftDeleteFailText);\n        }\n    }\n\n    updateChangelogDisplay() {\n        let summary = this.changelogInput.value.trim();\n        if (summary.length === 0) {\n            summary = this.setChangelogText;\n        } else if (summary.length > 16) {\n            summary = `${summary.slice(0, 16)}...`;\n        }\n        this.changelogDisplay.innerText = summary;\n    }\n\n    async changeEditor(event) {\n        event.preventDefault();\n\n        const link = event.target.closest('a').href;\n        /** @var {ConfirmDialog} * */\n        const dialog = window.$components.firstOnElement(this.switchDialogContainer, 'confirm-dialog');\n        const [saved, confirmed] = await Promise.all([this.saveDraft(), dialog.show()]);\n\n        if (saved && confirmed) {\n            window.location = link;\n        }\n    }\n\n    /**\n     * @return MarkdownEditor|WysiwygEditor\n     */\n    getEditorComponent() {\n        return window.$components.first('markdown-editor') || window.$components.first('wysiwyg-editor');\n    }\n\n}\n", "import {Component} from './component';\n\nfunction toggleElem(elem, show) {\n    elem.style.display = show ? null : 'none';\n}\n\nexport class PagePicker extends Component {\n\n    setup() {\n        this.input = this.$refs.input;\n        this.resetButton = this.$refs.resetButton;\n        this.selectButton = this.$refs.selectButton;\n        this.display = this.$refs.display;\n        this.defaultDisplay = this.$refs.defaultDisplay;\n        this.buttonSep = this.$refs.buttonSeperator;\n\n        this.value = this.input.value;\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        this.selectButton.addEventListener('click', this.showPopup.bind(this));\n        this.display.parentElement.addEventListener('click', this.showPopup.bind(this));\n\n        this.resetButton.addEventListener('click', () => {\n            this.setValue('', '');\n        });\n    }\n\n    showPopup() {\n        /** @type {EntitySelectorPopup} * */\n        const selectorPopup = window.$components.first('entity-selector-popup');\n        selectorPopup.show(entity => {\n            this.setValue(entity.id, entity.name);\n        });\n    }\n\n    setValue(value, name) {\n        this.value = value;\n        this.input.value = value;\n        this.controlView(name);\n    }\n\n    controlView(name) {\n        const hasValue = this.value && this.value !== 0;\n        toggleElem(this.resetButton, hasValue);\n        toggleElem(this.buttonSep, hasValue);\n        toggleElem(this.defaultDisplay, !hasValue);\n        toggleElem(this.display, hasValue);\n        if (hasValue) {\n            const id = this.getAssetIdFromVal();\n            this.display.textContent = `#${id}, ${name}`;\n            this.display.href = window.baseUrl(`/link/${id}`);\n        }\n    }\n\n    getAssetIdFromVal() {\n        return Number(this.value);\n    }\n\n}\n", "import {Component} from './component';\n\nexport class PermissionsTable extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.cellSelector = this.$opts.cellSelector || 'td,th';\n        this.rowSelector = this.$opts.rowSelector || 'tr';\n\n        // Handle toggle all event\n        for (const toggleAllElem of (this.$manyRefs.toggleAll || [])) {\n            toggleAllElem.addEventListener('click', this.toggleAllClick.bind(this));\n        }\n\n        // Handle toggle row event\n        for (const toggleRowElem of (this.$manyRefs.toggleRow || [])) {\n            toggleRowElem.addEventListener('click', this.toggleRowClick.bind(this));\n        }\n\n        // Handle toggle column event\n        for (const toggleColElem of (this.$manyRefs.toggleColumn || [])) {\n            toggleColElem.addEventListener('click', this.toggleColumnClick.bind(this));\n        }\n    }\n\n    toggleAllClick(event) {\n        event.preventDefault();\n        this.toggleAllInElement(this.container);\n    }\n\n    toggleRowClick(event) {\n        event.preventDefault();\n        this.toggleAllInElement(event.target.closest(this.rowSelector));\n    }\n\n    toggleColumnClick(event) {\n        event.preventDefault();\n\n        const tableCell = event.target.closest(this.cellSelector);\n        const colIndex = Array.from(tableCell.parentElement.children).indexOf(tableCell);\n        const tableRows = this.container.querySelectorAll(this.rowSelector);\n        const inputsToToggle = [];\n\n        for (const row of tableRows) {\n            const targetCell = row.children[colIndex];\n            if (targetCell) {\n                inputsToToggle.push(...targetCell.querySelectorAll('input[type=checkbox]'));\n            }\n        }\n        this.toggleAllInputs(inputsToToggle);\n    }\n\n    toggleAllInElement(domElem) {\n        const inputsToToggle = domElem.querySelectorAll('input[type=checkbox]');\n        this.toggleAllInputs(inputsToToggle);\n    }\n\n    toggleAllInputs(inputsToToggle) {\n        const currentState = inputsToToggle.length > 0 ? inputsToToggle[0].checked : false;\n        for (const checkbox of inputsToToggle) {\n            checkbox.checked = !currentState;\n            checkbox.dispatchEvent(new Event('change'));\n        }\n    }\n\n}\n", "import * as DOM from '../services/dom';\nimport {Component} from './component';\nimport {copyTextToClipboard} from '../services/clipboard';\n\nexport class Pointer extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.pointer = this.$refs.pointer;\n        this.linkInput = this.$refs.linkInput;\n        this.linkButton = this.$refs.linkButton;\n        this.includeInput = this.$refs.includeInput;\n        this.includeButton = this.$refs.includeButton;\n        this.sectionModeButton = this.$refs.sectionModeButton;\n        this.modeToggles = this.$manyRefs.modeToggle;\n        this.modeSections = this.$manyRefs.modeSection;\n        this.pageId = this.$opts.pageId;\n\n        // Instance variables\n        this.showing = false;\n        this.isSelection = false;\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        // Copy on copy button click\n        this.includeButton.addEventListener('click', () => copyTextToClipboard(this.includeInput.value));\n        this.linkButton.addEventListener('click', () => copyTextToClipboard(this.linkInput.value));\n\n        // Select all contents on input click\n        DOM.onSelect([this.includeInput, this.linkInput], event => {\n            event.target.select();\n            event.stopPropagation();\n        });\n\n        // Prevent closing pointer when clicked or focused\n        DOM.onEvents(this.pointer, ['click', 'focus'], event => {\n            event.stopPropagation();\n        });\n\n        // Hide pointer when clicking away\n        DOM.onEvents(document.body, ['click', 'focus'], () => {\n            if (!this.showing || this.isSelection) return;\n            this.hidePointer();\n        });\n\n        // Hide pointer on escape press\n        DOM.onEscapePress(this.pointer, this.hidePointer.bind(this));\n\n        // Show pointer when selecting a single block of tagged content\n        const pageContent = document.querySelector('.page-content');\n        DOM.onEvents(pageContent, ['mouseup', 'keyup'], event => {\n            event.stopPropagation();\n            const targetEl = event.target.closest('[id^=\"bkmrk\"]');\n            if (targetEl && window.getSelection().toString().length > 0) {\n                this.showPointerAtTarget(targetEl, event.pageX, false);\n            }\n        });\n\n        // Start section selection mode on button press\n        DOM.onSelect(this.sectionModeButton, this.enterSectionSelectMode.bind(this));\n\n        // Toggle between pointer modes\n        DOM.onSelect(this.modeToggles, event => {\n            for (const section of this.modeSections) {\n                const show = !section.contains(event.target);\n                section.toggleAttribute('hidden', !show);\n            }\n\n            this.modeToggles.find(b => b !== event.target).focus();\n        });\n    }\n\n    hidePointer() {\n        this.pointer.style.display = null;\n        this.showing = false;\n    }\n\n    /**\n     * Move and display the pointer at the given element, targeting the given screen x-position if possible.\n     * @param {Element} element\n     * @param {Number} xPosition\n     * @param {Boolean} keyboardMode\n     */\n    showPointerAtTarget(element, xPosition, keyboardMode) {\n        this.updateForTarget(element);\n\n        this.pointer.style.display = 'block';\n        const targetBounds = element.getBoundingClientRect();\n        const pointerBounds = this.pointer.getBoundingClientRect();\n\n        const xTarget = Math.min(Math.max(xPosition, targetBounds.left), targetBounds.right);\n        const xOffset = xTarget - (pointerBounds.width / 2);\n        const yOffset = (targetBounds.top - pointerBounds.height) - 16;\n\n        this.pointer.style.left = `${xOffset}px`;\n        this.pointer.style.top = `${yOffset}px`;\n\n        this.showing = true;\n        this.isSelection = true;\n\n        setTimeout(() => {\n            this.isSelection = false;\n        }, 100);\n\n        const scrollListener = () => {\n            this.hidePointer();\n            window.removeEventListener('scroll', scrollListener, {passive: true});\n        };\n\n        element.parentElement.insertBefore(this.pointer, element);\n        if (!keyboardMode) {\n            window.addEventListener('scroll', scrollListener, {passive: true});\n        }\n    }\n\n    /**\n     * Update the pointer inputs/content for the given target element.\n     * @param {?Element} element\n     */\n    updateForTarget(element) {\n        const permaLink = window.baseUrl(`/link/${this.pageId}#${element.id}`);\n        const includeTag = `{{@${this.pageId}#${element.id}}}`;\n\n        this.linkInput.value = permaLink;\n        this.includeInput.value = includeTag;\n\n        // Update anchor if present\n        const editAnchor = this.pointer.querySelector('#pointer-edit');\n        if (editAnchor && element) {\n            const {editHref} = editAnchor.dataset;\n            const elementId = element.id;\n\n            // Get the first 50 characters.\n            const queryContent = element.textContent && element.textContent.substring(0, 50);\n            editAnchor.href = `${editHref}?content-id=${elementId}&content-text=${encodeURIComponent(queryContent)}`;\n        }\n    }\n\n    enterSectionSelectMode() {\n        const sections = Array.from(document.querySelectorAll('.page-content [id^=\"bkmrk\"]'));\n        for (const section of sections) {\n            section.setAttribute('tabindex', '0');\n        }\n\n        sections[0].focus();\n\n        DOM.onEnterPress(sections, event => {\n            this.showPointerAtTarget(event.target, 0, true);\n            this.pointer.focus();\n        });\n    }\n\n}\n", "import {fadeIn, fadeOut} from '../services/animations';\nimport {onSelect} from '../services/dom';\nimport {Component} from './component';\n\n/**\n * Popup window that will contain other content.\n * This component provides the show/hide functionality\n * with the ability for popup@hide child references to close this.\n */\nexport class Popup extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.hideButtons = this.$manyRefs.hide || [];\n\n        this.onkeyup = null;\n        this.onHide = null;\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        let lastMouseDownTarget = null;\n        this.container.addEventListener('mousedown', event => {\n            lastMouseDownTarget = event.target;\n        });\n\n        this.container.addEventListener('click', event => {\n            if (event.target === this.container && lastMouseDownTarget === this.container) {\n                this.hide();\n            }\n        });\n\n        onSelect(this.hideButtons, () => this.hide());\n    }\n\n    hide(onComplete = null) {\n        fadeOut(this.container, 120, onComplete);\n        if (this.onkeyup) {\n            window.removeEventListener('keyup', this.onkeyup);\n            this.onkeyup = null;\n        }\n        if (this.onHide) {\n            this.onHide();\n        }\n    }\n\n    show(onComplete = null, onHide = null) {\n        fadeIn(this.container, 120, onComplete);\n\n        this.onkeyup = event => {\n            if (event.key === 'Escape') {\n                this.hide();\n            }\n        };\n        window.addEventListener('keyup', this.onkeyup);\n        this.onHide = onHide;\n    }\n\n}\n", "import {Component} from './component';\n\nexport class SettingAppColorScheme extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.mode = this.$opts.mode;\n        this.lightContainer = this.$refs.lightContainer;\n        this.darkContainer = this.$refs.darkContainer;\n\n        this.container.addEventListener('tabs-change', event => {\n            const panel = event.detail.showing;\n            const newMode = (panel === 'color-scheme-panel-light') ? 'light' : 'dark';\n            this.handleModeChange(newMode);\n        });\n\n        const onInputChange = event => {\n            this.updateAppColorsFromInputs();\n\n            if (event.target.name.startsWith('setting-app-color')) {\n                this.updateLightForInput(event.target);\n            }\n        };\n        this.container.addEventListener('change', onInputChange);\n        this.container.addEventListener('input', onInputChange);\n    }\n\n    handleModeChange(newMode) {\n        this.mode = newMode;\n        const isDark = (newMode === 'dark');\n\n        document.documentElement.classList.toggle('dark-mode', isDark);\n        this.updateAppColorsFromInputs();\n    }\n\n    updateAppColorsFromInputs() {\n        const inputContainer = this.mode === 'dark' ? this.darkContainer : this.lightContainer;\n        const inputs = inputContainer.querySelectorAll('input[type=\"color\"]');\n        for (const input of inputs) {\n            const splitName = input.name.split('-');\n            const colorPos = splitName.indexOf('color');\n            let cssId = splitName.slice(1, colorPos).join('-');\n            if (cssId === 'app') {\n                cssId = 'primary';\n            }\n\n            const varName = `--color-${cssId}`;\n            document.body.style.setProperty(varName, input.value);\n        }\n    }\n\n    /**\n     * Update the 'light' app color variant for the given input.\n     * @param {HTMLInputElement} input\n     */\n    updateLightForInput(input) {\n        const lightName = input.name.replace('-color', '-color-light');\n        const hexVal = input.value;\n        const rgb = this.hexToRgb(hexVal);\n        const rgbLightVal = `rgba(${[rgb.r, rgb.g, rgb.b, '0.15'].join(',')})`;\n\n        const lightColorInput = this.container.querySelector(`input[name=\"${lightName}\"][type=\"hidden\"]`);\n        lightColorInput.value = rgbLightVal;\n    }\n\n    /**\n     * Covert a hex color code to rgb components.\n     * @attribution https://stackoverflow.com/a/5624139\n     * @param {String} hex\n     * @returns {{r: Number, g: Number, b: Number}}\n     */\n    hexToRgb(hex) {\n        const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        return {\n            r: result ? parseInt(result[1], 16) : 0,\n            g: result ? parseInt(result[2], 16) : 0,\n            b: result ? parseInt(result[3], 16) : 0,\n        };\n    }\n\n}\n", "import {Component} from './component';\n\nexport class SettingColorPicker extends Component {\n\n    setup() {\n        this.colorInput = this.$refs.input;\n        this.resetButton = this.$refs.resetButton;\n        this.defaultButton = this.$refs.defaultButton;\n        this.currentColor = this.$opts.current;\n        this.defaultColor = this.$opts.default;\n\n        this.resetButton.addEventListener('click', () => this.setValue(this.currentColor));\n        this.defaultButton.addEventListener('click', () => this.setValue(this.defaultColor));\n    }\n\n    setValue(value) {\n        this.colorInput.value = value;\n        this.colorInput.dispatchEvent(new Event('change', {bubbles: true}));\n    }\n\n}\n", "import {Component} from './component';\n\nexport class SettingHomepageControl extends Component {\n\n    setup() {\n        this.typeControl = this.$refs.typeControl;\n        this.pagePickerContainer = this.$refs.pagePickerContainer;\n\n        this.typeControl.addEventListener('change', this.controlPagePickerVisibility.bind(this));\n        this.controlPagePickerVisibility();\n    }\n\n    controlPagePickerVisibility() {\n        const showPagePicker = this.typeControl.value === 'page';\n        this.pagePickerContainer.style.display = (showPagePicker ? 'block' : 'none');\n    }\n\n}\n", "import Sortable from 'sortablejs';\nimport {Component} from './component';\n\n/**\n * @type {Object<string, function(HTMLElement, HTMLElement, HTMLElement)>}\n */\nconst itemActions = {\n    move_up(item) {\n        const list = item.parentNode;\n        const index = Array.from(list.children).indexOf(item);\n        const newIndex = Math.max(index - 1, 0);\n        list.insertBefore(item, list.children[newIndex] || null);\n    },\n    move_down(item) {\n        const list = item.parentNode;\n        const index = Array.from(list.children).indexOf(item);\n        const newIndex = Math.min(index + 2, list.children.length);\n        list.insertBefore(item, list.children[newIndex] || null);\n    },\n    remove(item, shelfBooksList, allBooksList) {\n        allBooksList.appendChild(item);\n    },\n    add(item, shelfBooksList) {\n        shelfBooksList.appendChild(item);\n    },\n};\n\nexport class ShelfSort extends Component {\n\n    setup() {\n        this.elem = this.$el;\n        this.input = this.$refs.input;\n        this.shelfBookList = this.$refs.shelfBookList;\n        this.allBookList = this.$refs.allBookList;\n        this.bookSearchInput = this.$refs.bookSearch;\n        this.sortButtonContainer = this.$refs.sortButtonContainer;\n\n        this.lastSort = null;\n\n        this.initSortable();\n        this.setupListeners();\n    }\n\n    initSortable() {\n        const scrollBoxes = this.elem.querySelectorAll('.scroll-box');\n        for (const scrollBox of scrollBoxes) {\n            new Sortable(scrollBox, {\n                group: 'shelf-books',\n                ghostClass: 'primary-background-light',\n                handle: '.handle',\n                animation: 150,\n                onSort: this.onChange.bind(this),\n            });\n        }\n    }\n\n    setupListeners() {\n        this.elem.addEventListener('click', event => {\n            const sortItemAction = event.target.closest('.scroll-box-item button[data-action]');\n            if (sortItemAction) {\n                this.sortItemActionClick(sortItemAction);\n            }\n        });\n\n        this.bookSearchInput.addEventListener('input', () => {\n            this.filterBooksByName(this.bookSearchInput.value);\n        });\n\n        this.sortButtonContainer.addEventListener('click', event => {\n            const button = event.target.closest('button[data-sort]');\n            if (button) {\n                this.sortShelfBooks(button.dataset.sort);\n            }\n        });\n    }\n\n    /**\n     * @param {String} filterVal\n     */\n    filterBooksByName(filterVal) {\n        // Set height on first search, if not already set, to prevent the distraction\n        // of the list height jumping around\n        if (!this.allBookList.style.height) {\n            this.allBookList.style.height = `${this.allBookList.getBoundingClientRect().height}px`;\n        }\n\n        const books = this.allBookList.children;\n        const lowerFilter = filterVal.trim().toLowerCase();\n\n        for (const bookEl of books) {\n            const show = !filterVal || bookEl.textContent.toLowerCase().includes(lowerFilter);\n            bookEl.style.display = show ? null : 'none';\n        }\n    }\n\n    /**\n     * Called when a sort item action button is clicked.\n     * @param {HTMLElement} sortItemAction\n     */\n    sortItemActionClick(sortItemAction) {\n        const sortItem = sortItemAction.closest('.scroll-box-item');\n        const {action} = sortItemAction.dataset;\n\n        const actionFunction = itemActions[action];\n        actionFunction(sortItem, this.shelfBookList, this.allBookList);\n\n        this.onChange();\n    }\n\n    onChange() {\n        const shelfBookElems = Array.from(this.shelfBookList.querySelectorAll('[data-id]'));\n        this.input.value = shelfBookElems.map(elem => elem.getAttribute('data-id')).join(',');\n    }\n\n    sortShelfBooks(sortProperty) {\n        const books = Array.from(this.shelfBookList.children);\n        const reverse = sortProperty === this.lastSort;\n\n        books.sort((bookA, bookB) => {\n            const aProp = bookA.dataset[sortProperty].toLowerCase();\n            const bProp = bookB.dataset[sortProperty].toLowerCase();\n\n            if (reverse) {\n                return bProp.localeCompare(aProp);\n            }\n\n            return aProp.localeCompare(bProp);\n        });\n\n        for (const book of books) {\n            this.shelfBookList.append(book);\n        }\n\n        this.lastSort = (this.lastSort === sortProperty) ? null : sortProperty;\n        this.onChange();\n    }\n\n}\n", "import {Component} from './component';\n\nfunction reverseMap(map) {\n    const reversed = {};\n    for (const [key, value] of Object.entries(map)) {\n        reversed[value] = key;\n    }\n    return reversed;\n}\n\nexport class Shortcuts extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.mapById = JSON.parse(this.$opts.keyMap);\n        this.mapByShortcut = reverseMap(this.mapById);\n\n        this.hintsShowing = false;\n\n        this.hideHints = this.hideHints.bind(this);\n        this.hintAbortController = null;\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        window.addEventListener('keydown', event => {\n            if (event.target.closest('input, select, textarea, .cm-editor')) {\n                return;\n            }\n\n            if (event.key === '?') {\n                if (this.hintsShowing) {\n                    this.hideHints();\n                } else {\n                    this.showHints();\n                }\n                return;\n            }\n\n            this.handleShortcutPress(event);\n        });\n    }\n\n    /**\n     * @param {KeyboardEvent} event\n     */\n    handleShortcutPress(event) {\n        const keys = [\n            event.ctrlKey ? 'Ctrl' : '',\n            event.metaKey ? 'Cmd' : '',\n            event.key,\n        ];\n\n        const combo = keys.filter(s => Boolean(s)).join(' + ');\n\n        const shortcutId = this.mapByShortcut[combo];\n        if (shortcutId) {\n            const wasHandled = this.runShortcut(shortcutId);\n            if (wasHandled) {\n                event.preventDefault();\n            }\n        }\n    }\n\n    /**\n     * Run the given shortcut, and return a boolean to indicate if the event\n     * was successfully handled by a shortcut action.\n     * @param {String} id\n     * @return {boolean}\n     */\n    runShortcut(id) {\n        const el = this.container.querySelector(`[data-shortcut=\"${id}\"]`);\n        if (!el) {\n            return false;\n        }\n\n        if (el.matches('input, textarea, select')) {\n            el.focus();\n            return true;\n        }\n\n        if (el.matches('a, button')) {\n            el.click();\n            return true;\n        }\n\n        if (el.matches('div[tabindex]')) {\n            el.click();\n            el.focus();\n            return true;\n        }\n\n        console.error('Shortcut attempted to be ran for element type that does not have handling setup', el);\n\n        return false;\n    }\n\n    showHints() {\n        const wrapper = document.createElement('div');\n        wrapper.classList.add('shortcut-container');\n        this.container.append(wrapper);\n\n        const shortcutEls = this.container.querySelectorAll('[data-shortcut]');\n        const displayedIds = new Set();\n        for (const shortcutEl of shortcutEls) {\n            const id = shortcutEl.getAttribute('data-shortcut');\n            if (displayedIds.has(id)) {\n                continue;\n            }\n\n            const key = this.mapById[id];\n            this.showHintLabel(shortcutEl, key, wrapper);\n            displayedIds.add(id);\n        }\n\n        this.hintAbortController = new AbortController();\n        const signal = this.hintAbortController.signal;\n        window.addEventListener('scroll', this.hideHints, {signal});\n        window.addEventListener('focus', this.hideHints, {signal});\n        window.addEventListener('blur', this.hideHints, {signal});\n        window.addEventListener('click', this.hideHints, {signal});\n\n        this.hintsShowing = true;\n    }\n\n    /**\n     * @param {Element} targetEl\n     * @param {String} key\n     * @param {Element} wrapper\n     */\n    showHintLabel(targetEl, key, wrapper) {\n        const targetBounds = targetEl.getBoundingClientRect();\n\n        const label = document.createElement('div');\n        label.classList.add('shortcut-hint');\n        label.textContent = key;\n\n        const linkage = document.createElement('div');\n        linkage.classList.add('shortcut-linkage');\n        linkage.style.left = `${targetBounds.x}px`;\n        linkage.style.top = `${targetBounds.y}px`;\n        linkage.style.width = `${targetBounds.width}px`;\n        linkage.style.height = `${targetBounds.height}px`;\n\n        wrapper.append(label, linkage);\n\n        const labelBounds = label.getBoundingClientRect();\n\n        label.style.insetInlineStart = `${((targetBounds.x + targetBounds.width) - (labelBounds.width + 6))}px`;\n        label.style.insetBlockStart = `${(targetBounds.y + (targetBounds.height - labelBounds.height) / 2)}px`;\n    }\n\n    hideHints() {\n        const wrapper = this.container.querySelector('.shortcut-container');\n        wrapper.remove();\n        this.hintAbortController?.abort();\n        this.hintsShowing = false;\n    }\n\n}\n", "import {Component} from './component';\n\n/**\n * Keys to ignore when recording shortcuts.\n * @type {string[]}\n */\nconst ignoreKeys = ['Control', 'Alt', 'Shift', 'Meta', 'Super', ' ', '+', 'Tab', 'Escape'];\n\nexport class ShortcutInput extends Component {\n\n    setup() {\n        this.input = this.$el;\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        this.listenerRecordKey = this.listenerRecordKey.bind(this);\n\n        this.input.addEventListener('focus', () => {\n            this.startListeningForInput();\n        });\n\n        this.input.addEventListener('blur', () => {\n            this.stopListeningForInput();\n        });\n    }\n\n    startListeningForInput() {\n        this.input.addEventListener('keydown', this.listenerRecordKey);\n    }\n\n    /**\n     * @param {KeyboardEvent} event\n     */\n    listenerRecordKey(event) {\n        if (ignoreKeys.includes(event.key)) {\n            return;\n        }\n\n        const keys = [\n            event.ctrlKey ? 'Ctrl' : '',\n            event.metaKey ? 'Cmd' : '',\n            event.key,\n        ];\n\n        this.input.value = keys.filter(s => Boolean(s)).join(' + ');\n    }\n\n    stopListeningForInput() {\n        this.input.removeEventListener('keydown', this.listenerRecordKey);\n    }\n\n}\n", "import Sortable from 'sortablejs';\nimport {Component} from './component';\n\n/**\n * SortableList\n *\n * Can have data set on the dragged items by setting a 'data-drag-content' attribute.\n * This attribute must contain JSON where the keys are content types and the values are\n * the data to set on the data-transfer.\n */\nexport class SortableList extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.handleSelector = this.$opts.handleSelector;\n\n        const sortable = new Sortable(this.container, {\n            handle: this.handleSelector,\n            animation: 150,\n            onSort: () => {\n                this.$emit('sort', {ids: sortable.toArray()});\n            },\n            setData(dataTransferItem, dragEl) {\n                const jsonContent = dragEl.getAttribute('data-drag-content');\n                if (jsonContent) {\n                    const contentByType = JSON.parse(jsonContent);\n                    for (const [type, content] of Object.entries(contentByType)) {\n                        dataTransferItem.setData(type, content);\n                    }\n                }\n            },\n            revertOnSpill: true,\n            dropBubble: true,\n            dragoverBubble: false,\n        });\n    }\n\n}\n", "import {Component} from './component';\n\n/**\n * Submit on change\n * Simply submits a parent form when this input is changed.\n */\nexport class SubmitOnChange extends Component {\n\n    setup() {\n        this.filter = this.$opts.filter;\n\n        this.$el.addEventListener('change', event => {\n            if (this.filter && !event.target.matches(this.filter)) {\n                return;\n            }\n\n            const form = this.$el.closest('form');\n            if (form) {\n                form.submit();\n            }\n        });\n    }\n\n}\n", "import {Component} from './component';\n\n/**\n * Tabs\n * Uses accessible attributes to drive its functionality.\n * On tab wrapping element:\n * - role=tablist\n * On tabs (Should be a button):\n * - id\n * - role=tab\n * - aria-selected=true/false\n * - aria-controls=<id-of-panel-section>\n * On panels:\n * - id\n * - tabindex=0\n * - role=tabpanel\n * - aria-labelledby=<id-of-tab-for-panel>\n * - hidden (If not shown by default).\n */\nexport class Tabs extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.tabList = this.container.querySelector('[role=\"tablist\"]');\n        this.tabs = Array.from(this.tabList.querySelectorAll('[role=\"tab\"]'));\n        this.panels = Array.from(this.container.querySelectorAll(':scope > [role=\"tabpanel\"], :scope > * > [role=\"tabpanel\"]'));\n        this.activeUnder = this.$opts.activeUnder ? Number(this.$opts.activeUnder) : 10000;\n        this.active = null;\n\n        this.container.addEventListener('click', event => {\n            const tab = event.target.closest('[role=\"tab\"]');\n            if (tab && this.tabs.includes(tab)) {\n                this.show(tab.getAttribute('aria-controls'));\n            }\n        });\n\n        window.addEventListener('resize', this.updateActiveState.bind(this), {\n            passive: true,\n        });\n        this.updateActiveState();\n    }\n\n    show(sectionId) {\n        for (const panel of this.panels) {\n            panel.toggleAttribute('hidden', panel.id !== sectionId);\n        }\n\n        for (const tab of this.tabs) {\n            const tabSection = tab.getAttribute('aria-controls');\n            const selected = tabSection === sectionId;\n            tab.setAttribute('aria-selected', selected ? 'true' : 'false');\n        }\n\n        this.$emit('change', {showing: sectionId});\n    }\n\n    updateActiveState() {\n        const active = window.innerWidth < this.activeUnder;\n        if (active === this.active) {\n            return;\n        }\n\n        if (active) {\n            this.activate();\n        } else {\n            this.deactivate();\n        }\n\n        this.active = active;\n    }\n\n    activate() {\n        const panelToShow = this.panels.find(p => !p.hasAttribute('hidden')) || this.panels[0];\n        this.show(panelToShow.id);\n        this.tabList.toggleAttribute('hidden', false);\n    }\n\n    deactivate() {\n        for (const panel of this.panels) {\n            panel.removeAttribute('hidden');\n        }\n        for (const tab of this.tabs) {\n            tab.setAttribute('aria-selected', 'false');\n        }\n        this.tabList.toggleAttribute('hidden', true);\n    }\n\n}\n", "import {Component} from './component';\n\nexport class TagManager extends Component {\n\n    setup() {\n        this.addRemoveComponentEl = this.$refs.addRemove;\n        this.container = this.$el;\n        this.rowSelector = this.$opts.rowSelector;\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        this.container.addEventListener('input', event => {\n            /** @var {AddRemoveRows} * */\n            const addRemoveComponent = window.$components.firstOnElement(this.addRemoveComponentEl, 'add-remove-rows');\n            if (!this.hasEmptyRows() && event.target.value) {\n                addRemoveComponent.add();\n            }\n        });\n    }\n\n    hasEmptyRows() {\n        const rows = this.container.querySelectorAll(this.rowSelector);\n        const firstEmpty = [...rows].find(row => [...row.querySelectorAll('input')].filter(input => input.value).length === 0);\n        return firstEmpty !== undefined;\n    }\n\n}\n", "import * as DOM from '../services/dom';\nimport {Component} from './component';\n\nexport class TemplateManager extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.list = this.$refs.list;\n\n        this.searchInput = this.$refs.searchInput;\n        this.searchButton = this.$refs.searchButton;\n        this.searchCancel = this.$refs.searchCancel;\n\n        this.setupListeners();\n    }\n\n    setupListeners() {\n        // Template insert action buttons\n        DOM.onChildEvent(this.container, '[template-action]', 'click', this.handleTemplateActionClick.bind(this));\n\n        // Template list pagination click\n        DOM.onChildEvent(this.container, '.pagination a', 'click', this.handlePaginationClick.bind(this));\n\n        // Template list item content click\n        DOM.onChildEvent(this.container, '.template-item-content', 'click', this.handleTemplateItemClick.bind(this));\n\n        // Template list item drag start\n        DOM.onChildEvent(this.container, '.template-item', 'dragstart', this.handleTemplateItemDragStart.bind(this));\n\n        // Search box enter press\n        this.searchInput.addEventListener('keypress', event => {\n            if (event.key === 'Enter') {\n                event.preventDefault();\n                this.performSearch();\n            }\n        });\n\n        // Search submit button press\n        this.searchButton.addEventListener('click', () => this.performSearch());\n\n        // Search cancel button press\n        this.searchCancel.addEventListener('click', () => {\n            this.searchInput.value = '';\n            this.performSearch();\n        });\n    }\n\n    handleTemplateItemClick(event, templateItem) {\n        const templateId = templateItem.closest('[template-id]').getAttribute('template-id');\n        this.insertTemplate(templateId, 'replace');\n    }\n\n    handleTemplateItemDragStart(event, templateItem) {\n        const templateId = templateItem.closest('[template-id]').getAttribute('template-id');\n        event.dataTransfer.setData('bookstack/template', templateId);\n        event.dataTransfer.setData('text/plain', templateId);\n    }\n\n    handleTemplateActionClick(event, actionButton) {\n        event.stopPropagation();\n\n        const action = actionButton.getAttribute('template-action');\n        const templateId = actionButton.closest('[template-id]').getAttribute('template-id');\n        this.insertTemplate(templateId, action);\n    }\n\n    async insertTemplate(templateId, action = 'replace') {\n        const resp = await window.$http.get(`/templates/${templateId}`);\n        const eventName = `editor::${action}`;\n        window.$events.emit(eventName, resp.data);\n    }\n\n    async handlePaginationClick(event, paginationLink) {\n        event.preventDefault();\n        const paginationUrl = paginationLink.getAttribute('href');\n        const resp = await window.$http.get(paginationUrl);\n        this.list.innerHTML = resp.data;\n    }\n\n    async performSearch() {\n        const searchTerm = this.searchInput.value;\n        const resp = await window.$http.get('/templates', {\n            search: searchTerm,\n        });\n        this.searchCancel.style.display = searchTerm ? 'block' : 'none';\n        this.list.innerHTML = resp.data;\n    }\n\n}\n", "import {Component} from './component';\n\nexport class ToggleSwitch extends Component {\n\n    setup() {\n        this.input = this.$el.querySelector('input[type=hidden]');\n        this.checkbox = this.$el.querySelector('input[type=checkbox]');\n\n        this.checkbox.addEventListener('change', this.stateChange.bind(this));\n    }\n\n    stateChange() {\n        this.input.value = (this.checkbox.checked ? 'true' : 'false');\n\n        // Dispatch change event from hidden input so they can be listened to\n        // like a normal checkbox.\n        const changeEvent = new Event('change');\n        this.input.dispatchEvent(changeEvent);\n    }\n\n}\n", "import {Component} from './component';\n\nexport class TriLayout extends Component {\n\n    setup() {\n        this.container = this.$refs.container;\n        this.tabs = this.$manyRefs.tab;\n\n        this.lastLayoutType = 'none';\n        this.onDestroy = null;\n        this.scrollCache = {\n            content: 0,\n            info: 0,\n        };\n        this.lastTabShown = 'content';\n\n        // Bind any listeners\n        this.mobileTabClick = this.mobileTabClick.bind(this);\n\n        // Watch layout changes\n        this.updateLayout();\n        window.addEventListener('resize', () => {\n            this.updateLayout();\n        }, {passive: true});\n    }\n\n    updateLayout() {\n        let newLayout = 'tablet';\n        if (window.innerWidth <= 1000) newLayout = 'mobile';\n        if (window.innerWidth >= 1400) newLayout = 'desktop';\n        if (newLayout === this.lastLayoutType) return;\n\n        if (this.onDestroy) {\n            this.onDestroy();\n            this.onDestroy = null;\n        }\n\n        if (newLayout === 'desktop') {\n            this.setupDesktop();\n        } else if (newLayout === 'mobile') {\n            this.setupMobile();\n        }\n\n        this.lastLayoutType = newLayout;\n    }\n\n    setupMobile() {\n        for (const tab of this.tabs) {\n            tab.addEventListener('click', this.mobileTabClick);\n        }\n\n        this.onDestroy = () => {\n            for (const tab of this.tabs) {\n                tab.removeEventListener('click', this.mobileTabClick);\n            }\n        };\n    }\n\n    setupDesktop() {\n        //\n    }\n\n    /**\n     * Action to run when the mobile info toggle bar is clicked/tapped\n     * @param event\n     */\n    mobileTabClick(event) {\n        const {tab} = event.target.dataset;\n        this.showTab(tab);\n    }\n\n    /**\n     * Show the content tab.\n     * Used by the page-display component.\n     */\n    showContent() {\n        this.showTab('content', false);\n    }\n\n    /**\n     * Show the given tab\n     * @param {String} tabName\n     * @param {Boolean }scroll\n     */\n    showTab(tabName, scroll = true) {\n        this.scrollCache[this.lastTabShown] = document.documentElement.scrollTop;\n\n        // Set tab status\n        for (const tab of this.tabs) {\n            const isActive = (tab.dataset.tab === tabName);\n            tab.setAttribute('aria-selected', isActive ? 'true' : 'false');\n        }\n\n        // Toggle section\n        const showInfo = (tabName === 'info');\n        this.container.classList.toggle('show-info', showInfo);\n\n        // Set the scroll position from cache\n        if (scroll) {\n            const pageHeader = document.querySelector('header');\n            const defaultScrollTop = pageHeader.getBoundingClientRect().bottom;\n            document.documentElement.scrollTop = this.scrollCache[tabName] || defaultScrollTop;\n            setTimeout(() => {\n                document.documentElement.scrollTop = this.scrollCache[tabName] || defaultScrollTop;\n            }, 50);\n        }\n\n        this.lastTabShown = tabName;\n    }\n\n}\n", "import {onChildEvent} from '../services/dom';\nimport {Component} from './component';\n\nexport class UserSelect extends Component {\n\n    setup() {\n        this.container = this.$el;\n        this.input = this.$refs.input;\n        this.userInfoContainer = this.$refs.userInfo;\n\n        onChildEvent(this.container, 'a.dropdown-search-item', 'click', this.selectUser.bind(this));\n    }\n\n    selectUser(event, userEl) {\n        event.preventDefault();\n        this.input.value = userEl.getAttribute('data-id');\n        this.userInfoContainer.innerHTML = userEl.innerHTML;\n        this.input.dispatchEvent(new Event('change', {bubbles: true}));\n        this.hide();\n    }\n\n    hide() {\n        /** @var {Dropdown} * */\n        const dropdown = window.$components.firstOnElement(this.container, 'dropdown');\n        dropdown.hide();\n    }\n\n}\n", "/**\n * Webhook Events\n * Manages dynamic selection control in the webhook form interface.\n */\nimport {Component} from './component';\n\nexport class WebhookEvents extends Component {\n\n    setup() {\n        this.checkboxes = this.$el.querySelectorAll('input[type=\"checkbox\"]');\n        this.allCheckbox = this.$el.querySelector('input[type=\"checkbox\"][value=\"all\"]');\n\n        this.$el.addEventListener('change', event => {\n            if (event.target.checked && event.target === this.allCheckbox) {\n                this.deselectIndividualEvents();\n            } else if (event.target.checked) {\n                this.allCheckbox.checked = false;\n            }\n        });\n    }\n\n    deselectIndividualEvents() {\n        for (const checkbox of this.checkboxes) {\n            if (checkbox !== this.allCheckbox) {\n                checkbox.checked = false;\n            }\n        }\n    }\n\n}\n", "/**\n * @param {Editor} editor\n */\nexport function register(editor) {\n    // Headers\n    for (let i = 1; i < 5; i++) {\n        editor.shortcuts.add(`meta+${i}`, '', ['FormatBlock', false, `h${i + 1}`]);\n    }\n\n    // Other block shortcuts\n    editor.shortcuts.add('meta+5', '', ['FormatBlock', false, 'p']);\n    editor.shortcuts.add('meta+d', '', ['FormatBlock', false, 'p']);\n    editor.shortcuts.add('meta+6', '', ['FormatBlock', false, 'blockquote']);\n    editor.shortcuts.add('meta+q', '', ['FormatBlock', false, 'blockquote']);\n    editor.shortcuts.add('meta+7', '', ['codeeditor', false, 'pre']);\n    editor.shortcuts.add('meta+e', '', ['codeeditor', false, 'pre']);\n    editor.shortcuts.add('meta+8', '', ['FormatBlock', false, 'code']);\n    editor.shortcuts.add('meta+shift+E', '', ['FormatBlock', false, 'code']);\n    editor.shortcuts.add('meta+o', '', 'InsertOrderedList');\n    editor.shortcuts.add('meta+p', '', 'InsertUnorderedList');\n\n    // Save draft shortcut\n    editor.shortcuts.add('meta+S', '', () => {\n        window.$events.emit('editor-save-draft');\n    });\n\n    // Save page shortcut\n    editor.shortcuts.add('meta+13', '', () => {\n        window.$events.emit('editor-save-page');\n    });\n\n    // Loop through callout styles\n    editor.shortcuts.add('meta+9', '', () => {\n        const selectedNode = editor.selection.getNode();\n        const callout = selectedNode ? selectedNode.closest('.callout') : null;\n\n        const formats = ['info', 'success', 'warning', 'danger'];\n        const currentFormatIndex = formats.findIndex(format => {\n            return callout && callout.classList.contains(format);\n        });\n        const newFormatIndex = (currentFormatIndex + 1) % formats.length;\n        const newFormat = formats[newFormatIndex];\n\n        editor.formatter.apply(`callout${newFormat}`);\n    });\n\n    // Link selector shortcut\n    editor.shortcuts.add('meta+shift+K', '', () => {\n        /** @var {EntitySelectorPopup} * */\n        const selectorPopup = window.$components.first('entity-selector-popup');\n        const selectionText = editor.selection.getContent({format: 'text'}).trim();\n        selectorPopup.show(entity => {\n            if (editor.selection.isCollapsed()) {\n                editor.insertContent(editor.dom.createHTML('a', {href: entity.link}, editor.dom.encode(entity.name)));\n            } else {\n                editor.formatter.apply('link', {href: entity.link});\n            }\n\n            editor.selection.collapse(false);\n            editor.focus();\n        }, selectionText);\n    });\n}\n", "/**\n * @param {Editor} editor\n */\nexport function listen(editor) {\n    // Replace editor content\n    window.$events.listen('editor::replace', ({html}) => {\n        editor.setContent(html);\n    });\n\n    // Append editor content\n    window.$events.listen('editor::append', ({html}) => {\n        const content = editor.getContent() + html;\n        editor.setContent(content);\n    });\n\n    // Prepend editor content\n    window.$events.listen('editor::prepend', ({html}) => {\n        const content = html + editor.getContent();\n        editor.setContent(content);\n    });\n\n    // Insert editor content at the current location\n    window.$events.listen('editor::insert', ({html}) => {\n        editor.insertContent(html);\n    });\n\n    // Focus on the editor\n    window.$events.listen('editor::focus', () => {\n        if (editor.initialized) {\n            editor.focus();\n        }\n    });\n}\n", "/**\n * @param {Editor} editor\n * @param {String} scrollId\n */\nfunction scrollToText(editor, scrollId) {\n    const element = editor.dom.get(encodeURIComponent(scrollId).replace(/!/g, '%21'));\n    if (!element) {\n        return;\n    }\n\n    // scroll the element into the view and put the cursor at the end.\n    element.scrollIntoView();\n    editor.selection.select(element, true);\n    editor.selection.collapse(false);\n    editor.focus();\n}\n\n/**\n * Scroll to a section dictated by the current URL query string, if present.\n * Used when directly editing a specific section of the page.\n * @param {Editor} editor\n */\nexport function scrollToQueryString(editor) {\n    const queryParams = (new URL(window.location)).searchParams;\n    const scrollId = queryParams.get('content-id');\n    if (scrollId) {\n        scrollToText(editor, scrollId);\n    }\n}\n", "import {Clipboard} from '../services/clipboard';\n\nlet wrap;\nlet draggedContentEditable;\n\nfunction hasTextContent(node) {\n    return node && !!(node.textContent || node.innerText);\n}\n\n/**\n * Upload an image file to the server\n * @param {File} file\n * @param {int} pageId\n */\nasync function uploadImageFile(file, pageId) {\n    if (file === null || file.type.indexOf('image') !== 0) {\n        throw new Error('Not an image file');\n    }\n\n    const remoteFilename = file.name || `image-${Date.now()}.png`;\n    const formData = new FormData();\n    formData.append('file', file, remoteFilename);\n    formData.append('uploaded_to', pageId);\n\n    const resp = await window.$http.post(window.baseUrl('/images/gallery'), formData);\n    return resp.data;\n}\n\n/**\n * Handle pasting images from clipboard.\n * @param {Editor} editor\n * @param {WysiwygConfigOptions} options\n * @param {ClipboardEvent|DragEvent} event\n */\nfunction paste(editor, options, event) {\n    const clipboard = new Clipboard(event.clipboardData || event.dataTransfer);\n\n    // Don't handle the event ourselves if no items exist of contains table-looking data\n    if (!clipboard.hasItems() || clipboard.containsTabularData()) {\n        return;\n    }\n\n    const images = clipboard.getImages();\n    for (const imageFile of images) {\n        const id = `image-${Math.random().toString(16).slice(2)}`;\n        const loadingImage = window.baseUrl('/loading.gif');\n        event.preventDefault();\n\n        setTimeout(() => {\n            editor.insertContent(`<p><img src=\"${loadingImage}\" id=\"${id}\"></p>`);\n\n            uploadImageFile(imageFile, options.pageId).then(resp => {\n                const safeName = resp.name.replace(/\"/g, '');\n                const newImageHtml = `<img src=\"${resp.thumbs.display}\" alt=\"${safeName}\" />`;\n\n                const newEl = editor.dom.create('a', {\n                    target: '_blank',\n                    href: resp.url,\n                }, newImageHtml);\n\n                editor.dom.replace(newEl, id);\n            }).catch(err => {\n                editor.dom.remove(id);\n                window.$events.error(err?.data?.message || options.translations.imageUploadErrorText);\n                console.error(err);\n            });\n        }, 10);\n    }\n}\n\n/**\n * @param {Editor} editor\n */\nfunction dragStart(editor) {\n    const node = editor.selection.getNode();\n\n    if (node.nodeName === 'IMG') {\n        wrap = editor.dom.getParent(node, '.mceTemp');\n\n        if (!wrap && node.parentNode.nodeName === 'A' && !hasTextContent(node.parentNode)) {\n            wrap = node.parentNode;\n        }\n    }\n\n    // Track dragged contenteditable blocks\n    if (node.hasAttribute('contenteditable') && node.getAttribute('contenteditable') === 'false') {\n        draggedContentEditable = node;\n    }\n}\n\n/**\n * @param {Editor} editor\n * @param {WysiwygConfigOptions} options\n * @param {DragEvent} event\n */\nfunction drop(editor, options, event) {\n    const {dom} = editor;\n    const rng = window.tinymce.dom.RangeUtils.getCaretRangeFromPoint(\n        event.clientX,\n        event.clientY,\n        editor.getDoc(),\n    );\n\n    // Template insertion\n    const templateId = event.dataTransfer && event.dataTransfer.getData('bookstack/template');\n    if (templateId) {\n        event.preventDefault();\n        window.$http.get(`/templates/${templateId}`).then(resp => {\n            editor.selection.setRng(rng);\n            editor.undoManager.transact(() => {\n                editor.execCommand('mceInsertContent', false, resp.data.html);\n            });\n        });\n    }\n\n    // Don't allow anything to be dropped in a captioned image.\n    if (dom.getParent(rng.startContainer, '.mceTemp')) {\n        event.preventDefault();\n    } else if (wrap) {\n        event.preventDefault();\n\n        editor.undoManager.transact(() => {\n            editor.selection.setRng(rng);\n            editor.selection.setNode(wrap);\n            dom.remove(wrap);\n        });\n    }\n\n    // Handle contenteditable section drop\n    if (!event.isDefaultPrevented() && draggedContentEditable) {\n        event.preventDefault();\n        editor.undoManager.transact(() => {\n            const selectedNode = editor.selection.getNode();\n            const range = editor.selection.getRng();\n            const selectedNodeRoot = selectedNode.closest('body > *');\n            if (range.startOffset > (range.startContainer.length / 2)) {\n                selectedNodeRoot.after(draggedContentEditable);\n            } else {\n                selectedNodeRoot.before(draggedContentEditable);\n            }\n        });\n    }\n\n    // Handle image insert\n    if (!event.isDefaultPrevented()) {\n        paste(editor, options, event);\n    }\n\n    wrap = null;\n}\n\n/**\n * @param {Editor} editor\n * @param {WysiwygConfigOptions} options\n */\nexport function listenForDragAndPaste(editor, options) {\n    editor.on('dragstart', () => dragStart(editor));\n    editor.on('drop', event => drop(editor, options, event));\n    editor.on('paste', event => paste(editor, options, event));\n}\n", "/**\n * @param {WysiwygConfigOptions} options\n * @return {String}\n */\nexport function getPrimaryToolbar(options) {\n    const textDirPlugins = options.textDirection === 'rtl' ? 'ltr rtl' : '';\n\n    const toolbar = [\n        'undo redo',\n        'styles',\n        'bold italic underline forecolor backcolor formatoverflow',\n        'alignleft aligncenter alignright alignjustify',\n        'bullist numlist listoverflow',\n        textDirPlugins,\n        'link table imagemanager-insert insertoverflow',\n        'code about fullscreen',\n    ];\n\n    return toolbar.filter(row => Boolean(row)).join(' | ');\n}\n\n/**\n * @param {Editor} editor\n */\nfunction registerPrimaryToolbarGroups(editor) {\n    editor.ui.registry.addGroupToolbarButton('formatoverflow', {\n        icon: 'more-drawer',\n        tooltip: 'More',\n        items: 'strikethrough superscript subscript inlinecode removeformat',\n    });\n    editor.ui.registry.addGroupToolbarButton('listoverflow', {\n        icon: 'more-drawer',\n        tooltip: 'More',\n        items: 'tasklist outdent indent',\n    });\n    editor.ui.registry.addGroupToolbarButton('insertoverflow', {\n        icon: 'more-drawer',\n        tooltip: 'More',\n        items: 'customhr codeeditor drawio media details',\n    });\n}\n\n/**\n * @param {Editor} editor\n */\nfunction registerLinkContextToolbar(editor) {\n    editor.ui.registry.addContextToolbar('linkcontexttoolbar', {\n        predicate(node) {\n            return node.closest('a') !== null;\n        },\n        position: 'node',\n        scope: 'node',\n        items: 'link unlink openlink',\n    });\n}\n\n/**\n * @param {Editor} editor\n */\nfunction registerImageContextToolbar(editor) {\n    editor.ui.registry.addContextToolbar('imagecontexttoolbar', {\n        predicate(node) {\n            return node.closest('img') !== null;\n        },\n        position: 'node',\n        scope: 'node',\n        items: 'image',\n    });\n}\n\n/**\n * @param {Editor} editor\n */\nexport function registerAdditionalToolbars(editor) {\n    registerPrimaryToolbarGroups(editor);\n    registerLinkContextToolbar(editor);\n    registerImageContextToolbar(editor);\n}\n", "const icons = {\n    'table-delete-column': '<svg width=\"24\" height=\"24\"><path d=\"M21 19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14c1.1 0 2 .9 2 2zm-2 0V5h-4v2.2h-2V5h-2v2.2H9V5H5v14h4v-2.1h2V19h2v-2.1h2V19Z\"/><path d=\"M14.829 10.585 13.415 12l1.414 1.414c.943.943-.472 2.357-1.414 1.414L12 13.414l-1.414 1.414c-.944.944-2.358-.47-1.414-1.414L10.586 12l-1.414-1.415c-.943-.942.471-2.357 1.414-1.414L12 10.585l1.344-1.343c1.111-1.112 2.2.627 1.485 1.343z\" style=\"fill-rule:nonzero\"/></svg>',\n    'table-delete-row': '<svg width=\"24\" height=\"24\"><path d=\"M5 21a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14c0 1.1-.9 2-2 2zm0-2h14v-4h-2.2v-2H19v-2h-2.2V9H19V5H5v4h2.1v2H5v2h2.1v2H5Z\"/><path d=\"M13.415 14.829 12 13.415l-1.414 1.414c-.943.943-2.357-.472-1.414-1.414L10.586 12l-1.414-1.414c-.944-.944.47-2.358 1.414-1.414L12 10.586l1.415-1.414c.942-.943 2.357.471 1.414 1.414L13.415 12l1.343 1.344c1.112 1.111-.627 2.2-1.343 1.485z\" style=\"fill-rule:nonzero\"/></svg>',\n    'table-insert-column-after': '<svg width=\"24\" height=\"24\"><path d=\"M16 5h-5v14h5c1.235 0 1.234 2 0 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11c1.229 0 1.236 2 0 2zm-7 6V5H5v6zm0 8v-6H5v6zm11.076-6h-2v2c0 1.333-2 1.333-2 0v-2h-2c-1.335 0-1.335-2 0-2h2V9c0-1.333 2-1.333 2 0v2h1.9c1.572 0 1.113 2 .1 2z\"/></svg>',\n    'table-insert-column-before': '<svg width=\"24\" height=\"24\"><path d=\"M8 19h5V5H8C6.764 5 6.766 3 8 3h11a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H8c-1.229 0-1.236-2 0-2zm7-6v6h4v-6zm0-8v6h4V5ZM3.924 11h2V9c0-1.333 2-1.333 2 0v2h2c1.335 0 1.335 2 0 2h-2v2c0 1.333-2 1.333-2 0v-2h-1.9c-1.572 0-1.113-2-.1-2z\"/></svg>',\n    'table-insert-row-above': '<svg width=\"24\" height=\"24\"><path d=\"M5 8v5h14V8c0-1.235 2-1.234 2 0v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8C3 6.77 5 6.764 5 8zm6 7H5v4h6zm8 0h-6v4h6zM13 3.924v2h2c1.333 0 1.333 2 0 2h-2v2c0 1.335-2 1.335-2 0v-2H9c-1.333 0-1.333-2 0-2h2v-1.9c0-1.572 2-1.113 2-.1z\"/></svg>',\n    'table-insert-row-after': '<svg width=\"24\" height=\"24\"><path d=\"M19 16v-5H5v5c0 1.235-2 1.234-2 0V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v11c0 1.229-2 1.236-2 0zm-6-7h6V5h-6zM5 9h6V5H5Zm6 11.076v-2H9c-1.333 0-1.333-2 0-2h2v-2c0-1.335 2-1.335 2 0v2h2c1.333 0 1.333 2 0 2h-2v1.9c0 1.572-2 1.113-2 .1z\"/></svg>',\n    table: '<svg width=\"24\" height=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2ZM5 14v5h6v-5zm14 0h-6v5h6zm0-7h-6v5h6zM5 12h6V7H5Z\"/></svg>',\n    'table-delete-table': '<svg width=\"24\" height=\"24\"><path d=\"M5 21a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14c0 1.1-.9 2-2 2zm0-2h14V5H5v14z\"/><path d=\"m13.711 15.423-1.71-1.712-1.712 1.712c-1.14 1.14-2.852-.57-1.71-1.712l1.71-1.71-1.71-1.712c-1.143-1.142.568-2.853 1.71-1.71L12 10.288l1.711-1.71c1.141-1.142 2.852.57 1.712 1.71L13.71 12l1.626 1.626c1.345 1.345-.76 2.663-1.626 1.797z\" style=\"fill-rule:nonzero;stroke-width:1.20992\"/></svg>',\n};\n\n/**\n * @param {Editor} editor\n */\nexport function registerCustomIcons(editor) {\n    for (const [name, svg] of Object.entries(icons)) {\n        editor.ui.registry.addIcon(name, svg);\n    }\n}\n", "/**\n * Setup a serializer filter for <br> tags to ensure they're not rendered\n * within code blocks and that we use newlines there instead.\n * @param {Editor} editor\n */\nfunction setupBrFilter(editor) {\n    editor.serializer.addNodeFilter('br', nodes => {\n        for (const node of nodes) {\n            if (node.parent && node.parent.name === 'code') {\n                const newline = window.tinymce.html.Node.create('#text');\n                newline.value = '\\n';\n                node.replace(newline);\n            }\n        }\n    });\n}\n\n/**\n * Remove accidentally added pointer elements that are within the content.\n * These could have accidentally been added via getting caught in range\n * selection within page content.\n * @param {Editor} editor\n */\nfunction setupPointerFilter(editor) {\n    editor.parser.addNodeFilter('div', nodes => {\n        for (const node of nodes) {\n            const id = node.attr('id') || '';\n            const nodeClass = node.attr('class') || '';\n            if (id === 'pointer' || nodeClass.includes('pointer')) {\n                node.remove();\n            }\n        }\n    });\n}\n\n/**\n * Setup global default filters for the given editor instance.\n * @param {Editor} editor\n */\nexport function setupFilters(editor) {\n    setupBrFilter(editor);\n    setupPointerFilter(editor);\n}\n", "function elemIsCodeBlock(elem) {\n    return elem.tagName.toLowerCase() === 'code-block';\n}\n\n/**\n * @param {Editor} editor\n * @param {String} code\n * @param {String} language\n * @param {function(string, string)} callback (Receives (code: string,language: string)\n */\nfunction showPopup(editor, code, language, callback) {\n    /** @var {CodeEditor} codeEditor * */\n    const codeEditor = window.$components.first('code-editor');\n    const bookMark = editor.selection.getBookmark();\n    codeEditor.open(code, language, (newCode, newLang) => {\n        callback(newCode, newLang);\n        editor.focus();\n        editor.selection.moveToBookmark(bookMark);\n    }, () => {\n        editor.focus();\n        editor.selection.moveToBookmark(bookMark);\n    });\n}\n\n/**\n * @param {Editor} editor\n * @param {CodeBlockElement} codeBlock\n */\nfunction showPopupForCodeBlock(editor, codeBlock) {\n    showPopup(editor, codeBlock.getContent(), codeBlock.getLanguage(), (newCode, newLang) => {\n        codeBlock.setContent(newCode, newLang);\n    });\n}\n\n/**\n * Define our custom code-block HTML element that we use.\n * Needs to be delayed since it needs to be defined within the context of the\n * child editor window and document, hence its definition within a callback.\n * @param {Editor} editor\n */\nfunction defineCodeBlockCustomElement(editor) {\n    const doc = editor.getDoc();\n    const win = doc.defaultView;\n\n    class CodeBlockElement extends win.HTMLElement {\n\n        /**\n         * @type {?SimpleEditorInterface}\n         */\n        editor = null;\n\n        constructor() {\n            super();\n            this.attachShadow({mode: 'open'});\n\n            const stylesToCopy = document.head.querySelectorAll('link[rel=\"stylesheet\"]:not([media=\"print\"]),style');\n            const copiedStyles = Array.from(stylesToCopy).map(styleEl => styleEl.cloneNode(true));\n\n            const cmContainer = document.createElement('div');\n            cmContainer.style.pointerEvents = 'none';\n            cmContainer.contentEditable = 'false';\n            cmContainer.classList.add('CodeMirrorContainer');\n            cmContainer.classList.toggle('dark-mode', document.documentElement.classList.contains('dark-mode'));\n\n            this.shadowRoot.append(...copiedStyles, cmContainer);\n        }\n\n        getLanguage() {\n            const getLanguageFromClassList = classes => {\n                const langClasses = classes.split(' ').filter(cssClass => cssClass.startsWith('language-'));\n                return (langClasses[0] || '').replace('language-', '');\n            };\n\n            const code = this.querySelector('code');\n            const pre = this.querySelector('pre');\n            return getLanguageFromClassList(pre.className) || (code && getLanguageFromClassList(code.className)) || '';\n        }\n\n        setContent(content, language) {\n            if (this.editor) {\n                this.editor.setContent(content);\n                this.editor.setMode(language, content);\n            }\n\n            let pre = this.querySelector('pre');\n            if (!pre) {\n                pre = doc.createElement('pre');\n                this.append(pre);\n            }\n            pre.innerHTML = '';\n\n            const code = doc.createElement('code');\n            pre.append(code);\n            code.innerText = content;\n            code.className = `language-${language}`;\n        }\n\n        getContent() {\n            const code = this.querySelector('code') || this.querySelector('pre');\n            const tempEl = document.createElement('pre');\n            tempEl.innerHTML = code.innerHTML.replace(/\\ufeff/g, '');\n\n            const brs = tempEl.querySelectorAll('br');\n            for (const br of brs) {\n                br.replaceWith('\\n');\n            }\n\n            return tempEl.textContent;\n        }\n\n        connectedCallback() {\n            const connectedTime = Date.now();\n            if (this.editor) {\n                return;\n            }\n\n            this.cleanChildContent();\n            const content = this.getContent();\n            const lines = content.split('\\n').length;\n            const height = (lines * 19.2) + 18 + 24;\n            this.style.height = `${height}px`;\n\n            const container = this.shadowRoot.querySelector('.CodeMirrorContainer');\n            const renderEditor = Code => {\n                this.editor = Code.wysiwygView(container, this.shadowRoot, content, this.getLanguage());\n                setTimeout(() => {\n                    this.style.height = null;\n                }, 12);\n            };\n\n            window.importVersioned('code').then(Code => {\n                const timeout = (Date.now() - connectedTime < 20) ? 20 : 0;\n                setTimeout(() => renderEditor(Code), timeout);\n            });\n        }\n\n        cleanChildContent() {\n            const pre = this.querySelector('pre');\n            if (!pre) return;\n\n            for (const preChild of pre.childNodes) {\n                if (preChild.nodeName === '#text' && preChild.textContent === '\uFEFF') {\n                    preChild.remove();\n                }\n            }\n        }\n\n    }\n\n    win.customElements.define('code-block', CodeBlockElement);\n}\n\n/**\n * @param {Editor} editor\n */\nfunction register(editor) {\n    editor.ui.registry.addIcon('codeblock', '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5Z\"/><path d=\"M11.103 15.423c.277.277.277.738 0 .922a.692.692 0 0 1-1.106 0l-4.057-3.78a.738.738 0 0 1 0-1.107l4.057-3.872c.276-.277.83-.277 1.106 0a.724.724 0 0 1 0 1.014L7.6 12.012ZM12.897 8.577c-.245-.312-.2-.675.08-.955.28-.281.727-.27 1.027.033l4.057 3.78a.738.738 0 0 1 0 1.107l-4.057 3.872c-.277.277-.83.277-1.107 0a.724.724 0 0 1 0-1.014l3.504-3.412z\"/></svg>');\n\n    editor.ui.registry.addButton('codeeditor', {\n        tooltip: 'Insert code block',\n        icon: 'codeblock',\n        onAction() {\n            editor.execCommand('codeeditor');\n        },\n    });\n\n    editor.ui.registry.addButton('editcodeeditor', {\n        tooltip: 'Edit code block',\n        icon: 'edit-block',\n        onAction() {\n            editor.execCommand('codeeditor');\n        },\n    });\n\n    editor.addCommand('codeeditor', () => {\n        const selectedNode = editor.selection.getNode();\n        const doc = selectedNode.ownerDocument;\n        if (elemIsCodeBlock(selectedNode)) {\n            showPopupForCodeBlock(editor, selectedNode);\n        } else {\n            const textContent = editor.selection.getContent({format: 'text'});\n            showPopup(editor, textContent, '', (newCode, newLang) => {\n                const pre = doc.createElement('pre');\n                const code = doc.createElement('code');\n                code.classList.add(`language-${newLang}`);\n                code.innerText = newCode;\n                pre.append(code);\n\n                editor.insertContent(pre.outerHTML);\n            });\n        }\n    });\n\n    editor.on('dblclick', () => {\n        const selectedNode = editor.selection.getNode();\n        if (elemIsCodeBlock(selectedNode)) {\n            showPopupForCodeBlock(editor, selectedNode);\n        }\n    });\n\n    editor.on('PreInit', () => {\n        editor.parser.addNodeFilter('pre', elms => {\n            for (const el of elms) {\n                const wrapper = window.tinymce.html.Node.create('code-block', {\n                    contenteditable: 'false',\n                });\n\n                const spans = el.getAll('span');\n                for (const span of spans) {\n                    span.unwrap();\n                }\n                el.attr('style', null);\n                el.wrap(wrapper);\n            }\n        });\n\n        editor.parser.addNodeFilter('code-block', elms => {\n            for (const el of elms) {\n                el.attr('contenteditable', 'false');\n            }\n        });\n\n        editor.serializer.addNodeFilter('code-block', elms => {\n            for (const el of elms) {\n                el.unwrap();\n            }\n        });\n    });\n\n    editor.ui.registry.addContextToolbar('codeeditor', {\n        predicate(node) {\n            return node.nodeName.toLowerCase() === 'code-block';\n        },\n        items: 'editcodeeditor',\n        position: 'node',\n        scope: 'node',\n    });\n\n    editor.on('PreInit', () => {\n        defineCodeBlockCustomElement(editor);\n    });\n}\n\n/**\n * @return {register}\n */\nexport function getPlugin() {\n    return register;\n}\n", "import * as DrawIO from '../services/drawio';\nimport {wait} from '../services/util';\n\nlet pageEditor = null;\nlet currentNode = null;\n\n/**\n * @type {WysiwygConfigOptions}\n */\nlet options = {};\n\nfunction isDrawing(node) {\n    return node.hasAttribute('drawio-diagram');\n}\n\nfunction showDrawingManager(mceEditor, selectedNode = null) {\n    pageEditor = mceEditor;\n    currentNode = selectedNode;\n\n    /** @type {ImageManager} * */\n    const imageManager = window.$components.first('image-manager');\n    imageManager.show(image => {\n        if (selectedNode) {\n            const imgElem = selectedNode.querySelector('img');\n            pageEditor.undoManager.transact(() => {\n                pageEditor.dom.setAttrib(imgElem, 'src', image.url);\n                pageEditor.dom.setAttrib(selectedNode, 'drawio-diagram', image.id);\n            });\n        } else {\n            const imgHTML = `<div drawio-diagram=\"${image.id}\" contenteditable=\"false\"><img src=\"${image.url}\"></div>`;\n            pageEditor.insertContent(imgHTML);\n        }\n    }, 'drawio');\n}\n\nasync function updateContent(pngData) {\n    const loadingImage = window.baseUrl('/loading.gif');\n\n    const handleUploadError = error => {\n        if (error.status === 413) {\n            window.$events.emit('error', options.translations.serverUploadLimitText);\n        } else {\n            window.$events.emit('error', options.translations.imageUploadErrorText);\n        }\n        console.error(error);\n    };\n\n    // Handle updating an existing image\n    if (currentNode) {\n        DrawIO.close();\n        const imgElem = currentNode.querySelector('img');\n        try {\n            const img = await DrawIO.upload(pngData, options.pageId);\n            pageEditor.undoManager.transact(() => {\n                pageEditor.dom.setAttrib(imgElem, 'src', img.url);\n                pageEditor.dom.setAttrib(currentNode, 'drawio-diagram', img.id);\n            });\n        } catch (err) {\n            handleUploadError(err);\n            throw new Error(`Failed to save image with error: ${err}`);\n        }\n        return;\n    }\n\n    await wait(5);\n\n    const id = `drawing-${Math.random().toString(16).slice(2)}`;\n    const wrapId = `drawing-wrap-${Math.random().toString(16).slice(2)}`;\n    pageEditor.insertContent(`<div drawio-diagram contenteditable=\"false\" id=\"${wrapId}\"><img src=\"${loadingImage}\" id=\"${id}\"></div>`);\n    DrawIO.close();\n\n    try {\n        const img = await DrawIO.upload(pngData, options.pageId);\n        pageEditor.undoManager.transact(() => {\n            pageEditor.dom.setAttrib(id, 'src', img.url);\n            pageEditor.dom.setAttrib(wrapId, 'drawio-diagram', img.id);\n        });\n    } catch (err) {\n        pageEditor.dom.remove(wrapId);\n        handleUploadError(err);\n        throw new Error(`Failed to save image with error: ${err}`);\n    }\n}\n\nfunction drawingInit() {\n    if (!currentNode) {\n        return Promise.resolve('');\n    }\n\n    const drawingId = currentNode.getAttribute('drawio-diagram');\n    return DrawIO.load(drawingId);\n}\n\nfunction showDrawingEditor(mceEditor, selectedNode = null) {\n    pageEditor = mceEditor;\n    currentNode = selectedNode;\n    DrawIO.show(options.drawioUrl, drawingInit, updateContent);\n}\n\n/**\n * @param {Editor} editor\n */\nfunction register(editor) {\n    editor.addCommand('drawio', () => {\n        const selectedNode = editor.selection.getNode();\n        showDrawingEditor(editor, isDrawing(selectedNode) ? selectedNode : null);\n    });\n\n    editor.ui.registry.addIcon('diagram', `<svg width=\"24\" height=\"24\" fill=\"${options.darkMode ? '#BBB' : '#000000'}\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20.716 7.639V2.845h-4.794v1.598h-7.99V2.845H3.138v4.794h1.598v7.99H3.138v4.794h4.794v-1.598h7.99v1.598h4.794v-4.794h-1.598v-7.99zM4.736 4.443h1.598V6.04H4.736zm1.598 14.382H4.736v-1.598h1.598zm9.588-1.598h-7.99v-1.598H6.334v-7.99h1.598V6.04h7.99v1.598h1.598v7.99h-1.598zm3.196 1.598H17.52v-1.598h1.598zM17.52 6.04V4.443h1.598V6.04zm-4.21 7.19h-2.79l-.582 1.599H8.643l2.717-7.191h1.119l2.724 7.19h-1.302zm-2.43-1.006h2.086l-1.039-3.06z\"/></svg>`);\n\n    editor.ui.registry.addSplitButton('drawio', {\n        tooltip: 'Insert/edit drawing',\n        icon: 'diagram',\n        onAction() {\n            editor.execCommand('drawio');\n            // Hack to de-focus the tinymce editor toolbar\n            window.document.body.dispatchEvent(new Event('mousedown', {bubbles: true}));\n        },\n        fetch(callback) {\n            callback([\n                {\n                    type: 'choiceitem',\n                    text: 'Drawing manager',\n                    value: 'drawing-manager',\n                },\n            ]);\n        },\n        onItemAction(api, value) {\n            if (value === 'drawing-manager') {\n                const selectedNode = editor.selection.getNode();\n                showDrawingManager(editor, isDrawing(selectedNode) ? selectedNode : null);\n            }\n        },\n    });\n\n    editor.on('dblclick', () => {\n        const selectedNode = editor.selection.getNode();\n        if (!isDrawing(selectedNode)) return;\n        showDrawingEditor(editor, selectedNode);\n    });\n\n    editor.on('SetContent', () => {\n        const drawings = editor.dom.select('body > div[drawio-diagram]');\n        if (!drawings.length) return;\n\n        editor.undoManager.transact(() => {\n            for (const drawing of drawings) {\n                drawing.setAttribute('contenteditable', 'false');\n            }\n        });\n    });\n}\n\n/**\n *\n * @param {WysiwygConfigOptions} providedOptions\n * @return {function(Editor, string)}\n */\nexport function getPlugin(providedOptions) {\n    options = providedOptions;\n    return register;\n}\n", "/**\n * @param {Editor} editor\n */\nfunction register(editor) {\n    editor.addCommand('InsertHorizontalRule', () => {\n        const hrElem = document.createElement('hr');\n        const cNode = editor.selection.getNode();\n        const {parentNode} = cNode;\n        parentNode.insertBefore(hrElem, cNode);\n    });\n\n    editor.ui.registry.addButton('customhr', {\n        icon: 'horizontal-rule',\n        tooltip: 'Insert horizontal line',\n        onAction() {\n            editor.execCommand('InsertHorizontalRule');\n        },\n    });\n}\n\n/**\n * @return {register}\n */\nexport function getPlugin() {\n    return register;\n}\n", "/**\n * @param {Editor} editor\n */\nfunction register(editor) {\n    // Custom Image picker button\n    editor.ui.registry.addButton('imagemanager-insert', {\n        title: 'Insert image',\n        icon: 'image',\n        tooltip: 'Insert image',\n        onAction() {\n            /** @type {ImageManager} * */\n            const imageManager = window.$components.first('image-manager');\n            imageManager.show(image => {\n                const imageUrl = image.thumbs?.display || image.url;\n                let html = `<a href=\"${image.url}\" target=\"_blank\">`;\n                html += `<img src=\"${imageUrl}\" alt=\"${image.name}\">`;\n                html += '</a>';\n                editor.execCommand('mceInsertContent', false, html);\n            }, 'gallery');\n        },\n    });\n}\n\n/**\n * @return {register}\n */\nexport function getPlugin() {\n    return register;\n}\n", "/**\n * @param {Editor} editor\n */\nfunction register(editor) {\n    const aboutDialog = {\n        title: 'About the WYSIWYG Editor',\n        url: window.baseUrl('/help/wysiwyg'),\n    };\n\n    editor.ui.registry.addButton('about', {\n        icon: 'help',\n        tooltip: 'About the editor',\n        onAction() {\n            window.tinymce.activeEditor.windowManager.openUrl(aboutDialog);\n        },\n    });\n}\n\n/**\n * @return {register}\n */\nexport function getPlugin() {\n    return register;\n}\n", "export const blockElementTypes = [\n    'p',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'div',\n    'blockquote',\n    'pre',\n    'code-block',\n    'details',\n    'ul',\n    'ol',\n    'table',\n    'hr',\n];\n", "import {blockElementTypes} from './util';\n\n/**\n * @param {Editor} editor\n */\nfunction getSelectedDetailsBlock(editor) {\n    return editor.selection.getNode().closest('details');\n}\n\nfunction setSummary(editor, summaryContent) {\n    const details = getSelectedDetailsBlock(editor);\n    if (!details) return;\n\n    editor.undoManager.transact(() => {\n        let summary = details.querySelector('summary');\n        if (!summary) {\n            summary = document.createElement('summary');\n            details.prepend(summary);\n        }\n        summary.textContent = summaryContent;\n    });\n}\n\n/**\n * @param {Editor} editor\n */\nfunction detailsDialog(editor) {\n    return {\n        title: 'Edit collapsible block',\n        body: {\n            type: 'panel',\n            items: [\n                {\n                    type: 'input',\n                    name: 'summary',\n                    label: 'Toggle label',\n                },\n            ],\n        },\n        buttons: [\n            {\n                type: 'cancel',\n                text: 'Cancel',\n            },\n            {\n                type: 'submit',\n                text: 'Save',\n                primary: true,\n            },\n        ],\n        onSubmit(api) {\n            const {summary} = api.getData();\n            setSummary(editor, summary);\n            api.close();\n        },\n    };\n}\n\n/**\n * @param {Element} element\n */\nfunction getSummaryTextFromDetails(element) {\n    const summary = element.querySelector('summary');\n    if (!summary) {\n        return '';\n    }\n    return summary.textContent;\n}\n\n/**\n * @param {Editor} editor\n */\nfunction showDetailLabelEditWindow(editor) {\n    const details = getSelectedDetailsBlock(editor);\n    const dialog = editor.windowManager.open(detailsDialog(editor));\n    dialog.setData({summary: getSummaryTextFromDetails(details)});\n}\n\n/**\n * @param {Editor} editor\n */\nfunction unwrapDetailsInSelection(editor) {\n    const details = editor.selection.getNode().closest('details');\n    const selectionBm = editor.selection.getBookmark();\n\n    if (details) {\n        const elements = details.querySelectorAll('details > *:not(summary, doc-root), doc-root > *');\n\n        editor.undoManager.transact(() => {\n            for (const element of elements) {\n                details.parentNode.insertBefore(element, details);\n            }\n            details.remove();\n        });\n    }\n\n    editor.focus();\n    editor.selection.moveToBookmark(selectionBm);\n}\n\n/**\n * @param {tinymce.html.Node} detailsEl\n */\nfunction unwrapDetailsEditable(detailsEl) {\n    detailsEl.attr('contenteditable', null);\n    let madeUnwrap = false;\n    for (const child of detailsEl.children()) {\n        if (child.name === 'doc-root') {\n            child.unwrap();\n            madeUnwrap = true;\n        }\n    }\n\n    if (madeUnwrap) {\n        unwrapDetailsEditable(detailsEl);\n    }\n}\n\n/**\n * @param {tinymce.html.Node} detailsEl\n */\nfunction ensureDetailsWrappedInEditable(detailsEl) {\n    unwrapDetailsEditable(detailsEl);\n\n    detailsEl.attr('contenteditable', 'false');\n    const rootWrap = window.tinymce.html.Node.create('doc-root', {contenteditable: 'true'});\n    let previousBlockWrap = null;\n\n    for (const child of detailsEl.children()) {\n        if (child.name === 'summary') continue;\n        const isBlock = blockElementTypes.includes(child.name);\n\n        if (!isBlock) {\n            if (!previousBlockWrap) {\n                previousBlockWrap = window.tinymce.html.Node.create('p');\n                rootWrap.append(previousBlockWrap);\n            }\n            previousBlockWrap.append(child);\n        } else {\n            rootWrap.append(child);\n            previousBlockWrap = null;\n        }\n    }\n\n    detailsEl.append(rootWrap);\n}\n\n/**\n * @param {Editor} editor\n */\nfunction setupElementFilters(editor) {\n    editor.parser.addNodeFilter('details', elms => {\n        for (const el of elms) {\n            ensureDetailsWrappedInEditable(el);\n        }\n    });\n\n    editor.serializer.addNodeFilter('details', elms => {\n        for (const el of elms) {\n            unwrapDetailsEditable(el);\n            el.attr('open', null);\n        }\n    });\n\n    editor.serializer.addNodeFilter('doc-root', elms => {\n        for (const el of elms) {\n            el.unwrap();\n        }\n    });\n}\n\n/**\n * @param {Editor} editor\n */\nfunction register(editor) {\n    editor.ui.registry.addIcon('details', '<svg width=\"24\" height=\"24\"><path d=\"M8.2 9a.5.5 0 0 0-.4.8l4 5.6a.5.5 0 0 0 .8 0l4-5.6a.5.5 0 0 0-.4-.8ZM20.122 18.151h-16c-.964 0-.934 2.7 0 2.7h16c1.139 0 1.173-2.7 0-2.7zM20.122 3.042h-16c-.964 0-.934 2.7 0 2.7h16c1.139 0 1.173-2.7 0-2.7z\"/></svg>');\n    editor.ui.registry.addIcon('togglefold', '<svg height=\"24\"  width=\"24\"><path d=\"M8.12 19.3c.39.39 1.02.39 1.41 0L12 16.83l2.47 2.47c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41l-3.17-3.17c-.39-.39-1.02-.39-1.41 0l-3.17 3.17c-.4.38-.4 1.02-.01 1.41zm7.76-14.6c-.39-.39-1.02-.39-1.41 0L12 7.17 9.53 4.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.03 0 1.42l3.17 3.17c.39.39 1.02.39 1.41 0l3.17-3.17c.4-.39.4-1.03.01-1.42z\"/></svg>');\n    editor.ui.registry.addIcon('togglelabel', '<svg height=\"18\" width=\"18\" viewBox=\"0 0 24 24\"><path d=\"M21.41,11.41l-8.83-8.83C12.21,2.21,11.7,2,11.17,2H4C2.9,2,2,2.9,2,4v7.17c0,0.53,0.21,1.04,0.59,1.41l8.83,8.83 c0.78,0.78,2.05,0.78,2.83,0l7.17-7.17C22.2,13.46,22.2,12.2,21.41,11.41z M6.5,8C5.67,8,5,7.33,5,6.5S5.67,5,6.5,5S8,5.67,8,6.5 S7.33,8,6.5,8z\"/></svg>');\n\n    editor.ui.registry.addButton('details', {\n        icon: 'details',\n        tooltip: 'Insert collapsible block',\n        onAction() {\n            editor.execCommand('InsertDetailsBlock');\n        },\n    });\n\n    editor.ui.registry.addButton('removedetails', {\n        icon: 'table-delete-table',\n        tooltip: 'Unwrap',\n        onAction() {\n            unwrapDetailsInSelection(editor);\n        },\n    });\n\n    editor.ui.registry.addButton('editdetials', {\n        icon: 'togglelabel',\n        tooltip: 'Edit label',\n        onAction() {\n            showDetailLabelEditWindow(editor);\n        },\n    });\n\n    editor.on('dblclick', event => {\n        if (!getSelectedDetailsBlock(editor) || event.target.closest('doc-root')) return;\n        showDetailLabelEditWindow(editor);\n    });\n\n    editor.ui.registry.addButton('toggledetails', {\n        icon: 'togglefold',\n        tooltip: 'Toggle open/closed',\n        onAction() {\n            const details = getSelectedDetailsBlock(editor);\n            details.toggleAttribute('open');\n            editor.focus();\n        },\n    });\n\n    editor.addCommand('InsertDetailsBlock', () => {\n        let content = editor.selection.getContent({format: 'html'});\n        const details = document.createElement('details');\n        const summary = document.createElement('summary');\n        const id = `details-${Date.now()}`;\n        details.setAttribute('data-id', id);\n        details.appendChild(summary);\n\n        if (!content) {\n            content = '<p><br></p>';\n        }\n\n        details.innerHTML += content;\n        editor.insertContent(details.outerHTML);\n        editor.focus();\n\n        const domDetails = editor.dom.select(`[data-id=\"${id}\"]`)[0] || null;\n        if (domDetails) {\n            const firstChild = domDetails.querySelector('doc-root > *');\n            if (firstChild) {\n                firstChild.focus();\n            }\n            domDetails.removeAttribute('data-id');\n        }\n    });\n\n    editor.ui.registry.addContextToolbar('details', {\n        predicate(node) {\n            return node.nodeName.toLowerCase() === 'details';\n        },\n        items: 'editdetials toggledetails removedetails',\n        position: 'node',\n        scope: 'node',\n    });\n\n    editor.on('PreInit', () => {\n        setupElementFilters(editor);\n    });\n}\n\n/**\n * @return {register}\n */\nexport function getPlugin() {\n    return register;\n}\n", "/**\n * @param {Element} element\n * @return {boolean}\n */\nfunction elementWithinTaskList(element) {\n    const listEl = element.closest('li');\n    return listEl && listEl.parentNode.nodeName === 'UL' && listEl.classList.contains('task-list-item');\n}\n\n/**\n * @param {MouseEvent} event\n * @param {Element} clickedEl\n * @param {Editor} editor\n */\nfunction handleTaskListItemClick(event, clickedEl, editor) {\n    const bounds = clickedEl.getBoundingClientRect();\n    const withinBounds = event.clientX <= bounds.right\n        && event.clientX >= bounds.left\n        && event.clientY >= bounds.top\n        && event.clientY <= bounds.bottom;\n\n    // Outside of the task list item bounds mean we're probably clicking the pseudo-element.\n    if (!withinBounds) {\n        editor.undoManager.transact(() => {\n            if (clickedEl.hasAttribute('checked')) {\n                clickedEl.removeAttribute('checked');\n            } else {\n                clickedEl.setAttribute('checked', 'checked');\n            }\n        });\n    }\n}\n\n/**\n * @param {AstNode} node\n */\nfunction parseTaskListNode(node) {\n    // Force task list item class\n    node.attr('class', 'task-list-item');\n\n    // Copy checkbox status and remove checkbox within editor\n    for (const child of node.children()) {\n        if (child.name === 'input') {\n            if (child.attr('checked') === 'checked') {\n                node.attr('checked', 'checked');\n            }\n            child.remove();\n        }\n    }\n}\n\n/**\n * @param {AstNode} node\n */\nfunction serializeTaskListNode(node) {\n    // Get checked status and clean it from list node\n    const isChecked = node.attr('checked') === 'checked';\n    node.attr('checked', null);\n\n    const inputAttrs = {type: 'checkbox', disabled: 'disabled'};\n    if (isChecked) {\n        inputAttrs.checked = 'checked';\n    }\n\n    // Create & insert checkbox input element\n    const checkbox = window.tinymce.html.Node.create('input', inputAttrs);\n    checkbox.shortEnded = true;\n\n    if (node.firstChild) {\n        node.insert(checkbox, node.firstChild, true);\n    } else {\n        node.append(checkbox);\n    }\n}\n\n/**\n * @param {Editor} editor\n */\nfunction register(editor) {\n    // Tasklist UI buttons\n    editor.ui.registry.addIcon('tasklist', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22,8c0-0.55-0.45-1-1-1h-7c-0.55,0-1,0.45-1,1s0.45,1,1,1h7C21.55,9,22,8.55,22,8z M13,16c0,0.55,0.45,1,1,1h7 c0.55,0,1-0.45,1-1c0-0.55-0.45-1-1-1h-7C13.45,15,13,15.45,13,16z M10.47,4.63c0.39,0.39,0.39,1.02,0,1.41l-4.23,4.25 c-0.39,0.39-1.02,0.39-1.42,0L2.7,8.16c-0.39-0.39-0.39-1.02,0-1.41c0.39-0.39,1.02-0.39,1.41,0l1.42,1.42l3.54-3.54 C9.45,4.25,10.09,4.25,10.47,4.63z M10.48,12.64c0.39,0.39,0.39,1.02,0,1.41l-4.23,4.25c-0.39,0.39-1.02,0.39-1.42,0L2.7,16.16 c-0.39-0.39-0.39-1.02,0-1.41s1.02-0.39,1.41,0l1.42,1.42l3.54-3.54C9.45,12.25,10.09,12.25,10.48,12.64L10.48,12.64z\"/></svg>');\n    editor.ui.registry.addToggleButton('tasklist', {\n        tooltip: 'Task list',\n        icon: 'tasklist',\n        active: false,\n        onAction(api) {\n            if (api.isActive()) {\n                editor.execCommand('RemoveList');\n            } else {\n                editor.execCommand('InsertUnorderedList', null, {\n                    'list-item-attributes': {\n                        class: 'task-list-item',\n                    },\n                    'list-style-type': 'tasklist',\n                });\n            }\n        },\n        onSetup(api) {\n            editor.on('NodeChange', event => {\n                const parentListEl = event.parents.find(el => el.nodeName === 'LI');\n                const inList = parentListEl && parentListEl.classList.contains('task-list-item');\n                api.setActive(Boolean(inList));\n            });\n        },\n    });\n\n    // Tweak existing bullet list button active state to not be active\n    // when we're in a task list.\n    const existingBullListButton = editor.ui.registry.getAll().buttons.bullist;\n    existingBullListButton.onSetup = function customBullListOnSetup(api) {\n        editor.on('NodeChange', event => {\n            const parentList = event.parents.find(el => el.nodeName === 'LI');\n            const inTaskList = parentList && parentList.classList.contains('task-list-item');\n            const inUlList = parentList && parentList.parentNode.nodeName === 'UL';\n            api.setActive(Boolean(inUlList && !inTaskList));\n        });\n    };\n    existingBullListButton.onAction = function customBullListOnAction() {\n        // Cheeky hack to prevent list toggle action treating tasklists as normal\n        // unordered lists which would unwrap the list on toggle from tasklist to bullet list.\n        // Instead we quickly jump through an ordered list first if we're within a tasklist.\n        if (elementWithinTaskList(editor.selection.getNode())) {\n            editor.execCommand('InsertOrderedList', null, {\n                'list-item-attributes': {class: null},\n            });\n        }\n\n        editor.execCommand('InsertUnorderedList', null, {\n            'list-item-attributes': {class: null},\n        });\n    };\n    // Tweak existing number list to not allow classes on child items\n    const existingNumListButton = editor.ui.registry.getAll().buttons.numlist;\n    existingNumListButton.onAction = function customNumListButtonOnAction() {\n        editor.execCommand('InsertOrderedList', null, {\n            'list-item-attributes': {class: null},\n        });\n    };\n\n    // Setup filters on pre-init\n    editor.on('PreInit', () => {\n        editor.parser.addNodeFilter('li', nodes => {\n            for (const node of nodes) {\n                if (node.attributes.map.class === 'task-list-item') {\n                    parseTaskListNode(node);\n                }\n            }\n        });\n        editor.serializer.addNodeFilter('li', nodes => {\n            for (const node of nodes) {\n                if (node.attributes.map.class === 'task-list-item') {\n                    serializeTaskListNode(node);\n                }\n            }\n        });\n    });\n\n    // Handle checkbox click in editor\n    editor.on('click', event => {\n        const clickedEl = event.target;\n        if (clickedEl.nodeName === 'LI' && clickedEl.classList.contains('task-list-item')) {\n            handleTaskListItemClick(event, clickedEl, editor);\n            event.preventDefault();\n        }\n    });\n}\n\n/**\n * @return {register}\n */\nexport function getPlugin() {\n    return register;\n}\n", "import {register as registerShortcuts} from './shortcuts';\nimport {listen as listenForCommonEvents} from './common-events';\nimport {scrollToQueryString} from './scrolling';\nimport {listenForDragAndPaste} from './drop-paste-handling';\nimport {getPrimaryToolbar, registerAdditionalToolbars} from './toolbars';\nimport {registerCustomIcons} from './icons';\nimport {setupFilters} from './filters';\n\nimport {getPlugin as getCodeeditorPlugin} from './plugin-codeeditor';\nimport {getPlugin as getDrawioPlugin} from './plugin-drawio';\nimport {getPlugin as getCustomhrPlugin} from './plugins-customhr';\nimport {getPlugin as getImagemanagerPlugin} from './plugins-imagemanager';\nimport {getPlugin as getAboutPlugin} from './plugins-about';\nimport {getPlugin as getDetailsPlugin} from './plugins-details';\nimport {getPlugin as getTasklistPlugin} from './plugins-tasklist';\n\nconst styleFormats = [\n    {title: 'Large Header', format: 'h2', preview: 'color: blue;'},\n    {title: 'Medium Header', format: 'h3'},\n    {title: 'Small Header', format: 'h4'},\n    {title: 'Tiny Header', format: 'h5'},\n    {\n        title: 'Paragraph', format: 'p', exact: true, classes: '',\n    },\n    {title: 'Blockquote', format: 'blockquote'},\n    {\n        title: 'Callouts',\n        items: [\n            {title: 'Information', format: 'calloutinfo'},\n            {title: 'Success', format: 'calloutsuccess'},\n            {title: 'Warning', format: 'calloutwarning'},\n            {title: 'Danger', format: 'calloutdanger'},\n        ],\n    },\n];\n\nconst formats = {\n    alignleft: {selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'align-left'},\n    aligncenter: {selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'align-center'},\n    alignright: {selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'align-right'},\n    calloutsuccess: {block: 'p', exact: true, attributes: {class: 'callout success'}},\n    calloutinfo: {block: 'p', exact: true, attributes: {class: 'callout info'}},\n    calloutwarning: {block: 'p', exact: true, attributes: {class: 'callout warning'}},\n    calloutdanger: {block: 'p', exact: true, attributes: {class: 'callout danger'}},\n};\n\nconst colorMap = [\n    '#BFEDD2', '',\n    '#FBEEB8', '',\n    '#F8CAC6', '',\n    '#ECCAFA', '',\n    '#C2E0F4', '',\n\n    '#2DC26B', '',\n    '#F1C40F', '',\n    '#E03E2D', '',\n    '#B96AD9', '',\n    '#3598DB', '',\n\n    '#169179', '',\n    '#E67E23', '',\n    '#BA372A', '',\n    '#843FA1', '',\n    '#236FA1', '',\n\n    '#ECF0F1', '',\n    '#CED4D9', '',\n    '#95A5A6', '',\n    '#7E8C8D', '',\n    '#34495E', '',\n\n    '#000000', '',\n    '#ffffff', '',\n];\n\nfunction filePickerCallback(callback, value, meta) {\n    // field_name, url, type, win\n    if (meta.filetype === 'file') {\n        /** @type {EntitySelectorPopup} * */\n        const selector = window.$components.first('entity-selector-popup');\n        const selectionText = this.selection.getContent({format: 'text'}).trim();\n        selector.show(entity => {\n            callback(entity.link, {\n                text: entity.name,\n                title: entity.name,\n            });\n        }, selectionText);\n    }\n\n    if (meta.filetype === 'image') {\n        // Show image manager\n        /** @type {ImageManager} * */\n        const imageManager = window.$components.first('image-manager');\n        imageManager.show(image => {\n            callback(image.url, {alt: image.name});\n        }, 'gallery');\n    }\n}\n\n/**\n * @param {WysiwygConfigOptions} options\n * @return {string[]}\n */\nfunction gatherPlugins(options) {\n    const plugins = [\n        'image',\n        'table',\n        'link',\n        'autolink',\n        'fullscreen',\n        'code',\n        'customhr',\n        'autosave',\n        'lists',\n        'codeeditor',\n        'media',\n        'imagemanager',\n        'about',\n        'details',\n        'tasklist',\n        options.textDirection === 'rtl' ? 'directionality' : '',\n    ];\n\n    window.tinymce.PluginManager.add('codeeditor', getCodeeditorPlugin());\n    window.tinymce.PluginManager.add('customhr', getCustomhrPlugin());\n    window.tinymce.PluginManager.add('imagemanager', getImagemanagerPlugin());\n    window.tinymce.PluginManager.add('about', getAboutPlugin());\n    window.tinymce.PluginManager.add('details', getDetailsPlugin());\n    window.tinymce.PluginManager.add('tasklist', getTasklistPlugin());\n\n    if (options.drawioUrl) {\n        window.tinymce.PluginManager.add('drawio', getDrawioPlugin(options));\n        plugins.push('drawio');\n    }\n\n    return plugins.filter(plugin => Boolean(plugin));\n}\n\n/**\n * Fetch custom HTML head content from the parent page head into the editor.\n */\nfunction fetchCustomHeadContent() {\n    const headContentLines = document.head.innerHTML.split('\\n');\n    const startLineIndex = headContentLines.findIndex(line => line.trim() === '<!-- Start: custom user content -->');\n    const endLineIndex = headContentLines.findIndex(line => line.trim() === '<!-- End: custom user content -->');\n    if (startLineIndex === -1 || endLineIndex === -1) {\n        return '';\n    }\n    return headContentLines.slice(startLineIndex + 1, endLineIndex).join('\\n');\n}\n\n/**\n * @param {WysiwygConfigOptions} options\n * @return {function(Editor)}\n */\nfunction getSetupCallback(options) {\n    return function setupCallback(editor) {\n        function editorChange() {\n            if (options.darkMode) {\n                editor.contentDocument.documentElement.classList.add('dark-mode');\n            }\n            window.$events.emit('editor-html-change', '');\n        }\n\n        editor.on('ExecCommand change input NodeChange ObjectResized', editorChange);\n        listenForCommonEvents(editor);\n        listenForDragAndPaste(editor, options);\n\n        editor.on('init', () => {\n            editorChange();\n            scrollToQueryString(editor);\n            window.editor = editor;\n            registerShortcuts(editor);\n        });\n\n        editor.on('PreInit', () => {\n            setupFilters(editor);\n        });\n\n        // Custom handler hook\n        window.$events.emitPublic(options.containerElement, 'editor-tinymce::setup', {editor});\n\n        // Inline code format button\n        editor.ui.registry.addButton('inlinecode', {\n            tooltip: 'Inline code',\n            icon: 'sourcecode',\n            onAction() {\n                editor.execCommand('mceToggleFormat', false, 'code');\n            },\n        });\n    };\n}\n\n/**\n * @param {WysiwygConfigOptions} options\n */\nfunction getContentStyle(options) {\n    return `\nhtml, body, html.dark-mode {\n    background: ${options.darkMode ? '#222' : '#fff'};\n} \nbody {\n    padding-left: 15px !important;\n    padding-right: 15px !important; \n    height: initial !important;\n    margin:0!important; \n    margin-left: auto! important;\n    margin-right: auto !important;\n    overflow-y: hidden !important;\n}`.trim().replace('\\n', '');\n}\n\n/**\n * @param {WysiwygConfigOptions} options\n * @return {Object}\n */\nexport function build(options) {\n    // Set language\n    window.tinymce.addI18n(options.language, options.translationMap);\n\n    // BookStack Version\n    const version = document.querySelector('script[src*=\"/dist/app.js\"]').getAttribute('src').split('?version=')[1];\n\n    // Return config object\n    return {\n        width: '100%',\n        height: '100%',\n        selector: '#html-editor',\n        cache_suffix: `?version=${version}`,\n        content_css: [\n            window.baseUrl('/dist/styles.css'),\n        ],\n        branding: false,\n        skin: options.darkMode ? 'tinymce-5-dark' : 'tinymce-5',\n        body_class: 'page-content',\n        browser_spellcheck: true,\n        relative_urls: false,\n        language: options.language,\n        directionality: options.textDirection,\n        remove_script_host: false,\n        document_base_url: window.baseUrl('/'),\n        end_container_on_empty_block: true,\n        remove_trailing_brs: false,\n        statusbar: false,\n        menubar: false,\n        paste_data_images: false,\n        extended_valid_elements: 'pre[*],svg[*],div[drawio-diagram],details[*],summary[*],div[*],li[class|checked|style]',\n        automatic_uploads: false,\n        custom_elements: 'doc-root,code-block',\n        valid_children: [\n            '-div[p|h1|h2|h3|h4|h5|h6|blockquote|code-block]',\n            '+div[pre|img]',\n            '-doc-root[doc-root|#text]',\n            '-li[details]',\n            '+code-block[pre]',\n            '+doc-root[p|h1|h2|h3|h4|h5|h6|blockquote|code-block|div|hr]',\n        ].join(','),\n        plugins: gatherPlugins(options),\n        contextmenu: false,\n        toolbar: getPrimaryToolbar(options),\n        content_style: getContentStyle(options),\n        style_formats: styleFormats,\n        style_formats_merge: false,\n        media_alt_source: false,\n        media_poster: false,\n        formats,\n        table_style_by_css: true,\n        table_use_colgroups: true,\n        file_picker_types: 'file image',\n        color_map: colorMap,\n        file_picker_callback: filePickerCallback,\n        paste_preprocess(plugin, args) {\n            const {content} = args;\n            if (content.indexOf('<img src=\"file://') !== -1) {\n                args.content = '';\n            }\n        },\n        init_instance_callback(editor) {\n            const head = editor.getDoc().querySelector('head');\n            head.innerHTML += fetchCustomHeadContent();\n        },\n        setup(editor) {\n            registerCustomIcons(editor);\n            registerAdditionalToolbars(editor);\n            getSetupCallback(options)(editor);\n        },\n    };\n}\n\n/**\n * @typedef {Object} WysiwygConfigOptions\n * @property {Element} containerElement\n * @property {string} language\n * @property {boolean} darkMode\n * @property {string} textDirection\n * @property {string} drawioUrl\n * @property {int} pageId\n * @property {Object} translations\n * @property {Object} translationMap\n */\n", "import {build as buildEditorConfig} from '../wysiwyg/config';\nimport {Component} from './component';\n\nexport class WysiwygEditor extends Component {\n\n    setup() {\n        this.elem = this.$el;\n\n        this.pageId = this.$opts.pageId;\n        this.textDirection = this.$opts.textDirection;\n        this.isDarkMode = document.documentElement.classList.contains('dark-mode');\n\n        this.tinyMceConfig = buildEditorConfig({\n            language: this.$opts.language,\n            containerElement: this.elem,\n            darkMode: this.isDarkMode,\n            textDirection: this.textDirection,\n            drawioUrl: this.getDrawIoUrl(),\n            pageId: Number(this.pageId),\n            translations: {\n                imageUploadErrorText: this.$opts.imageUploadErrorText,\n                serverUploadLimitText: this.$opts.serverUploadLimitText,\n            },\n            translationMap: window.editor_translations,\n        });\n\n        window.$events.emitPublic(this.elem, 'editor-tinymce::pre-init', {config: this.tinyMceConfig});\n        window.tinymce.init(this.tinyMceConfig).then(editors => {\n            this.editor = editors[0];\n        });\n    }\n\n    getDrawIoUrl() {\n        const drawioUrlElem = document.querySelector('[drawio-url]');\n        if (drawioUrlElem) {\n            return drawioUrlElem.getAttribute('drawio-url');\n        }\n        return '';\n    }\n\n    /**\n     * Get the content of this editor.\n     * Used by the parent page editor component.\n     * @return {{html: String}}\n     */\n    getContent() {\n        return {\n            html: this.editor.getContent(),\n        };\n    }\n\n}\n", "import * as events from './services/events';\nimport * as httpInstance from './services/http';\nimport Translations from './services/translations';\n\nimport * as components from './services/components';\nimport * as componentMap from './components';\n\n// Url retrieval function\nwindow.baseUrl = function baseUrl(path) {\n    let targetPath = path;\n    let basePath = document.querySelector('meta[name=\"base-url\"]').getAttribute('content');\n    if (basePath[basePath.length - 1] === '/') basePath = basePath.slice(0, basePath.length - 1);\n    if (targetPath[0] === '/') targetPath = targetPath.slice(1);\n    return `${basePath}/${targetPath}`;\n};\n\nwindow.importVersioned = function importVersioned(moduleName) {\n    const version = document.querySelector('link[href*=\"/dist/styles.css?version=\"]').href.split('?version=').pop();\n    const importPath = window.baseUrl(`dist/${moduleName}.js?version=${version}`);\n    return import(importPath);\n};\n\n// Set events and http services on window\nwindow.$http = httpInstance;\nwindow.$events = events;\n\n// Translation setup\n// Creates a global function with name 'trans' to be used in the same way as the Laravel translation system\nconst translator = new Translations();\nwindow.trans = translator.get.bind(translator);\nwindow.trans_choice = translator.getPlural.bind(translator);\nwindow.trans_plural = translator.parsePlural.bind(translator);\n\n// Load & initialise components\ncomponents.register(componentMap);\nwindow.$components = components;\ncomponents.init();\n"],
  "mappings": "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",
  "names": ["require_entities", "encode", "decode", "require_regex", "require_regex", "require_regex", "require_regex", "escapeHtml", "escapeHtml", "options", "options", "index", "index", "stack", "first", "require_linkify", "options", "set", "error", "array", "index", "punycode", "MarkdownIt", "options", "options", "index", "options", "get", "get", "components_exports", "tagName", "wrap", "clone", "elem", "elem", "newIndex", "obj", "tagName", "options", "index", "elem", "option", "defaults", "rootEl", "cloneEl", "oldIndex", "newIndex", "oldDraggableIndex", "newDraggableIndex", "putSortable", "pluginEvent", "_detectDirection", "_dragElInRowColumn", "_detectNearestEmptySortable", "_prepareGroup", "dragEl", "_hideGhostForTarget", "_unhideGhostForTarget", "nearestEmptyInsertDetectEvent", "_checkOutsideTargetEl", "dragStartFn", "target", "after", "nextSibling", "el", "plugins", "dragStarted", "drop", "autoScroll", "onSpill", "dragEl", "clone", "rootEl", "dragStarted", "parentEl", "putSortable", "options", "drop", "oldIndex", "index", "newIndex", "elem", "index", "sort", "elem", "error", "show", "upload", "option", "MarkdownIt", "mdTasksLists", "tagName", "options", "parentNode", "index", "isElement", "vnode", "isDocumentFragment", "map", "init", "options", "listeners", "patch", "vnode", "init", "show", "wrap", "index", "request", "get", "get", "error", "error", "line", "newLineContent", "selectFrom", "formats", "matches", "scrollEl", "listeners", "listen", "init", "init", "listen", "init", "show", "elem", "elem", "show", "show", "index", "newIndex", "show", "elem", "map", "dragEl", "register", "formats", "listen", "options", "dragStart", "drop", "options", "elem", "register", "error", "register", "getPlugin", "register", "parentNode", "getPlugin", "register", "getPlugin", "register", "getPlugin", "register", "getPlugin", "register", "getPlugin", "options", "plugins", "getPlugin", "listen", "register", "version", "version", "components_exports"]
}
